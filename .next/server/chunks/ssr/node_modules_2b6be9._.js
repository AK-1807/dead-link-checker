module.exports = {

"[project]/node_modules/next/dist/server/route-modules/app-page/module.compiled.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
if ("TURBOPACK compile-time falsy", 0) {
    "TURBOPACK unreachable";
} else {
    if ("TURBOPACK compile-time falsy", 0) {
        "TURBOPACK unreachable";
    } else {
        if ("TURBOPACK compile-time truthy", 1) {
            module.exports = __turbopack_require__("[externals]/next/dist/compiled/next-server/app-page.runtime.dev.js [external] (next/dist/compiled/next-server/app-page.runtime.dev.js, cjs)");
        } else {
            "TURBOPACK unreachable";
        }
    }
} //# sourceMappingURL=module.compiled.js.map
}}),
"[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
module.exports = __turbopack_require__("[project]/node_modules/next/dist/server/route-modules/app-page/module.compiled.js [app-ssr] (ecmascript)").vendored['react-ssr'].ReactJsxDevRuntime; //# sourceMappingURL=react-jsx-dev-runtime.js.map
}}),
"[project]/node_modules/@swc/helpers/cjs/_interop_require_default.cjs [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
exports._ = _interop_require_default;
}}),
"[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
module.exports = __turbopack_require__("[project]/node_modules/next/dist/server/route-modules/app-page/module.compiled.js [app-ssr] (ecmascript)").vendored['react-ssr'].ReactJsxRuntime; //# sourceMappingURL=react-jsx-runtime.js.map
}}),
"[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
module.exports = __turbopack_require__("[project]/node_modules/next/dist/server/route-modules/app-page/module.compiled.js [app-ssr] (ecmascript)").vendored['react-ssr'].React; //# sourceMappingURL=react.js.map
}}),
"[project]/node_modules/@swc/helpers/cjs/_interop_require_wildcard.cjs [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) return obj;
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") return {
        default: obj
    };
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) return cache.get(obj);
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) Object.defineProperty(newObj, key, desc);
            else newObj[key] = obj[key];
        }
    }
    newObj.default = obj;
    if (cache) cache.set(obj, newObj);
    return newObj;
}
exports._ = _interop_require_wildcard;
}}),
"[project]/node_modules/next/dist/shared/lib/router/utils/querystring.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
0 && (module.exports = {
    assign: null,
    searchParamsToUrlQuery: null,
    urlQueryToSearchParams: null
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    assign: function() {
        return assign;
    },
    searchParamsToUrlQuery: function() {
        return searchParamsToUrlQuery;
    },
    urlQueryToSearchParams: function() {
        return urlQueryToSearchParams;
    }
});
function searchParamsToUrlQuery(searchParams) {
    const query = {};
    searchParams.forEach((value, key)=>{
        if (typeof query[key] === 'undefined') {
            query[key] = value;
        } else if (Array.isArray(query[key])) {
            ;
            query[key].push(value);
        } else {
            query[key] = [
                query[key],
                value
            ];
        }
    });
    return query;
}
function stringifyUrlQueryParam(param) {
    if (typeof param === 'string' || typeof param === 'number' && !isNaN(param) || typeof param === 'boolean') {
        return String(param);
    } else {
        return '';
    }
}
function urlQueryToSearchParams(urlQuery) {
    const result = new URLSearchParams();
    Object.entries(urlQuery).forEach((param)=>{
        let [key, value] = param;
        if (Array.isArray(value)) {
            value.forEach((item)=>result.append(key, stringifyUrlQueryParam(item)));
        } else {
            result.set(key, stringifyUrlQueryParam(value));
        }
    });
    return result;
}
function assign(target) {
    for(var _len = arguments.length, searchParamsList = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){
        searchParamsList[_key - 1] = arguments[_key];
    }
    searchParamsList.forEach((searchParams)=>{
        Array.from(searchParams.keys()).forEach((key)=>target.delete(key));
        searchParams.forEach((value, key)=>target.append(key, value));
    });
    return target;
} //# sourceMappingURL=querystring.js.map
}}),
"[project]/node_modules/next/dist/shared/lib/router/utils/format-url.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
// Format function modified from nodejs
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
0 && (module.exports = {
    formatUrl: null,
    formatWithValidation: null,
    urlObjectKeys: null
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    formatUrl: function() {
        return formatUrl;
    },
    formatWithValidation: function() {
        return formatWithValidation;
    },
    urlObjectKeys: function() {
        return urlObjectKeys;
    }
});
const _interop_require_wildcard = __turbopack_require__("[project]/node_modules/@swc/helpers/cjs/_interop_require_wildcard.cjs [app-ssr] (ecmascript)");
const _querystring = /*#__PURE__*/ _interop_require_wildcard._(__turbopack_require__("[project]/node_modules/next/dist/shared/lib/router/utils/querystring.js [app-ssr] (ecmascript)"));
const slashedProtocols = /https?|ftp|gopher|file/;
function formatUrl(urlObj) {
    let { auth, hostname } = urlObj;
    let protocol = urlObj.protocol || '';
    let pathname = urlObj.pathname || '';
    let hash = urlObj.hash || '';
    let query = urlObj.query || '';
    let host = false;
    auth = auth ? encodeURIComponent(auth).replace(/%3A/i, ':') + '@' : '';
    if (urlObj.host) {
        host = auth + urlObj.host;
    } else if (hostname) {
        host = auth + (~hostname.indexOf(':') ? "[" + hostname + "]" : hostname);
        if (urlObj.port) {
            host += ':' + urlObj.port;
        }
    }
    if (query && typeof query === 'object') {
        query = String(_querystring.urlQueryToSearchParams(query));
    }
    let search = urlObj.search || query && "?" + query || '';
    if (protocol && !protocol.endsWith(':')) protocol += ':';
    if (urlObj.slashes || (!protocol || slashedProtocols.test(protocol)) && host !== false) {
        host = '//' + (host || '');
        if (pathname && pathname[0] !== '/') pathname = '/' + pathname;
    } else if (!host) {
        host = '';
    }
    if (hash && hash[0] !== '#') hash = '#' + hash;
    if (search && search[0] !== '?') search = '?' + search;
    pathname = pathname.replace(/[?#]/g, encodeURIComponent);
    search = search.replace('#', '%23');
    return "" + protocol + host + pathname + search + hash;
}
const urlObjectKeys = [
    'auth',
    'hash',
    'host',
    'hostname',
    'href',
    'path',
    'pathname',
    'port',
    'protocol',
    'query',
    'search',
    'slashes'
];
function formatWithValidation(url) {
    if ("TURBOPACK compile-time truthy", 1) {
        if (url !== null && typeof url === 'object') {
            Object.keys(url).forEach((key)=>{
                if (!urlObjectKeys.includes(key)) {
                    console.warn("Unknown key passed via urlObject into url.format: " + key);
                }
            });
        }
    }
    return formatUrl(url);
} //# sourceMappingURL=format-url.js.map
}}),
"[project]/node_modules/next/dist/server/route-modules/app-page/vendored/contexts/app-router-context.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
module.exports = __turbopack_require__("[project]/node_modules/next/dist/server/route-modules/app-page/module.compiled.js [app-ssr] (ecmascript)").vendored['contexts'].AppRouterContext; //# sourceMappingURL=app-router-context.js.map
}}),
"[project]/node_modules/next/dist/client/request-idle-callback.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
0 && (module.exports = {
    cancelIdleCallback: null,
    requestIdleCallback: null
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    cancelIdleCallback: function() {
        return cancelIdleCallback;
    },
    requestIdleCallback: function() {
        return requestIdleCallback;
    }
});
const requestIdleCallback = typeof self !== 'undefined' && self.requestIdleCallback && self.requestIdleCallback.bind(window) || function(cb) {
    let start = Date.now();
    return self.setTimeout(function() {
        cb({
            didTimeout: false,
            timeRemaining: function() {
                return Math.max(0, 50 - (Date.now() - start));
            }
        });
    }, 1);
};
const cancelIdleCallback = typeof self !== 'undefined' && self.cancelIdleCallback && self.cancelIdleCallback.bind(window) || function(id) {
    return clearTimeout(id);
};
if ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {
    Object.defineProperty(exports.default, '__esModule', {
        value: true
    });
    Object.assign(exports.default, exports);
    module.exports = exports.default;
} //# sourceMappingURL=request-idle-callback.js.map
}}),
"[project]/node_modules/next/dist/client/use-intersection.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "useIntersection", {
    enumerable: true,
    get: function() {
        return useIntersection;
    }
});
const _react = __turbopack_require__("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
const _requestidlecallback = __turbopack_require__("[project]/node_modules/next/dist/client/request-idle-callback.js [app-ssr] (ecmascript)");
const hasIntersectionObserver = typeof IntersectionObserver === 'function';
const observers = new Map();
const idList = [];
function createObserver(options) {
    const id = {
        root: options.root || null,
        margin: options.rootMargin || ''
    };
    const existing = idList.find((obj)=>obj.root === id.root && obj.margin === id.margin);
    let instance;
    if (existing) {
        instance = observers.get(existing);
        if (instance) {
            return instance;
        }
    }
    const elements = new Map();
    const observer = new IntersectionObserver((entries)=>{
        entries.forEach((entry)=>{
            const callback = elements.get(entry.target);
            const isVisible = entry.isIntersecting || entry.intersectionRatio > 0;
            if (callback && isVisible) {
                callback(isVisible);
            }
        });
    }, options);
    instance = {
        id,
        observer,
        elements
    };
    idList.push(id);
    observers.set(id, instance);
    return instance;
}
function observe(element, callback, options) {
    const { id, observer, elements } = createObserver(options);
    elements.set(element, callback);
    observer.observe(element);
    return function unobserve() {
        elements.delete(element);
        observer.unobserve(element);
        // Destroy observer when there's nothing left to watch:
        if (elements.size === 0) {
            observer.disconnect();
            observers.delete(id);
            const index = idList.findIndex((obj)=>obj.root === id.root && obj.margin === id.margin);
            if (index > -1) {
                idList.splice(index, 1);
            }
        }
    };
}
function useIntersection(param) {
    let { rootRef, rootMargin, disabled } = param;
    const isDisabled = disabled || !hasIntersectionObserver;
    const [visible, setVisible] = (0, _react.useState)(false);
    const elementRef = (0, _react.useRef)(null);
    const setElement = (0, _react.useCallback)((element)=>{
        elementRef.current = element;
    }, []);
    (0, _react.useEffect)(()=>{
        if (hasIntersectionObserver) {
            if (isDisabled || visible) return;
            const element = elementRef.current;
            if (element && element.tagName) {
                const unobserve = observe(element, (isVisible)=>isVisible && setVisible(isVisible), {
                    root: rootRef == null ? void 0 : rootRef.current,
                    rootMargin
                });
                return unobserve;
            }
        } else {
            if (!visible) {
                const idleCallback = (0, _requestidlecallback.requestIdleCallback)(()=>setVisible(true));
                return ()=>(0, _requestidlecallback.cancelIdleCallback)(idleCallback);
            }
        }
    // eslint-disable-next-line react-hooks/exhaustive-deps
    }, [
        isDisabled,
        rootMargin,
        rootRef,
        visible,
        elementRef.current
    ]);
    const resetVisible = (0, _react.useCallback)(()=>{
        setVisible(false);
    }, []);
    return [
        setElement,
        visible,
        resetVisible
    ];
}
if ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {
    Object.defineProperty(exports.default, '__esModule', {
        value: true
    });
    Object.assign(exports.default, exports);
    module.exports = exports.default;
} //# sourceMappingURL=use-intersection.js.map
}}),
"[project]/node_modules/next/dist/client/components/router-reducer/router-reducer-types.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
0 && (module.exports = {
    ACTION_HMR_REFRESH: null,
    ACTION_NAVIGATE: null,
    ACTION_PREFETCH: null,
    ACTION_REFRESH: null,
    ACTION_RESTORE: null,
    ACTION_SERVER_ACTION: null,
    ACTION_SERVER_PATCH: null,
    PrefetchCacheEntryStatus: null,
    PrefetchKind: null
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    ACTION_HMR_REFRESH: function() {
        return ACTION_HMR_REFRESH;
    },
    ACTION_NAVIGATE: function() {
        return ACTION_NAVIGATE;
    },
    ACTION_PREFETCH: function() {
        return ACTION_PREFETCH;
    },
    ACTION_REFRESH: function() {
        return ACTION_REFRESH;
    },
    ACTION_RESTORE: function() {
        return ACTION_RESTORE;
    },
    ACTION_SERVER_ACTION: function() {
        return ACTION_SERVER_ACTION;
    },
    ACTION_SERVER_PATCH: function() {
        return ACTION_SERVER_PATCH;
    },
    PrefetchCacheEntryStatus: function() {
        return PrefetchCacheEntryStatus;
    },
    PrefetchKind: function() {
        return PrefetchKind;
    }
});
const ACTION_REFRESH = 'refresh';
const ACTION_NAVIGATE = 'navigate';
const ACTION_RESTORE = 'restore';
const ACTION_SERVER_PATCH = 'server-patch';
const ACTION_PREFETCH = 'prefetch';
const ACTION_HMR_REFRESH = 'hmr-refresh';
const ACTION_SERVER_ACTION = 'server-action';
var PrefetchKind = /*#__PURE__*/ function(PrefetchKind) {
    PrefetchKind["AUTO"] = "auto";
    PrefetchKind["FULL"] = "full";
    PrefetchKind["TEMPORARY"] = "temporary";
    return PrefetchKind;
}({});
var PrefetchCacheEntryStatus = /*#__PURE__*/ function(PrefetchCacheEntryStatus) {
    PrefetchCacheEntryStatus["fresh"] = "fresh";
    PrefetchCacheEntryStatus["reusable"] = "reusable";
    PrefetchCacheEntryStatus["expired"] = "expired";
    PrefetchCacheEntryStatus["stale"] = "stale";
    return PrefetchCacheEntryStatus;
}({});
if ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {
    Object.defineProperty(exports.default, '__esModule', {
        value: true
    });
    Object.assign(exports.default, exports);
    module.exports = exports.default;
} //# sourceMappingURL=router-reducer-types.js.map
}}),
"[project]/node_modules/next/dist/client/use-merged-ref.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "useMergedRef", {
    enumerable: true,
    get: function() {
        return useMergedRef;
    }
});
const _react = __turbopack_require__("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
function useMergedRef(refA, refB) {
    const cleanupA = (0, _react.useRef)(()=>{});
    const cleanupB = (0, _react.useRef)(()=>{});
    return (0, _react.useMemo)(()=>{
        if (!refA || !refB) {
            return refA || refB;
        }
        return (current)=>{
            if (current === null) {
                cleanupA.current();
                cleanupB.current();
            } else {
                cleanupA.current = applyRef(refA, current);
                cleanupB.current = applyRef(refB, current);
            }
        };
    }, [
        refA,
        refB
    ]);
}
function applyRef(refA, current) {
    if (typeof refA === 'function') {
        const cleanup = refA(current);
        if (typeof cleanup === 'function') {
            return cleanup;
        } else {
            return ()=>refA(null);
        }
    } else {
        refA.current = current;
        return ()=>{
            refA.current = null;
        };
    }
}
if ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {
    Object.defineProperty(exports.default, '__esModule', {
        value: true
    });
    Object.assign(exports.default, exports);
    module.exports = exports.default;
} //# sourceMappingURL=use-merged-ref.js.map
}}),
"[project]/node_modules/next/dist/shared/lib/utils.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
0 && (module.exports = {
    DecodeError: null,
    MiddlewareNotFoundError: null,
    MissingStaticPage: null,
    NormalizeError: null,
    PageNotFoundError: null,
    SP: null,
    ST: null,
    WEB_VITALS: null,
    execOnce: null,
    getDisplayName: null,
    getLocationOrigin: null,
    getURL: null,
    isAbsoluteUrl: null,
    isResSent: null,
    loadGetInitialProps: null,
    normalizeRepeatedSlashes: null,
    stringifyError: null
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    DecodeError: function() {
        return DecodeError;
    },
    MiddlewareNotFoundError: function() {
        return MiddlewareNotFoundError;
    },
    MissingStaticPage: function() {
        return MissingStaticPage;
    },
    NormalizeError: function() {
        return NormalizeError;
    },
    PageNotFoundError: function() {
        return PageNotFoundError;
    },
    SP: function() {
        return SP;
    },
    ST: function() {
        return ST;
    },
    WEB_VITALS: function() {
        return WEB_VITALS;
    },
    execOnce: function() {
        return execOnce;
    },
    getDisplayName: function() {
        return getDisplayName;
    },
    getLocationOrigin: function() {
        return getLocationOrigin;
    },
    getURL: function() {
        return getURL;
    },
    isAbsoluteUrl: function() {
        return isAbsoluteUrl;
    },
    isResSent: function() {
        return isResSent;
    },
    loadGetInitialProps: function() {
        return loadGetInitialProps;
    },
    normalizeRepeatedSlashes: function() {
        return normalizeRepeatedSlashes;
    },
    stringifyError: function() {
        return stringifyError;
    }
});
const WEB_VITALS = [
    'CLS',
    'FCP',
    'FID',
    'INP',
    'LCP',
    'TTFB'
];
function execOnce(fn) {
    let used = false;
    let result;
    return function() {
        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){
            args[_key] = arguments[_key];
        }
        if (!used) {
            used = true;
            result = fn(...args);
        }
        return result;
    };
}
// Scheme: https://tools.ietf.org/html/rfc3986#section-3.1
// Absolute URL: https://tools.ietf.org/html/rfc3986#section-4.3
const ABSOLUTE_URL_REGEX = /^[a-zA-Z][a-zA-Z\d+\-.]*?:/;
const isAbsoluteUrl = (url)=>ABSOLUTE_URL_REGEX.test(url);
function getLocationOrigin() {
    const { protocol, hostname, port } = window.location;
    return protocol + "//" + hostname + (port ? ':' + port : '');
}
function getURL() {
    const { href } = window.location;
    const origin = getLocationOrigin();
    return href.substring(origin.length);
}
function getDisplayName(Component) {
    return typeof Component === 'string' ? Component : Component.displayName || Component.name || 'Unknown';
}
function isResSent(res) {
    return res.finished || res.headersSent;
}
function normalizeRepeatedSlashes(url) {
    const urlParts = url.split('?');
    const urlNoQuery = urlParts[0];
    return urlNoQuery // first we replace any non-encoded backslashes with forward
    // then normalize repeated forward slashes
    .replace(/\\/g, '/').replace(/\/\/+/g, '/') + (urlParts[1] ? "?" + urlParts.slice(1).join('?') : '');
}
async function loadGetInitialProps(App, ctx) {
    if ("TURBOPACK compile-time truthy", 1) {
        var _App_prototype;
        if ((_App_prototype = App.prototype) == null ? void 0 : _App_prototype.getInitialProps) {
            const message = '"' + getDisplayName(App) + '.getInitialProps()" is defined as an instance method - visit https://nextjs.org/docs/messages/get-initial-props-as-an-instance-method for more information.';
            throw new Error(message);
        }
    }
    // when called from _app `ctx` is nested in `ctx`
    const res = ctx.res || ctx.ctx && ctx.ctx.res;
    if (!App.getInitialProps) {
        if (ctx.ctx && ctx.Component) {
            // @ts-ignore pageProps default
            return {
                pageProps: await loadGetInitialProps(ctx.Component, ctx.ctx)
            };
        }
        return {};
    }
    const props = await App.getInitialProps(ctx);
    if (res && isResSent(res)) {
        return props;
    }
    if (!props) {
        const message = '"' + getDisplayName(App) + '.getInitialProps()" should resolve to an object. But found "' + props + '" instead.';
        throw new Error(message);
    }
    if ("TURBOPACK compile-time truthy", 1) {
        if (Object.keys(props).length === 0 && !ctx.ctx) {
            console.warn("" + getDisplayName(App) + " returned an empty object from `getInitialProps`. This de-optimizes and prevents automatic static optimization. https://nextjs.org/docs/messages/empty-object-getInitialProps");
        }
    }
    return props;
}
const SP = typeof performance !== 'undefined';
const ST = SP && [
    'mark',
    'measure',
    'getEntriesByName'
].every((method)=>typeof performance[method] === 'function');
class DecodeError extends Error {
}
class NormalizeError extends Error {
}
class PageNotFoundError extends Error {
    constructor(page){
        super();
        this.code = 'ENOENT';
        this.name = 'PageNotFoundError';
        this.message = "Cannot find module for page: " + page;
    }
}
class MissingStaticPage extends Error {
    constructor(page, message){
        super();
        this.message = "Failed to load static file for page: " + page + " " + message;
    }
}
class MiddlewareNotFoundError extends Error {
    constructor(){
        super();
        this.code = 'ENOENT';
        this.message = "Cannot find the middleware module";
    }
}
function stringifyError(error) {
    return JSON.stringify({
        message: error.message,
        stack: error.stack
    });
} //# sourceMappingURL=utils.js.map
}}),
"[project]/node_modules/next/dist/shared/lib/router/utils/parse-path.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
/**
 * Given a path this function will find the pathname, query and hash and return
 * them. This is useful to parse full paths on the client side.
 * @param path A path to parse e.g. /foo/bar?id=1#hash
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "parsePath", {
    enumerable: true,
    get: function() {
        return parsePath;
    }
});
function parsePath(path) {
    const hashIndex = path.indexOf('#');
    const queryIndex = path.indexOf('?');
    const hasQuery = queryIndex > -1 && (hashIndex < 0 || queryIndex < hashIndex);
    if (hasQuery || hashIndex > -1) {
        return {
            pathname: path.substring(0, hasQuery ? queryIndex : hashIndex),
            query: hasQuery ? path.substring(queryIndex, hashIndex > -1 ? hashIndex : undefined) : '',
            hash: hashIndex > -1 ? path.slice(hashIndex) : ''
        };
    }
    return {
        pathname: path,
        query: '',
        hash: ''
    };
} //# sourceMappingURL=parse-path.js.map
}}),
"[project]/node_modules/next/dist/shared/lib/router/utils/add-path-prefix.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "addPathPrefix", {
    enumerable: true,
    get: function() {
        return addPathPrefix;
    }
});
const _parsepath = __turbopack_require__("[project]/node_modules/next/dist/shared/lib/router/utils/parse-path.js [app-ssr] (ecmascript)");
function addPathPrefix(path, prefix) {
    if (!path.startsWith('/') || !prefix) {
        return path;
    }
    const { pathname, query, hash } = (0, _parsepath.parsePath)(path);
    return "" + prefix + pathname + query + hash;
} //# sourceMappingURL=add-path-prefix.js.map
}}),
"[project]/node_modules/next/dist/shared/lib/router/utils/remove-trailing-slash.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
/**
 * Removes the trailing slash for a given route or page path. Preserves the
 * root page. Examples:
 *   - `/foo/bar/` -> `/foo/bar`
 *   - `/foo/bar` -> `/foo/bar`
 *   - `/` -> `/`
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "removeTrailingSlash", {
    enumerable: true,
    get: function() {
        return removeTrailingSlash;
    }
});
function removeTrailingSlash(route) {
    return route.replace(/\/$/, '') || '/';
} //# sourceMappingURL=remove-trailing-slash.js.map
}}),
"[project]/node_modules/next/dist/client/normalize-trailing-slash.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "normalizePathTrailingSlash", {
    enumerable: true,
    get: function() {
        return normalizePathTrailingSlash;
    }
});
const _removetrailingslash = __turbopack_require__("[project]/node_modules/next/dist/shared/lib/router/utils/remove-trailing-slash.js [app-ssr] (ecmascript)");
const _parsepath = __turbopack_require__("[project]/node_modules/next/dist/shared/lib/router/utils/parse-path.js [app-ssr] (ecmascript)");
const normalizePathTrailingSlash = (path)=>{
    if (!path.startsWith('/') || process.env.__NEXT_MANUAL_TRAILING_SLASH) {
        return path;
    }
    const { pathname, query, hash } = (0, _parsepath.parsePath)(path);
    if ("TURBOPACK compile-time falsy", 0) {
        "TURBOPACK unreachable";
    }
    return "" + (0, _removetrailingslash.removeTrailingSlash)(pathname) + query + hash;
};
if ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {
    Object.defineProperty(exports.default, '__esModule', {
        value: true
    });
    Object.assign(exports.default, exports);
    module.exports = exports.default;
} //# sourceMappingURL=normalize-trailing-slash.js.map
}}),
"[project]/node_modules/next/dist/client/add-base-path.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "addBasePath", {
    enumerable: true,
    get: function() {
        return addBasePath;
    }
});
const _addpathprefix = __turbopack_require__("[project]/node_modules/next/dist/shared/lib/router/utils/add-path-prefix.js [app-ssr] (ecmascript)");
const _normalizetrailingslash = __turbopack_require__("[project]/node_modules/next/dist/client/normalize-trailing-slash.js [app-ssr] (ecmascript)");
const basePath = ("TURBOPACK compile-time value", "") || '';
function addBasePath(path, required) {
    return (0, _normalizetrailingslash.normalizePathTrailingSlash)(("TURBOPACK compile-time falsy", 0) ? ("TURBOPACK unreachable", undefined) : (0, _addpathprefix.addPathPrefix)(path, basePath));
}
if ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {
    Object.defineProperty(exports.default, '__esModule', {
        value: true
    });
    Object.assign(exports.default, exports);
    module.exports = exports.default;
} //# sourceMappingURL=add-base-path.js.map
}}),
"[project]/node_modules/next/dist/shared/lib/utils/warn-once.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "warnOnce", {
    enumerable: true,
    get: function() {
        return warnOnce;
    }
});
let warnOnce = (_)=>{};
if ("TURBOPACK compile-time truthy", 1) {
    const warnings = new Set();
    warnOnce = (msg)=>{
        if (!warnings.has(msg)) {
            console.warn(msg);
        }
        warnings.add(msg);
    };
} //# sourceMappingURL=warn-once.js.map
}}),
"[project]/node_modules/next/dist/client/app-dir/link.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _interop_require_default = __turbopack_require__("[project]/node_modules/@swc/helpers/cjs/_interop_require_default.cjs [app-ssr] (ecmascript)");
const _jsxruntime = __turbopack_require__("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js [app-ssr] (ecmascript)");
const _react = /*#__PURE__*/ _interop_require_default._(__turbopack_require__("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)"));
const _formaturl = __turbopack_require__("[project]/node_modules/next/dist/shared/lib/router/utils/format-url.js [app-ssr] (ecmascript)");
const _approutercontextsharedruntime = __turbopack_require__("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/contexts/app-router-context.js [app-ssr] (ecmascript)");
const _useintersection = __turbopack_require__("[project]/node_modules/next/dist/client/use-intersection.js [app-ssr] (ecmascript)");
const _routerreducertypes = __turbopack_require__("[project]/node_modules/next/dist/client/components/router-reducer/router-reducer-types.js [app-ssr] (ecmascript)");
const _usemergedref = __turbopack_require__("[project]/node_modules/next/dist/client/use-merged-ref.js [app-ssr] (ecmascript)");
const _utils = __turbopack_require__("[project]/node_modules/next/dist/shared/lib/utils.js [app-ssr] (ecmascript)");
const _addbasepath = __turbopack_require__("[project]/node_modules/next/dist/client/add-base-path.js [app-ssr] (ecmascript)");
const _warnonce = __turbopack_require__("[project]/node_modules/next/dist/shared/lib/utils/warn-once.js [app-ssr] (ecmascript)");
function prefetch(router, href, options) {
    if (typeof window === 'undefined') {
        return;
    }
    const doPrefetch = async ()=>{
        // note that `appRouter.prefetch()` is currently sync,
        // so we have to wrap this call in an async function to be able to catch() errors below.
        return router.prefetch(href, options);
    };
    // Prefetch the page if asked (only in the client)
    // We need to handle a prefetch error here since we may be
    // loading with priority which can reject but we don't
    // want to force navigation since this is only a prefetch
    doPrefetch().catch((err)=>{
        if (("TURBOPACK compile-time value", "development") !== 'production') {
            // rethrow to show invalid URL errors
            throw err;
        }
    });
}
function isModifiedEvent(event) {
    const eventTarget = event.currentTarget;
    const target = eventTarget.getAttribute('target');
    return target && target !== '_self' || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey || // triggers resource download
    event.nativeEvent && event.nativeEvent.which === 2;
}
function linkClicked(e, router, href, as, replace, shallow, scroll) {
    const { nodeName } = e.currentTarget;
    // anchors inside an svg have a lowercase nodeName
    const isAnchorNodeName = nodeName.toUpperCase() === 'A';
    if (isAnchorNodeName && isModifiedEvent(e)) {
        // ignore click for browser’s default behavior
        return;
    }
    e.preventDefault();
    const navigate = ()=>{
        // If the router is an NextRouter instance it will have `beforePopState`
        const routerScroll = scroll != null ? scroll : true;
        if ('beforePopState' in router) {
            router[replace ? 'replace' : 'push'](href, as, {
                shallow,
                scroll: routerScroll
            });
        } else {
            router[replace ? 'replace' : 'push'](as || href, {
                scroll: routerScroll
            });
        }
    };
    _react.default.startTransition(navigate);
}
function formatStringOrUrl(urlObjOrString) {
    if (typeof urlObjOrString === 'string') {
        return urlObjOrString;
    }
    return (0, _formaturl.formatUrl)(urlObjOrString);
}
/**
 * A React component that extends the HTML `<a>` element to provide [prefetching](https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating#2-prefetching)
 * and client-side navigation between routes.
 *
 * It is the primary way to navigate between routes in Next.js.
 *
 * Read more: [Next.js docs: `<Link>`](https://nextjs.org/docs/app/api-reference/components/link)
 */ const Link = /*#__PURE__*/ _react.default.forwardRef(function LinkComponent(props, forwardedRef) {
    let children;
    const { href: hrefProp, as: asProp, children: childrenProp, prefetch: prefetchProp = null, passHref, replace, shallow, scroll, onClick, onMouseEnter: onMouseEnterProp, onTouchStart: onTouchStartProp, legacyBehavior = false, ...restProps } = props;
    children = childrenProp;
    if (legacyBehavior && (typeof children === 'string' || typeof children === 'number')) {
        children = /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
            children: children
        });
    }
    const router = _react.default.useContext(_approutercontextsharedruntime.AppRouterContext);
    const prefetchEnabled = prefetchProp !== false;
    /**
     * The possible states for prefetch are:
     * - null: this is the default "auto" mode, where we will prefetch partially if the link is in the viewport
     * - true: we will prefetch if the link is visible and prefetch the full page, not just partially
     * - false: we will not prefetch if in the viewport at all
     */ const appPrefetchKind = prefetchProp === null ? _routerreducertypes.PrefetchKind.AUTO : _routerreducertypes.PrefetchKind.FULL;
    if ("TURBOPACK compile-time truthy", 1) {
        function createPropError(args) {
            return new Error("Failed prop type: The prop `" + args.key + "` expects a " + args.expected + " in `<Link>`, but got `" + args.actual + "` instead." + (typeof window !== 'undefined' ? "\nOpen your browser's console to view the Component stack trace." : ''));
        }
        // TypeScript trick for type-guarding:
        const requiredPropsGuard = {
            href: true
        };
        const requiredProps = Object.keys(requiredPropsGuard);
        requiredProps.forEach((key)=>{
            if (key === 'href') {
                if (props[key] == null || typeof props[key] !== 'string' && typeof props[key] !== 'object') {
                    throw createPropError({
                        key,
                        expected: '`string` or `object`',
                        actual: props[key] === null ? 'null' : typeof props[key]
                    });
                }
            } else {
                // TypeScript trick for type-guarding:
                // eslint-disable-next-line @typescript-eslint/no-unused-vars
                const _ = key;
            }
        });
        // TypeScript trick for type-guarding:
        const optionalPropsGuard = {
            as: true,
            replace: true,
            scroll: true,
            shallow: true,
            passHref: true,
            prefetch: true,
            onClick: true,
            onMouseEnter: true,
            onTouchStart: true,
            legacyBehavior: true
        };
        const optionalProps = Object.keys(optionalPropsGuard);
        optionalProps.forEach((key)=>{
            const valType = typeof props[key];
            if (key === 'as') {
                if (props[key] && valType !== 'string' && valType !== 'object') {
                    throw createPropError({
                        key,
                        expected: '`string` or `object`',
                        actual: valType
                    });
                }
            } else if (key === 'onClick' || key === 'onMouseEnter' || key === 'onTouchStart') {
                if (props[key] && valType !== 'function') {
                    throw createPropError({
                        key,
                        expected: '`function`',
                        actual: valType
                    });
                }
            } else if (key === 'replace' || key === 'scroll' || key === 'shallow' || key === 'passHref' || key === 'prefetch' || key === 'legacyBehavior') {
                if (props[key] != null && valType !== 'boolean') {
                    throw createPropError({
                        key,
                        expected: '`boolean`',
                        actual: valType
                    });
                }
            } else {
                // TypeScript trick for type-guarding:
                // eslint-disable-next-line @typescript-eslint/no-unused-vars
                const _ = key;
            }
        });
    }
    if ("TURBOPACK compile-time truthy", 1) {
        if (props.locale) {
            (0, _warnonce.warnOnce)('The `locale` prop is not supported in `next/link` while using the `app` router. Read more about app router internalization: https://nextjs.org/docs/app/building-your-application/routing/internationalization');
        }
        if (!asProp) {
            let href;
            if (typeof hrefProp === 'string') {
                href = hrefProp;
            } else if (typeof hrefProp === 'object' && typeof hrefProp.pathname === 'string') {
                href = hrefProp.pathname;
            }
            if (href) {
                const hasDynamicSegment = href.split('/').some((segment)=>segment.startsWith('[') && segment.endsWith(']'));
                if (hasDynamicSegment) {
                    throw new Error("Dynamic href `" + href + "` found in <Link> while using the `/app` router, this is not supported. Read more: https://nextjs.org/docs/messages/app-dir-dynamic-href");
                }
            }
        }
    }
    const { href, as } = _react.default.useMemo(()=>{
        const resolvedHref = formatStringOrUrl(hrefProp);
        return {
            href: resolvedHref,
            as: asProp ? formatStringOrUrl(asProp) : resolvedHref
        };
    }, [
        hrefProp,
        asProp
    ]);
    const previousHref = _react.default.useRef(href);
    const previousAs = _react.default.useRef(as);
    // This will return the first child, if multiple are provided it will throw an error
    let child;
    if (legacyBehavior) {
        if ("TURBOPACK compile-time truthy", 1) {
            if (onClick) {
                console.warn('"onClick" was passed to <Link> with `href` of `' + hrefProp + '` but "legacyBehavior" was set. The legacy behavior requires onClick be set on the child of next/link');
            }
            if (onMouseEnterProp) {
                console.warn('"onMouseEnter" was passed to <Link> with `href` of `' + hrefProp + '` but "legacyBehavior" was set. The legacy behavior requires onMouseEnter be set on the child of next/link');
            }
            try {
                child = _react.default.Children.only(children);
            } catch (err) {
                if (!children) {
                    throw new Error("No children were passed to <Link> with `href` of `" + hrefProp + "` but one child is required https://nextjs.org/docs/messages/link-no-children");
                }
                throw new Error("Multiple children were passed to <Link> with `href` of `" + hrefProp + "` but only one child is supported https://nextjs.org/docs/messages/link-multiple-children" + (typeof window !== 'undefined' ? " \nOpen your browser's console to view the Component stack trace." : ''));
            }
        } else {
            "TURBOPACK unreachable";
        }
    } else {
        if ("TURBOPACK compile-time truthy", 1) {
            if ((children == null ? void 0 : children.type) === 'a') {
                throw new Error('Invalid <Link> with <a> child. Please remove <a> or use <Link legacyBehavior>.\nLearn more: https://nextjs.org/docs/messages/invalid-new-link-with-extra-anchor');
            }
        }
    }
    const childRef = legacyBehavior ? child && typeof child === 'object' && child.ref : forwardedRef;
    const [setIntersectionRef, isVisible, resetVisible] = (0, _useintersection.useIntersection)({
        rootMargin: '200px'
    });
    const setIntersectionWithResetRef = _react.default.useCallback((el)=>{
        // Before the link getting observed, check if visible state need to be reset
        if (previousAs.current !== as || previousHref.current !== href) {
            resetVisible();
            previousAs.current = as;
            previousHref.current = href;
        }
        setIntersectionRef(el);
    }, [
        as,
        href,
        resetVisible,
        setIntersectionRef
    ]);
    const setRef = (0, _usemergedref.useMergedRef)(setIntersectionWithResetRef, childRef);
    // Prefetch the URL if we haven't already and it's visible.
    _react.default.useEffect(()=>{
        // in dev, we only prefetch on hover to avoid wasting resources as the prefetch will trigger compiling the page.
        if ("TURBOPACK compile-time truthy", 1) {
            return;
        }
        "TURBOPACK unreachable";
    }, [
        as,
        href,
        isVisible,
        prefetchEnabled,
        router,
        appPrefetchKind
    ]);
    const childProps = {
        ref: setRef,
        onClick (e) {
            if ("TURBOPACK compile-time truthy", 1) {
                if (!e) {
                    throw new Error('Component rendered inside next/link has to pass click event to "onClick" prop.');
                }
            }
            if (!legacyBehavior && typeof onClick === 'function') {
                onClick(e);
            }
            if (legacyBehavior && child.props && typeof child.props.onClick === 'function') {
                child.props.onClick(e);
            }
            if (!router) {
                return;
            }
            if (e.defaultPrevented) {
                return;
            }
            linkClicked(e, router, href, as, replace, shallow, scroll);
        },
        onMouseEnter (e) {
            if (!legacyBehavior && typeof onMouseEnterProp === 'function') {
                onMouseEnterProp(e);
            }
            if (legacyBehavior && child.props && typeof child.props.onMouseEnter === 'function') {
                child.props.onMouseEnter(e);
            }
            if (!router) {
                return;
            }
            if ("TURBOPACK compile-time truthy", 1) {
                return;
            }
            "TURBOPACK unreachable";
        },
        onTouchStart: ("TURBOPACK compile-time falsy", 0) ? ("TURBOPACK unreachable", undefined) : function onTouchStart(e) {
            if (!legacyBehavior && typeof onTouchStartProp === 'function') {
                onTouchStartProp(e);
            }
            if (legacyBehavior && child.props && typeof child.props.onTouchStart === 'function') {
                child.props.onTouchStart(e);
            }
            if (!router) {
                return;
            }
            if (!prefetchEnabled) {
                return;
            }
            prefetch(router, href, {
                kind: appPrefetchKind
            });
        }
    };
    // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is
    // defined, we specify the current 'href', so that repetition is not needed by the user.
    // If the url is absolute, we can bypass the logic to prepend the basePath.
    if ((0, _utils.isAbsoluteUrl)(as)) {
        childProps.href = as;
    } else if (!legacyBehavior || passHref || child.type === 'a' && !('href' in child.props)) {
        childProps.href = (0, _addbasepath.addBasePath)(as);
    }
    return legacyBehavior ? /*#__PURE__*/ _react.default.cloneElement(child, childProps) : /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
        ...restProps,
        ...childProps,
        children: children
    });
});
const _default = Link;
if ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {
    Object.defineProperty(exports.default, '__esModule', {
        value: true
    });
    Object.assign(exports.default, exports);
    module.exports = exports.default;
} //# sourceMappingURL=link.js.map
}}),
"[project]/node_modules/posthog-js/dist/module.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "COPY_AUTOCAPTURE_EVENT": (()=>v),
    "Compression": (()=>e),
    "PostHog": (()=>co),
    "SurveyQuestionBranchingType": (()=>Rr),
    "SurveyQuestionType": (()=>Pr),
    "SurveyType": (()=>Cr),
    "default": (()=>_o),
    "knownUnsafeEditableEvent": (()=>g),
    "posthog": (()=>_o),
    "severityLevels": (()=>f)
});
var e, t = "undefined" != typeof window ? window : void 0, i = "undefined" != typeof globalThis ? globalThis : t, n = Array.prototype, r = n.forEach, s = n.indexOf, o = null == i ? void 0 : i.navigator, a = null == i ? void 0 : i.document, l = null == i ? void 0 : i.location, u = null == i ? void 0 : i.fetch, c = null != i && i.XMLHttpRequest && "withCredentials" in new i.XMLHttpRequest ? i.XMLHttpRequest : void 0, d = null == i ? void 0 : i.AbortController, h = null == o ? void 0 : o.userAgent, _ = null != t ? t : {}, p = {
    DEBUG: !1,
    LIB_VERSION: "1.203.2"
}, v = "$copy_autocapture", g = [
    "$snapshot",
    "$pageview",
    "$pageleave",
    "$set",
    "survey dismissed",
    "survey sent",
    "survey shown",
    "$identify",
    "$groupidentify",
    "$create_alias",
    "$$client_ingestion_warning",
    "$web_experiment_applied",
    "$feature_enrollment_update",
    "$feature_flag_called"
];
!function(e) {
    e.GZipJS = "gzip-js", e.Base64 = "base64";
}(e || (e = {}));
var f = [
    "fatal",
    "error",
    "warning",
    "log",
    "info",
    "debug"
];
function m(e, t) {
    return -1 !== e.indexOf(t);
}
var b = function(e) {
    return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
}, y = function(e) {
    return e.replace(/^\$/, "");
};
var w = Array.isArray, S = Object.prototype, E = S.hasOwnProperty, k = S.toString, x = w || function(e) {
    return "[object Array]" === k.call(e);
}, I = (e)=>"function" == typeof e, C = (e)=>e === Object(e) && !x(e), P = (e)=>{
    if (C(e)) {
        for(var t in e)if (E.call(e, t)) return !1;
        return !0;
    }
    return !1;
}, R = (e)=>void 0 === e, F = (e)=>"[object String]" == k.call(e), T = (e)=>F(e) && 0 === e.trim().length, $ = (e)=>null === e, O = (e)=>R(e) || $(e), L = (e)=>"[object Number]" == k.call(e), M = (e)=>"[object Boolean]" === k.call(e), A = (e)=>e instanceof FormData, D = (e)=>m(g, e), N = (e)=>{
    var i = {
        _log: function(i) {
            if (t && (p.DEBUG || _.POSTHOG_DEBUG) && !R(t.console) && t.console) {
                for(var n = ("__rrweb_original__" in t.console[i]) ? t.console[i].__rrweb_original__ : t.console[i], r = arguments.length, s = new Array(r > 1 ? r - 1 : 0), o = 1; o < r; o++)s[o - 1] = arguments[o];
                n(e, ...s);
            }
        },
        info: function() {
            for(var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n];
            i._log("log", ...t);
        },
        warn: function() {
            for(var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n];
            i._log("warn", ...t);
        },
        error: function() {
            for(var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n];
            i._log("error", ...t);
        },
        critical: function() {
            for(var t = arguments.length, i = new Array(t), n = 0; n < t; n++)i[n] = arguments[n];
            console.error(e, ...i);
        },
        uninitializedWarning: (e)=>{
            i.error("You must initialize PostHog before calling ".concat(e));
        },
        createLogger: (t)=>N("".concat(e, " ").concat(t))
    };
    return i;
}, q = N("[PostHog.js]"), B = q.createLogger, H = B("[ExternalScriptsLoader]"), U = (e, t, i)=>{
    if (e.config.disable_external_dependency_loading) return H.warn("".concat(t, " was requested but loading of external scripts is disabled.")), i("Loading of external scripts is disabled");
    var n = ()=>{
        if (!a) return i("document not found");
        var n = a.createElement("script");
        if (n.type = "text/javascript", n.crossOrigin = "anonymous", n.src = t, n.onload = (e)=>i(void 0, e), n.onerror = (e)=>i(e), e.config.prepare_external_dependency_script && (n = e.config.prepare_external_dependency_script(n)), !n) return i("prepare_external_dependency_script returned null");
        var r, s = a.querySelectorAll("body > script");
        s.length > 0 ? null === (r = s[0].parentNode) || void 0 === r || r.insertBefore(n, s[0]) : a.body.appendChild(n);
    };
    null != a && a.body ? n() : null == a || a.addEventListener("DOMContentLoaded", n);
};
function z(e, t) {
    var i = Object.keys(e);
    if (Object.getOwnPropertySymbols) {
        var n = Object.getOwnPropertySymbols(e);
        t && (n = n.filter(function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable;
        })), i.push.apply(i, n);
    }
    return i;
}
function j(e) {
    for(var t = 1; t < arguments.length; t++){
        var i = null != arguments[t] ? arguments[t] : {};
        t % 2 ? z(Object(i), !0).forEach(function(t) {
            W(e, t, i[t]);
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(i)) : z(Object(i)).forEach(function(t) {
            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(i, t));
        });
    }
    return e;
}
function W(e, t, i) {
    return t in e ? Object.defineProperty(e, t, {
        value: i,
        enumerable: !0,
        configurable: !0,
        writable: !0
    }) : e[t] = i, e;
}
function G(e, t) {
    if (null == e) return {};
    var i, n, r = function(e, t) {
        if (null == e) return {};
        var i, n, r = {}, s = Object.keys(e);
        for(n = 0; n < s.length; n++)i = s[n], t.indexOf(i) >= 0 || (r[i] = e[i]);
        return r;
    }(e, t);
    if (Object.getOwnPropertySymbols) {
        var s = Object.getOwnPropertySymbols(e);
        for(n = 0; n < s.length; n++)i = s[n], t.indexOf(i) >= 0 || Object.prototype.propertyIsEnumerable.call(e, i) && (r[i] = e[i]);
    }
    return r;
}
_.__PosthogExtensions__ = _.__PosthogExtensions__ || {}, _.__PosthogExtensions__.loadExternalDependency = (e, t, i)=>{
    var n = "/static/".concat(t, ".js") + "?v=".concat(e.version);
    if ("remote-config" === t && (n = "/array/".concat(e.config.token, "/config.js")), "toolbar" === t) {
        var r = 3e5, s = Math.floor(Date.now() / r) * r;
        n = "".concat(n, "&t=").concat(s);
    }
    var o = e.requestRouter.endpointFor("assets", n);
    U(e, o, i);
}, _.__PosthogExtensions__.loadSiteApp = (e, t, i)=>{
    var n = e.requestRouter.endpointFor("api", t);
    U(e, n, i);
};
var V = {};
function J(e, t, i) {
    if (x(e)) {
        if (r && e.forEach === r) e.forEach(t, i);
        else if ("length" in e && e.length === +e.length) {
            for(var n = 0, s = e.length; n < s; n++)if (n in e && t.call(i, e[n], n) === V) return;
        }
    }
}
function Y(e, t, i) {
    if (!O(e)) {
        if (x(e)) return J(e, t, i);
        if (A(e)) {
            for (var n of e.entries())if (t.call(i, n[1], n[0]) === V) return;
        } else for(var r in e)if (E.call(e, r) && t.call(i, e[r], r) === V) return;
    }
}
var K = function(e) {
    for(var t = arguments.length, i = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++)i[n - 1] = arguments[n];
    return J(i, function(t) {
        for(var i in t)void 0 !== t[i] && (e[i] = t[i]);
    }), e;
};
function X(e) {
    for(var t = Object.keys(e), i = t.length, n = new Array(i); i--;)n[i] = [
        t[i],
        e[t[i]]
    ];
    return n;
}
var Q = function(e) {
    try {
        return e();
    } catch (e) {
        return;
    }
}, Z = function(e) {
    return function() {
        try {
            for(var t = arguments.length, i = new Array(t), n = 0; n < t; n++)i[n] = arguments[n];
            return e.apply(this, i);
        } catch (e) {
            q.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."), q.critical(e);
        }
    };
}, ee = function(e) {
    var t = {};
    return Y(e, function(e, i) {
        F(e) && e.length > 0 && (t[i] = e);
    }), t;
};
function te(e, t) {
    return i = e, n = (e)=>F(e) && !$(t) ? e.slice(0, t) : e, r = new Set, function e(t, i) {
        return t !== Object(t) ? n ? n(t, i) : t : r.has(t) ? void 0 : (r.add(t), x(t) ? (s = [], J(t, (t)=>{
            s.push(e(t));
        })) : (s = {}, Y(t, (t, i)=>{
            r.has(t) || (s[i] = e(t, i));
        })), s);
        "TURBOPACK unreachable";
        var s;
    }(i);
    "TURBOPACK unreachable";
    var i, n, r;
}
var ie = function() {
    function e(t) {
        return t && (t.preventDefault = e.preventDefault, t.stopPropagation = e.stopPropagation), t;
    }
    return e.preventDefault = function() {
        this.returnValue = !1;
    }, e.stopPropagation = function() {
        this.cancelBubble = !0;
    }, function(i, n, r, s, o) {
        if (i) if (i.addEventListener && !s) i.addEventListener(n, r, !!o);
        else {
            var a = "on" + n, l = i[a];
            i[a] = function(i, n, r) {
                return function(s) {
                    if (s = s || e(null == t ? void 0 : t.event)) {
                        var o, a = !0;
                        I(r) && (o = r(s));
                        var l = n.call(i, s);
                        return !1 !== o && !1 !== l || (a = !1), a;
                    }
                };
            }(i, r, l);
        }
        else q.error("No valid element provided to register_event");
    };
}();
function ne(e, t) {
    for(var i = 0; i < e.length; i++)if (t(e[i])) return e[i];
}
var re = "$people_distinct_id", se = "__alias", oe = "__timers", ae = "$autocapture_disabled_server_side", le = "$heatmaps_enabled_server_side", ue = "$exception_capture_enabled_server_side", ce = "$web_vitals_enabled_server_side", de = "$dead_clicks_enabled_server_side", he = "$web_vitals_allowed_metrics", _e = "$session_recording_enabled_server_side", pe = "$console_log_recording_enabled_server_side", ve = "$session_recording_network_payload_capture", ge = "$session_recording_canvas_recording", fe = "$replay_sample_rate", me = "$replay_minimum_duration", be = "$replay_script_config", ye = "$sesid", we = "$session_is_sampled", Se = "$session_recording_url_trigger_activated_session", Ee = "$session_recording_event_trigger_activated_session", ke = "$enabled_feature_flags", xe = "$early_access_features", Ie = "$stored_person_properties", Ce = "$stored_group_properties", Pe = "$surveys", Re = "$surveys_activated", Fe = "$flag_call_reported", Te = "$user_state", $e = "$client_session_props", Oe = "$capture_rate_limit", Le = "$initial_campaign_params", Me = "$initial_referrer_info", Ae = "$initial_person_info", De = "$epp", Ne = "__POSTHOG_TOOLBAR__", qe = "$posthog_cklsh", Be = [
    re,
    se,
    "__cmpns",
    oe,
    _e,
    le,
    ye,
    ke,
    Te,
    xe,
    Ce,
    Ie,
    Pe,
    Fe,
    $e,
    Oe,
    Le,
    Me,
    De
], He = B("[FeatureFlags]"), Ue = "$active_feature_flags", ze = "$override_feature_flags", je = "$feature_flag_payloads", We = (e)=>{
    var t = {};
    for (var [i, n] of X(e || {}))n && (t[i] = n);
    return t;
};
class Ge {
    constructor(e){
        W(this, "_override_warning", !1), W(this, "_hasLoadedFlags", !1), W(this, "_requestInFlight", !1), W(this, "_reloadingDisabled", !1), W(this, "_additionalReloadRequested", !1), W(this, "_decideCalled", !1), W(this, "_flagsLoadedFromRemote", !1), this.instance = e, this.featureFlagEventHandlers = [];
    }
    decide() {
        if (this.instance.config.__preview_remote_config) this._decideCalled = !0;
        else {
            var e = !this._reloadDebouncer && (this.instance.config.advanced_disable_feature_flags || this.instance.config.advanced_disable_feature_flags_on_first_load);
            this._callDecideEndpoint({
                disableFlags: e
            });
        }
    }
    get hasLoadedFlags() {
        return this._hasLoadedFlags;
    }
    getFlags() {
        return Object.keys(this.getFlagVariants());
    }
    getFlagVariants() {
        var e = this.instance.get_property(ke), t = this.instance.get_property(ze);
        if (!t) return e || {};
        for(var i = K({}, e), n = Object.keys(t), r = 0; r < n.length; r++)i[n[r]] = t[n[r]];
        return this._override_warning || (He.warn(" Overriding feature flags!", {
            enabledFlags: e,
            overriddenFlags: t,
            finalFlags: i
        }), this._override_warning = !0), i;
    }
    getFlagPayloads() {
        return this.instance.get_property(je) || {};
    }
    reloadFeatureFlags() {
        this._reloadingDisabled || this.instance.config.advanced_disable_feature_flags || this._reloadDebouncer || (this._reloadDebouncer = setTimeout(()=>{
            this._callDecideEndpoint();
        }, 5));
    }
    clearDebouncer() {
        clearTimeout(this._reloadDebouncer), this._reloadDebouncer = void 0;
    }
    ensureFlagsLoaded() {
        this._hasLoadedFlags || this._requestInFlight || this._reloadDebouncer || this.reloadFeatureFlags();
    }
    setAnonymousDistinctId(e) {
        this.$anon_distinct_id = e;
    }
    setReloadingPaused(e) {
        this._reloadingDisabled = e;
    }
    _callDecideEndpoint(t) {
        if (this.clearDebouncer(), !this.instance.config.advanced_disable_decide) if (this._requestInFlight) this._additionalReloadRequested = !0;
        else {
            var i = {
                token: this.instance.config.token,
                distinct_id: this.instance.get_distinct_id(),
                groups: this.instance.getGroups(),
                $anon_distinct_id: this.$anon_distinct_id,
                person_properties: this.instance.get_property(Ie),
                group_properties: this.instance.get_property(Ce)
            };
            (null != t && t.disableFlags || this.instance.config.advanced_disable_feature_flags) && (i.disable_flags = !0), this._requestInFlight = !0, this.instance._send_request({
                method: "POST",
                url: this.instance.requestRouter.endpointFor("api", "/decide/?v=3"),
                data: i,
                compression: this.instance.config.disable_compression ? void 0 : e.Base64,
                timeout: this.instance.config.feature_flag_request_timeout_ms,
                callback: (e)=>{
                    var t, n, r = !0;
                    (200 === e.statusCode && (this.$anon_distinct_id = void 0, r = !1), this._requestInFlight = !1, this._decideCalled) || (this._decideCalled = !0, this.instance._onRemoteConfig(null !== (n = e.json) && void 0 !== n ? n : {}));
                    i.disable_flags || (this._flagsLoadedFromRemote = !r, this.receivedFeatureFlags(null !== (t = e.json) && void 0 !== t ? t : {}, r), this._additionalReloadRequested && (this._additionalReloadRequested = !1, this._callDecideEndpoint()));
                }
            });
        }
    }
    getFeatureFlag(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        if (this._hasLoadedFlags || this.getFlags() && this.getFlags().length > 0) {
            var i, n, r, s, o, a = this.getFlagVariants()[e], l = "".concat(a), u = this.instance.get_property(Fe) || {};
            if (t.send_event || !("send_event" in t)) {
                if (!(e in u) || !u[e].includes(l)) x(u[e]) ? u[e].push(l) : u[e] = [
                    l
                ], null === (i = this.instance.persistence) || void 0 === i || i.register({
                    [Fe]: u
                }), this.instance.capture("$feature_flag_called", {
                    $feature_flag: e,
                    $feature_flag_response: a,
                    $feature_flag_payload: this.getFeatureFlagPayload(e) || null,
                    $feature_flag_bootstrapped_response: (null === (n = this.instance.config.bootstrap) || void 0 === n || null === (r = n.featureFlags) || void 0 === r ? void 0 : r[e]) || null,
                    $feature_flag_bootstrapped_payload: (null === (s = this.instance.config.bootstrap) || void 0 === s || null === (o = s.featureFlagPayloads) || void 0 === o ? void 0 : o[e]) || null,
                    $used_bootstrap_value: !this._flagsLoadedFromRemote
                });
            }
            return a;
        }
        He.warn('getFeatureFlag for key "' + e + "\" failed. Feature flags didn't load in time.");
    }
    getFeatureFlagPayload(e) {
        return this.getFlagPayloads()[e];
    }
    isFeatureEnabled(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        if (this._hasLoadedFlags || this.getFlags() && this.getFlags().length > 0) return !!this.getFeatureFlag(e, t);
        He.warn('isFeatureEnabled for key "' + e + "\" failed. Feature flags didn't load in time.");
    }
    addFeatureFlagsHandler(e) {
        this.featureFlagEventHandlers.push(e);
    }
    removeFeatureFlagsHandler(e) {
        this.featureFlagEventHandlers = this.featureFlagEventHandlers.filter((t)=>t !== e);
    }
    receivedFeatureFlags(e, t) {
        if (this.instance.persistence) {
            this._hasLoadedFlags = !0;
            var i = this.getFlagVariants(), n = this.getFlagPayloads();
            !function(e, t) {
                var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, r = e.featureFlags, s = e.featureFlagPayloads;
                if (r) if (x(r)) {
                    var o = {};
                    if (r) for(var a = 0; a < r.length; a++)o[r[a]] = !0;
                    t && t.register({
                        [Ue]: r,
                        [ke]: o
                    });
                } else {
                    var l = r, u = s;
                    e.errorsWhileComputingFlags && (l = j(j({}, i), l), u = j(j({}, n), u)), t && t.register({
                        [Ue]: Object.keys(We(l)),
                        [ke]: l || {},
                        [je]: u || {}
                    });
                }
            }(e, this.instance.persistence, i, n), this._fireFeatureFlagsCallbacks(t);
        }
    }
    override(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        if (!this.instance.__loaded || !this.instance.persistence) return He.uninitializedWarning("posthog.feature_flags.override");
        if (this._override_warning = t, !1 === e) this.instance.persistence.unregister(ze);
        else if (x(e)) {
            for(var i = {}, n = 0; n < e.length; n++)i[e[n]] = !0;
            this.instance.persistence.register({
                [ze]: i
            });
        } else this.instance.persistence.register({
            [ze]: e
        });
    }
    onFeatureFlags(e) {
        if (this.addFeatureFlagsHandler(e), this._hasLoadedFlags) {
            var { flags: t, flagVariants: i } = this._prepareFeatureFlagsForCallbacks();
            e(t, i);
        }
        return ()=>this.removeFeatureFlagsHandler(e);
    }
    updateEarlyAccessFeatureEnrollment(e, t) {
        var i, n = (this.instance.get_property(xe) || []).find((t)=>t.flagKey === e), r = {
            ["$feature_enrollment/".concat(e)]: t
        }, s = {
            $feature_flag: e,
            $feature_enrollment: t,
            $set: r
        };
        n && (s.$early_access_feature_name = n.name), this.instance.capture("$feature_enrollment_update", s), this.setPersonPropertiesForFlags(r, !1);
        var o = j(j({}, this.getFlagVariants()), {}, {
            [e]: t
        });
        null === (i = this.instance.persistence) || void 0 === i || i.register({
            [Ue]: Object.keys(We(o)),
            [ke]: o
        }), this._fireFeatureFlagsCallbacks();
    }
    getEarlyAccessFeatures(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], i = this.instance.get_property(xe);
        if (i && !t) return e(i);
        this.instance._send_request({
            url: this.instance.requestRouter.endpointFor("api", "/api/early_access_features/?token=".concat(this.instance.config.token)),
            method: "GET",
            callback: (t)=>{
                var i;
                if (t.json) {
                    var n = t.json.earlyAccessFeatures;
                    return null === (i = this.instance.persistence) || void 0 === i || i.register({
                        [xe]: n
                    }), e(n);
                }
            }
        });
    }
    _prepareFeatureFlagsForCallbacks() {
        var e = this.getFlags(), t = this.getFlagVariants();
        return {
            flags: e.filter((e)=>t[e]),
            flagVariants: Object.keys(t).filter((e)=>t[e]).reduce((e, i)=>(e[i] = t[i], e), {})
        };
    }
    _fireFeatureFlagsCallbacks(e) {
        var { flags: t, flagVariants: i } = this._prepareFeatureFlagsForCallbacks();
        this.featureFlagEventHandlers.forEach((n)=>n(t, i, {
                errorsLoading: e
            }));
    }
    setPersonPropertiesForFlags(e) {
        var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], i = this.instance.get_property(Ie) || {};
        this.instance.register({
            [Ie]: j(j({}, i), e)
        }), t && this.instance.reloadFeatureFlags();
    }
    resetPersonPropertiesForFlags() {
        this.instance.unregister(Ie);
    }
    setGroupPropertiesForFlags(e) {
        var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], i = this.instance.get_property(Ce) || {};
        0 !== Object.keys(i).length && Object.keys(i).forEach((t)=>{
            i[t] = j(j({}, i[t]), e[t]), delete e[t];
        }), this.instance.register({
            [Ce]: j(j({}, i), e)
        }), t && this.instance.reloadFeatureFlags();
    }
    resetGroupPropertiesForFlags(e) {
        if (e) {
            var t = this.instance.get_property(Ce) || {};
            this.instance.register({
                [Ce]: j(j({}, t), {}, {
                    [e]: {}
                })
            });
        } else this.instance.unregister(Ce);
    }
}
Math.trunc || (Math.trunc = function(e) {
    return e < 0 ? Math.ceil(e) : Math.floor(e);
}), Number.isInteger || (Number.isInteger = function(e) {
    return L(e) && isFinite(e) && Math.floor(e) === e;
});
var Ve = "0123456789abcdef";
class Je {
    constructor(e){
        if (this.bytes = e, 16 !== e.length) throw new TypeError("not 128-bit length");
    }
    static fromFieldsV7(e, t, i, n) {
        if (!Number.isInteger(e) || !Number.isInteger(t) || !Number.isInteger(i) || !Number.isInteger(n) || e < 0 || t < 0 || i < 0 || n < 0 || e > 0xffffffffffff || t > 4095 || i > 1073741823 || n > 4294967295) throw new RangeError("invalid field value");
        var r = new Uint8Array(16);
        return r[0] = e / Math.pow(2, 40), r[1] = e / Math.pow(2, 32), r[2] = e / Math.pow(2, 24), r[3] = e / Math.pow(2, 16), r[4] = e / Math.pow(2, 8), r[5] = e, r[6] = 112 | t >>> 8, r[7] = t, r[8] = 128 | i >>> 24, r[9] = i >>> 16, r[10] = i >>> 8, r[11] = i, r[12] = n >>> 24, r[13] = n >>> 16, r[14] = n >>> 8, r[15] = n, new Je(r);
    }
    toString() {
        for(var e = "", t = 0; t < this.bytes.length; t++)e = e + Ve.charAt(this.bytes[t] >>> 4) + Ve.charAt(15 & this.bytes[t]), 3 !== t && 5 !== t && 7 !== t && 9 !== t || (e += "-");
        if (36 !== e.length) throw new Error("Invalid UUIDv7 was generated");
        return e;
    }
    clone() {
        return new Je(this.bytes.slice(0));
    }
    equals(e) {
        return 0 === this.compareTo(e);
    }
    compareTo(e) {
        for(var t = 0; t < 16; t++){
            var i = this.bytes[t] - e.bytes[t];
            if (0 !== i) return Math.sign(i);
        }
        return 0;
    }
}
class Ye {
    constructor(){
        W(this, "timestamp", 0), W(this, "counter", 0), W(this, "random", new Qe);
    }
    generate() {
        var e = this.generateOrAbort();
        if (R(e)) {
            this.timestamp = 0;
            var t = this.generateOrAbort();
            if (R(t)) throw new Error("Could not generate UUID after timestamp reset");
            return t;
        }
        return e;
    }
    generateOrAbort() {
        var e = Date.now();
        if (e > this.timestamp) this.timestamp = e, this.resetCounter();
        else {
            if (!(e + 1e4 > this.timestamp)) return;
            this.counter++, this.counter > 4398046511103 && (this.timestamp++, this.resetCounter());
        }
        return Je.fromFieldsV7(this.timestamp, Math.trunc(this.counter / Math.pow(2, 30)), this.counter & Math.pow(2, 30) - 1, this.random.nextUint32());
    }
    resetCounter() {
        this.counter = 1024 * this.random.nextUint32() + (1023 & this.random.nextUint32());
    }
}
var Ke, Xe = (e)=>{
    if ("undefined" != typeof UUIDV7_DENY_WEAK_RNG && UUIDV7_DENY_WEAK_RNG) throw new Error("no cryptographically strong RNG available");
    for(var t = 0; t < e.length; t++)e[t] = 65536 * Math.trunc(65536 * Math.random()) + Math.trunc(65536 * Math.random());
    return e;
};
t && !R(t.crypto) && crypto.getRandomValues && (Xe = (e)=>crypto.getRandomValues(e));
class Qe {
    constructor(){
        W(this, "buffer", new Uint32Array(8)), W(this, "cursor", 1 / 0);
    }
    nextUint32() {
        return this.cursor >= this.buffer.length && (Xe(this.buffer), this.cursor = 0), this.buffer[this.cursor++];
    }
}
var Ze = ()=>et().toString(), et = ()=>(Ke || (Ke = new Ye)).generate(), tt = "Thu, 01 Jan 1970 00:00:00 GMT", it = "";
var nt = /[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;
function rt(e, t) {
    if (t) {
        var i = function(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : a;
            if (it) return it;
            if (!t) return "";
            if ([
                "localhost",
                "127.0.0.1"
            ].includes(e)) return "";
            for(var i = e.split("."), n = Math.min(i.length, 8), r = "dmn_chk_" + Ze(), s = new RegExp("(^|;)\\s*" + r + "=1"); !it && n--;){
                var o = i.slice(n).join("."), l = r + "=1;domain=." + o;
                t.cookie = l, s.test(t.cookie) && (t.cookie = l + ";expires=" + tt, it = o);
            }
            return it;
        }(e);
        if (!i) {
            var n = ((e)=>{
                var t = e.match(nt);
                return t ? t[0] : "";
            })(e);
            n !== i && q.info("Warning: cookie subdomain discovery mismatch", n, i), i = n;
        }
        return i ? "; domain=." + i : "";
    }
    return "";
}
var st = {
    is_supported: ()=>!!a,
    error: function(e) {
        q.error("cookieStore error: " + e);
    },
    get: function(e) {
        if (a) {
            try {
                for(var t = e + "=", i = a.cookie.split(";").filter((e)=>e.length), n = 0; n < i.length; n++){
                    for(var r = i[n]; " " == r.charAt(0);)r = r.substring(1, r.length);
                    if (0 === r.indexOf(t)) return decodeURIComponent(r.substring(t.length, r.length));
                }
            } catch (e) {}
            return null;
        }
    },
    parse: function(e) {
        var t;
        try {
            t = JSON.parse(st.get(e)) || {};
        } catch (e) {}
        return t;
    },
    set: function(e, t, i, n, r) {
        if (a) try {
            var s = "", o = "", l = rt(a.location.hostname, n);
            if (i) {
                var u = new Date;
                u.setTime(u.getTime() + 24 * i * 60 * 60 * 1e3), s = "; expires=" + u.toUTCString();
            }
            r && (o = "; secure");
            var c = e + "=" + encodeURIComponent(JSON.stringify(t)) + s + "; SameSite=Lax; path=/" + l + o;
            return c.length > 3686.4 && q.warn("cookieStore warning: large cookie, len=" + c.length), a.cookie = c, c;
        } catch (e) {
            return;
        }
    },
    remove: function(e, t) {
        try {
            st.set(e, "", -1, t);
        } catch (e) {
            return;
        }
    }
}, ot = null, at = {
    is_supported: function() {
        if (!$(ot)) return ot;
        var e = !0;
        if (R(t)) e = !1;
        else try {
            var i = "__mplssupport__";
            at.set(i, "xyz"), '"xyz"' !== at.get(i) && (e = !1), at.remove(i);
        } catch (t) {
            e = !1;
        }
        return e || q.error("localStorage unsupported; falling back to cookie store"), ot = e, e;
    },
    error: function(e) {
        q.error("localStorage error: " + e);
    },
    get: function(e) {
        try {
            return null == t ? void 0 : t.localStorage.getItem(e);
        } catch (e) {
            at.error(e);
        }
        return null;
    },
    parse: function(e) {
        try {
            return JSON.parse(at.get(e)) || {};
        } catch (e) {}
        return null;
    },
    set: function(e, i) {
        try {
            null == t || t.localStorage.setItem(e, JSON.stringify(i));
        } catch (e) {
            at.error(e);
        }
    },
    remove: function(e) {
        try {
            null == t || t.localStorage.removeItem(e);
        } catch (e) {
            at.error(e);
        }
    }
}, lt = [
    "distinct_id",
    ye,
    we,
    De,
    Ae
], ut = j(j({}, at), {}, {
    parse: function(e) {
        try {
            var t = {};
            try {
                t = st.parse(e) || {};
            } catch (e) {}
            var i = K(t, JSON.parse(at.get(e) || "{}"));
            return at.set(e, i), i;
        } catch (e) {}
        return null;
    },
    set: function(e, t, i, n, r, s) {
        try {
            at.set(e, t, void 0, void 0, s);
            var o = {};
            lt.forEach((e)=>{
                t[e] && (o[e] = t[e]);
            }), Object.keys(o).length && st.set(e, o, i, n, r, s);
        } catch (e) {
            at.error(e);
        }
    },
    remove: function(e, i) {
        try {
            null == t || t.localStorage.removeItem(e), st.remove(e, i);
        } catch (e) {
            at.error(e);
        }
    }
}), ct = {}, dt = {
    is_supported: function() {
        return !0;
    },
    error: function(e) {
        q.error("memoryStorage error: " + e);
    },
    get: function(e) {
        return ct[e] || null;
    },
    parse: function(e) {
        return ct[e] || null;
    },
    set: function(e, t) {
        ct[e] = t;
    },
    remove: function(e) {
        delete ct[e];
    }
}, ht = null, _t = {
    is_supported: function() {
        if (!$(ht)) return ht;
        if (ht = !0, R(t)) ht = !1;
        else try {
            var e = "__support__";
            _t.set(e, "xyz"), '"xyz"' !== _t.get(e) && (ht = !1), _t.remove(e);
        } catch (e) {
            ht = !1;
        }
        return ht;
    },
    error: function(e) {
        q.error("sessionStorage error: ", e);
    },
    get: function(e) {
        try {
            return null == t ? void 0 : t.sessionStorage.getItem(e);
        } catch (e) {
            _t.error(e);
        }
        return null;
    },
    parse: function(e) {
        try {
            return JSON.parse(_t.get(e)) || null;
        } catch (e) {}
        return null;
    },
    set: function(e, i) {
        try {
            null == t || t.sessionStorage.setItem(e, JSON.stringify(i));
        } catch (e) {
            _t.error(e);
        }
    },
    remove: function(e) {
        try {
            null == t || t.sessionStorage.removeItem(e);
        } catch (e) {
            _t.error(e);
        }
    }
}, pt = [
    "localhost",
    "127.0.0.1"
], vt = (e)=>{
    var t = null == a ? void 0 : a.createElement("a");
    return R(t) ? null : (t.href = e, t);
}, gt = function(e, t) {
    return !!function(e) {
        try {
            new RegExp(e);
        } catch (e) {
            return !1;
        }
        return !0;
    }(t) && new RegExp(t).test(e);
}, ft = function(e) {
    var t, i, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "&", r = [];
    return Y(e, function(e, n) {
        R(e) || R(n) || "undefined" === n || (t = encodeURIComponent(((e)=>e instanceof File)(e) ? e.name : e.toString()), i = encodeURIComponent(n), r[r.length] = i + "=" + t);
    }), r.join(n);
}, mt = function(e, t) {
    for(var i, n = ((e.split("#")[0] || "").split("?")[1] || "").split("&"), r = 0; r < n.length; r++){
        var s = n[r].split("=");
        if (s[0] === t) {
            i = s;
            break;
        }
    }
    if (!x(i) || i.length < 2) return "";
    var o = i[1];
    try {
        o = decodeURIComponent(o);
    } catch (e) {
        q.error("Skipping decoding for malformed query param: " + o);
    }
    return o.replace(/\+/g, " ");
}, bt = function(e, t) {
    var i = e.match(new RegExp(t + "=([^&]*)"));
    return i ? i[1] : null;
}, yt = "Mobile", wt = "iOS", St = "Android", Et = "Tablet", kt = St + " " + Et, xt = "iPad", It = "Apple", Ct = It + " Watch", Pt = "Safari", Rt = "BlackBerry", Ft = "Samsung", Tt = Ft + "Browser", $t = Ft + " Internet", Ot = "Chrome", Lt = Ot + " OS", Mt = Ot + " " + wt, At = "Internet Explorer", Dt = At + " " + yt, Nt = "Opera", qt = Nt + " Mini", Bt = "Edge", Ht = "Microsoft " + Bt, Ut = "Firefox", zt = Ut + " " + wt, jt = "Nintendo", Wt = "PlayStation", Gt = "Xbox", Vt = St + " " + yt, Jt = yt + " " + Pt, Yt = "Windows", Kt = Yt + " Phone", Xt = "Nokia", Qt = "Ouya", Zt = "Generic", ei = Zt + " " + yt.toLowerCase(), ti = Zt + " " + Et.toLowerCase(), ii = "Konqueror", ni = "(\\d+(\\.\\d+)?)", ri = new RegExp("Version/" + ni), si = new RegExp(Gt, "i"), oi = new RegExp(Wt + " \\w+", "i"), ai = new RegExp(jt + " \\w+", "i"), li = new RegExp(Rt + "|PlayBook|BB10", "i"), ui = {
    "NT3.51": "NT 3.11",
    "NT4.0": "NT 4.0",
    "5.0": "2000",
    5.1: "XP",
    5.2: "XP",
    "6.0": "Vista",
    6.1: "7",
    6.2: "8",
    6.3: "8.1",
    6.4: "10",
    "10.0": "10"
};
var ci = (e, t)=>t && m(t, It) || function(e) {
        return m(e, Pt) && !m(e, Ot) && !m(e, St);
    }(e), di = function(e, t) {
    return t = t || "", m(e, " OPR/") && m(e, "Mini") ? qt : m(e, " OPR/") ? Nt : li.test(e) ? Rt : m(e, "IE" + yt) || m(e, "WPDesktop") ? Dt : m(e, Tt) ? $t : m(e, Bt) || m(e, "Edg/") ? Ht : m(e, "FBIOS") ? "Facebook " + yt : m(e, "UCWEB") || m(e, "UCBrowser") ? "UC Browser" : m(e, "CriOS") ? Mt : m(e, "CrMo") || m(e, Ot) ? Ot : m(e, St) && m(e, Pt) ? Vt : m(e, "FxiOS") ? zt : m(e.toLowerCase(), ii.toLowerCase()) ? ii : ci(e, t) ? m(e, yt) ? Jt : Pt : m(e, Ut) ? Ut : m(e, "MSIE") || m(e, "Trident/") ? At : m(e, "Gecko") ? Ut : "";
}, hi = {
    [Dt]: [
        new RegExp("rv:" + ni)
    ],
    [Ht]: [
        new RegExp(Bt + "?\\/" + ni)
    ],
    [Ot]: [
        new RegExp("(" + Ot + "|CrMo)\\/" + ni)
    ],
    [Mt]: [
        new RegExp("CriOS\\/" + ni)
    ],
    "UC Browser": [
        new RegExp("(UCBrowser|UCWEB)\\/" + ni)
    ],
    [Pt]: [
        ri
    ],
    [Jt]: [
        ri
    ],
    [Nt]: [
        new RegExp("(Opera|OPR)\\/" + ni)
    ],
    [Ut]: [
        new RegExp(Ut + "\\/" + ni)
    ],
    [zt]: [
        new RegExp("FxiOS\\/" + ni)
    ],
    [ii]: [
        new RegExp("Konqueror[:/]?" + ni, "i")
    ],
    [Rt]: [
        new RegExp(Rt + " " + ni),
        ri
    ],
    [Vt]: [
        new RegExp("android\\s" + ni, "i")
    ],
    [$t]: [
        new RegExp(Tt + "\\/" + ni)
    ],
    [At]: [
        new RegExp("(rv:|MSIE )" + ni)
    ],
    Mozilla: [
        new RegExp("rv:" + ni)
    ]
}, _i = [
    [
        new RegExp(Gt + "; " + Gt + " (.*?)[);]", "i"),
        (e)=>[
                Gt,
                e && e[1] || ""
            ]
    ],
    [
        new RegExp(jt, "i"),
        [
            jt,
            ""
        ]
    ],
    [
        new RegExp(Wt, "i"),
        [
            Wt,
            ""
        ]
    ],
    [
        li,
        [
            Rt,
            ""
        ]
    ],
    [
        new RegExp(Yt, "i"),
        (e, t)=>{
            if (/Phone/.test(t) || /WPDesktop/.test(t)) return [
                Kt,
                ""
            ];
            if (new RegExp(yt).test(t) && !/IEMobile\b/.test(t)) return [
                Yt + " " + yt,
                ""
            ];
            var i = /Windows NT ([0-9.]+)/i.exec(t);
            if (i && i[1]) {
                var n = i[1], r = ui[n] || "";
                return /arm/i.test(t) && (r = "RT"), [
                    Yt,
                    r
                ];
            }
            return [
                Yt,
                ""
            ];
        }
    ],
    [
        /((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,
        (e)=>{
            if (e && e[3]) {
                var t = [
                    e[3],
                    e[4],
                    e[5] || "0"
                ];
                return [
                    wt,
                    t.join(".")
                ];
            }
            return [
                wt,
                ""
            ];
        }
    ],
    [
        /(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,
        (e)=>{
            var t = "";
            return e && e.length >= 3 && (t = R(e[2]) ? e[3] : e[2]), [
                "watchOS",
                t
            ];
        }
    ],
    [
        new RegExp("(" + St + " (\\d+)\\.(\\d+)\\.?(\\d+)?|" + St + ")", "i"),
        (e)=>{
            if (e && e[2]) {
                var t = [
                    e[2],
                    e[3],
                    e[4] || "0"
                ];
                return [
                    St,
                    t.join(".")
                ];
            }
            return [
                St,
                ""
            ];
        }
    ],
    [
        /Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,
        (e)=>{
            var t = [
                "Mac OS X",
                ""
            ];
            if (e && e[1]) {
                var i = [
                    e[1],
                    e[2],
                    e[3] || "0"
                ];
                t[1] = i.join(".");
            }
            return t;
        }
    ],
    [
        /Mac/i,
        [
            "Mac OS X",
            ""
        ]
    ],
    [
        /CrOS/,
        [
            Lt,
            ""
        ]
    ],
    [
        /Linux|debian/i,
        [
            "Linux",
            ""
        ]
    ]
], pi = function(e) {
    return ai.test(e) ? jt : oi.test(e) ? Wt : si.test(e) ? Gt : new RegExp(Qt, "i").test(e) ? Qt : new RegExp("(" + Kt + "|WPDesktop)", "i").test(e) ? Kt : /iPad/.test(e) ? xt : /iPod/.test(e) ? "iPod Touch" : /iPhone/.test(e) ? "iPhone" : /(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e) ? Ct : li.test(e) ? Rt : /(kobo)\s(ereader|touch)/i.test(e) ? "Kobo" : new RegExp(Xt, "i").test(e) ? Xt : /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e) || /(kf[a-z]+)( bui|\)).+silk\//i.test(e) ? "Kindle Fire" : /(Android|ZTE)/i.test(e) ? !new RegExp(yt).test(e) || /(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e) ? /pixel[\daxl ]{1,6}/i.test(e) && !/pixel c/i.test(e) || /(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e) || /lmy47v/i.test(e) && !/QTAQZ3/i.test(e) ? St : kt : St : new RegExp("(pda|" + yt + ")", "i").test(e) ? ei : new RegExp(Et, "i").test(e) && !new RegExp(Et + " pc", "i").test(e) ? ti : "";
}, vi = "https?://(.*)", gi = [
    "utm_source",
    "utm_medium",
    "utm_campaign",
    "utm_content",
    "utm_term",
    "gclid",
    "gad_source",
    "gclsrc",
    "dclid",
    "gbraid",
    "wbraid",
    "fbclid",
    "msclkid",
    "twclid",
    "li_fat_id",
    "mc_cid",
    "igshid",
    "ttclid",
    "rdt_cid"
], fi = {
    campaignParams: function(e) {
        return a ? this._campaignParamsFromUrl(a.URL, e) : {};
    },
    _campaignParamsFromUrl: function(e, t) {
        var i = gi.concat(t || []), n = {};
        return Y(i, function(t) {
            var i = mt(e, t);
            n[t] = i || null;
        }), n;
    },
    _searchEngine: function(e) {
        return e ? 0 === e.search(vi + "google.([^/?]*)") ? "google" : 0 === e.search(vi + "bing.com") ? "bing" : 0 === e.search(vi + "yahoo.com") ? "yahoo" : 0 === e.search(vi + "duckduckgo.com") ? "duckduckgo" : null : null;
    },
    _searchInfoFromReferrer: function(e) {
        var t = fi._searchEngine(e), i = "yahoo" != t ? "q" : "p", n = {};
        if (!$(t)) {
            n.$search_engine = t;
            var r = a ? mt(a.referrer, i) : "";
            r.length && (n.ph_keyword = r);
        }
        return n;
    },
    searchInfo: function() {
        var e = null == a ? void 0 : a.referrer;
        return e ? this._searchInfoFromReferrer(e) : {};
    },
    browser: di,
    browserVersion: function(e, t) {
        var i = di(e, t), n = hi[i];
        if (R(n)) return null;
        for(var r = 0; r < n.length; r++){
            var s = n[r], o = e.match(s);
            if (o) return parseFloat(o[o.length - 2]);
        }
        return null;
    },
    browserLanguage: function() {
        return navigator.language || navigator.userLanguage;
    },
    browserLanguagePrefix: function() {
        var e = this.browserLanguage();
        return "string" == typeof e ? e.split("-")[0] : void 0;
    },
    os: function(e) {
        for(var t = 0; t < _i.length; t++){
            var [i, n] = _i[t], r = i.exec(e), s = r && (I(n) ? n(r, e) : n);
            if (s) return s;
        }
        return [
            "",
            ""
        ];
    },
    device: pi,
    deviceType: function(e) {
        var t = pi(e);
        return t === xt || t === kt || "Kobo" === t || "Kindle Fire" === t || t === ti ? Et : t === jt || t === Gt || t === Wt || t === Qt ? "Console" : t === Ct ? "Wearable" : t ? yt : "Desktop";
    },
    referrer: function() {
        return (null == a ? void 0 : a.referrer) || "$direct";
    },
    referringDomain: function() {
        var e;
        return null != a && a.referrer && (null === (e = vt(a.referrer)) || void 0 === e ? void 0 : e.host) || "$direct";
    },
    referrerInfo: function() {
        return {
            $referrer: this.referrer(),
            $referring_domain: this.referringDomain()
        };
    },
    initialPersonInfo: function() {
        return {
            r: this.referrer().substring(0, 1e3),
            u: null == l ? void 0 : l.href.substring(0, 1e3)
        };
    },
    initialPersonPropsFromInfo: function(e) {
        var t, { r: i, u: n } = e, r = {
            $initial_referrer: i,
            $initial_referring_domain: null == i ? void 0 : "$direct" == i ? "$direct" : null === (t = vt(i)) || void 0 === t ? void 0 : t.host
        };
        if (n) {
            r.$initial_current_url = n;
            var s = vt(n);
            r.$initial_host = null == s ? void 0 : s.host, r.$initial_pathname = null == s ? void 0 : s.pathname, Y(this._campaignParamsFromUrl(n), function(e, t) {
                r["$initial_" + y(t)] = e;
            });
        }
        i && Y(this._searchInfoFromReferrer(i), function(e, t) {
            r["$initial_" + y(t)] = e;
        });
        return r;
    },
    timezone: function() {
        try {
            return Intl.DateTimeFormat().resolvedOptions().timeZone;
        } catch (e) {
            return;
        }
    },
    timezoneOffset: function() {
        try {
            return (new Date).getTimezoneOffset();
        } catch (e) {
            return;
        }
    },
    properties: function() {
        if (!h) return {};
        var [e, i] = fi.os(h);
        return K(ee({
            $os: e,
            $os_version: i,
            $browser: fi.browser(h, navigator.vendor),
            $device: fi.device(h),
            $device_type: fi.deviceType(h),
            $timezone: fi.timezone(),
            $timezone_offset: fi.timezoneOffset()
        }), {
            $current_url: null == l ? void 0 : l.href,
            $host: null == l ? void 0 : l.host,
            $pathname: null == l ? void 0 : l.pathname,
            $raw_user_agent: h.length > 1e3 ? h.substring(0, 997) + "..." : h,
            $browser_version: fi.browserVersion(h, navigator.vendor),
            $browser_language: fi.browserLanguage(),
            $browser_language_prefix: fi.browserLanguagePrefix(),
            $screen_height: null == t ? void 0 : t.screen.height,
            $screen_width: null == t ? void 0 : t.screen.width,
            $viewport_height: null == t ? void 0 : t.innerHeight,
            $viewport_width: null == t ? void 0 : t.innerWidth,
            $lib: "web",
            $lib_version: p.LIB_VERSION,
            $insert_id: Math.random().toString(36).substring(2, 10) + Math.random().toString(36).substring(2, 10),
            $time: Date.now() / 1e3
        });
    },
    people_properties: function() {
        if (!h) return {};
        var [e, t] = fi.os(h);
        return K(ee({
            $os: e,
            $os_version: t,
            $browser: fi.browser(h, navigator.vendor)
        }), {
            $browser_version: fi.browserVersion(h, navigator.vendor)
        });
    }
}, mi = [
    "cookie",
    "localstorage",
    "localstorage+cookie",
    "sessionstorage",
    "memory"
];
class bi {
    constructor(e){
        this.config = e, this.props = {}, this.campaign_params_saved = !1, this.name = ((e)=>{
            var t = "";
            return e.token && (t = e.token.replace(/\+/g, "PL").replace(/\//g, "SL").replace(/=/g, "EQ")), e.persistence_name ? "ph_" + e.persistence_name : "ph_" + t + "_posthog";
        })(e), this.storage = this.buildStorage(e), this.load(), e.debug && q.info("Persistence loaded", e.persistence, j({}, this.props)), this.update_config(e, e), this.save();
    }
    buildStorage(e) {
        -1 === mi.indexOf(e.persistence.toLowerCase()) && (q.critical("Unknown persistence type " + e.persistence + "; falling back to localStorage+cookie"), e.persistence = "localStorage+cookie");
        var t = e.persistence.toLowerCase();
        return "localstorage" === t && at.is_supported() ? at : "localstorage+cookie" === t && ut.is_supported() ? ut : "sessionstorage" === t && _t.is_supported() ? _t : "memory" === t ? dt : "cookie" === t ? st : ut.is_supported() ? ut : st;
    }
    properties() {
        var e = {};
        return Y(this.props, function(t, i) {
            if (i === ke && C(t)) for(var n = Object.keys(t), r = 0; r < n.length; r++)e["$feature/".concat(n[r])] = t[n[r]];
            else a = i, l = !1, ($(o = Be) ? l : s && o.indexOf === s ? -1 != o.indexOf(a) : (Y(o, function(e) {
                if (l || (l = e === a)) return V;
            }), l)) || (e[i] = t);
            var o, a, l;
        }), e;
    }
    load() {
        if (!this.disabled) {
            var e = this.storage.parse(this.name);
            e && (this.props = K({}, e));
        }
    }
    save() {
        this.disabled || this.storage.set(this.name, this.props, this.expire_days, this.cross_subdomain, this.secure, this.config.debug);
    }
    remove() {
        this.storage.remove(this.name, !1), this.storage.remove(this.name, !0);
    }
    clear() {
        this.remove(), this.props = {};
    }
    register_once(e, t, i) {
        if (C(e)) {
            R(t) && (t = "None"), this.expire_days = R(i) ? this.default_expiry : i;
            var n = !1;
            if (Y(e, (e, i)=>{
                this.props.hasOwnProperty(i) && this.props[i] !== t || (this.props[i] = e, n = !0);
            }), n) return this.save(), !0;
        }
        return !1;
    }
    register(e, t) {
        if (C(e)) {
            this.expire_days = R(t) ? this.default_expiry : t;
            var i = !1;
            if (Y(e, (t, n)=>{
                e.hasOwnProperty(n) && this.props[n] !== t && (this.props[n] = t, i = !0);
            }), i) return this.save(), !0;
        }
        return !1;
    }
    unregister(e) {
        e in this.props && (delete this.props[e], this.save());
    }
    update_campaign_params() {
        if (!this.campaign_params_saved) {
            var e = fi.campaignParams(this.config.custom_campaign_params);
            P(ee(e)) || this.register(e), this.campaign_params_saved = !0;
        }
    }
    update_search_keyword() {
        this.register(fi.searchInfo());
    }
    update_referrer_info() {
        this.register_once(fi.referrerInfo(), void 0);
    }
    set_initial_person_info() {
        this.props[Le] || this.props[Me] || this.register_once({
            [Ae]: fi.initialPersonInfo()
        }, void 0);
    }
    get_referrer_info() {
        return ee({
            $referrer: this.props.$referrer,
            $referring_domain: this.props.$referring_domain
        });
    }
    get_initial_props() {
        var e = {};
        Y([
            Me,
            Le
        ], (t)=>{
            var i = this.props[t];
            i && Y(i, function(t, i) {
                e["$initial_" + y(i)] = t;
            });
        });
        var t = this.props[Ae];
        if (t) {
            var i = fi.initialPersonPropsFromInfo(t);
            K(e, i);
        }
        return e;
    }
    safe_merge(e) {
        return Y(this.props, function(t, i) {
            i in e || (e[i] = t);
        }), e;
    }
    update_config(e, t) {
        if (this.default_expiry = this.expire_days = e.cookie_expiration, this.set_disabled(e.disable_persistence), this.set_cross_subdomain(e.cross_subdomain_cookie), this.set_secure(e.secure_cookie), e.persistence !== t.persistence) {
            var i = this.buildStorage(e), n = this.props;
            this.clear(), this.storage = i, this.props = n, this.save();
        }
    }
    set_disabled(e) {
        this.disabled = e, this.disabled ? this.remove() : this.save();
    }
    set_cross_subdomain(e) {
        e !== this.cross_subdomain && (this.cross_subdomain = e, this.remove(), this.save());
    }
    get_cross_subdomain() {
        return !!this.cross_subdomain;
    }
    set_secure(e) {
        e !== this.secure && (this.secure = e, this.remove(), this.save());
    }
    set_event_timer(e, t) {
        var i = this.props[oe] || {};
        i[e] = t, this.props[oe] = i, this.save();
    }
    remove_event_timer(e) {
        var t = (this.props[oe] || {})[e];
        return R(t) || (delete this.props[oe][e], this.save()), t;
    }
    get_property(e) {
        return this.props[e];
    }
    set_property(e, t) {
        this.props[e] = t, this.save();
    }
}
function yi(e) {
    var t, i;
    return (null === (t = JSON.stringify(e, (i = [], function(e, t) {
        if (C(t)) {
            for(; i.length > 0 && i[i.length - 1] !== this;)i.pop();
            return i.includes(t) ? "[Circular]" : (i.push(t), t);
        }
        return t;
    }))) || void 0 === t ? void 0 : t.length) || 0;
}
function wi(e) {
    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 6606028.8;
    if (e.size >= t && e.data.length > 1) {
        var i = Math.floor(e.data.length / 2), n = e.data.slice(0, i), r = e.data.slice(i);
        return [
            wi({
                size: yi(n),
                data: n,
                sessionId: e.sessionId,
                windowId: e.windowId
            }),
            wi({
                size: yi(r),
                data: r,
                sessionId: e.sessionId,
                windowId: e.windowId
            })
        ].flatMap((e)=>e);
    }
    return [
        e
    ];
}
var Si = ((e)=>(e[e.DomContentLoaded = 0] = "DomContentLoaded", e[e.Load = 1] = "Load", e[e.FullSnapshot = 2] = "FullSnapshot", e[e.IncrementalSnapshot = 3] = "IncrementalSnapshot", e[e.Meta = 4] = "Meta", e[e.Custom = 5] = "Custom", e[e.Plugin = 6] = "Plugin", e))(Si || {}), Ei = ((e)=>(e[e.Mutation = 0] = "Mutation", e[e.MouseMove = 1] = "MouseMove", e[e.MouseInteraction = 2] = "MouseInteraction", e[e.Scroll = 3] = "Scroll", e[e.ViewportResize = 4] = "ViewportResize", e[e.Input = 5] = "Input", e[e.TouchMove = 6] = "TouchMove", e[e.MediaInteraction = 7] = "MediaInteraction", e[e.StyleSheetRule = 8] = "StyleSheetRule", e[e.CanvasMutation = 9] = "CanvasMutation", e[e.Font = 10] = "Font", e[e.Log = 11] = "Log", e[e.Drag = 12] = "Drag", e[e.StyleDeclaration = 13] = "StyleDeclaration", e[e.Selection = 14] = "Selection", e[e.AdoptedStyleSheet = 15] = "AdoptedStyleSheet", e[e.CustomElement = 16] = "CustomElement", e))(Ei || {});
function ki(e) {
    var t;
    return e instanceof Element && (e.id === Ne || !(null === (t = e.closest) || void 0 === t || !t.call(e, ".toolbar-global-fade-container")));
}
function xi(e) {
    return !!e && 1 === e.nodeType;
}
function Ii(e, t) {
    return !!e && !!e.tagName && e.tagName.toLowerCase() === t.toLowerCase();
}
function Ci(e) {
    return !!e && 3 === e.nodeType;
}
function Pi(e) {
    return !!e && 11 === e.nodeType;
}
function Ri(e) {
    return e ? b(e).split(/\s+/) : [];
}
function Fi(e) {
    var i = null == t ? void 0 : t.location.href;
    return !!(i && e && e.some((e)=>i.match(e)));
}
function Ti(e) {
    var t = "";
    switch(typeof e.className){
        case "string":
            t = e.className;
            break;
        case "object":
            t = (e.className && "baseVal" in e.className ? e.className.baseVal : null) || e.getAttribute("class") || "";
            break;
        default:
            t = "";
    }
    return Ri(t);
}
function $i(e) {
    return O(e) ? null : b(e).split(/(\s+)/).filter((e)=>Gi(e)).join("").replace(/[\r\n]/g, " ").replace(/[ ]+/g, " ").substring(0, 255);
}
function Oi(e) {
    var t = "";
    return Ni(e) && !qi(e) && e.childNodes && e.childNodes.length && Y(e.childNodes, function(e) {
        var i;
        Ci(e) && e.textContent && (t += null !== (i = $i(e.textContent)) && void 0 !== i ? i : "");
    }), b(t);
}
function Li(e) {
    return R(e.target) ? e.srcElement || null : null !== (t = e.target) && void 0 !== t && t.shadowRoot ? e.composedPath()[0] || null : e.target || null;
    "TURBOPACK unreachable";
    var t;
}
var Mi = [
    "a",
    "button",
    "form",
    "input",
    "select",
    "textarea",
    "label"
];
function Ai(e) {
    var t = e.parentNode;
    return !(!t || !xi(t)) && t;
}
function Di(e, i) {
    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : void 0, r = arguments.length > 3 ? arguments[3] : void 0, s = arguments.length > 4 ? arguments[4] : void 0;
    if (!t || !e || Ii(e, "html") || !xi(e)) return !1;
    if (null != n && n.url_allowlist && !Fi(n.url_allowlist)) return !1;
    if (null != n && n.url_ignorelist && Fi(n.url_ignorelist)) return !1;
    if (null != n && n.dom_event_allowlist) {
        var o = n.dom_event_allowlist;
        if (o && !o.some((e)=>i.type === e)) return !1;
    }
    for(var a = !1, l = [
        e
    ], u = !0, c = e; c.parentNode && !Ii(c, "body");)if (Pi(c.parentNode)) l.push(c.parentNode.host), c = c.parentNode.host;
    else {
        if (!(u = Ai(c))) break;
        if (r || Mi.indexOf(u.tagName.toLowerCase()) > -1) a = !0;
        else {
            var d = t.getComputedStyle(u);
            d && "pointer" === d.getPropertyValue("cursor") && (a = !0);
        }
        l.push(u), c = u;
    }
    if (!function(e, t) {
        var i = null == t ? void 0 : t.element_allowlist;
        if (R(i)) return !0;
        var n = function(e) {
            if (i.some((t)=>e.tagName.toLowerCase() === t)) return {
                v: !0
            };
        };
        for (var r of e){
            var s = n(r);
            if ("object" == typeof s) return s.v;
        }
        return !1;
    }(l, n)) return !1;
    if (!function(e, t) {
        var i = null == t ? void 0 : t.css_selector_allowlist;
        if (R(i)) return !0;
        var n = function(e) {
            if (i.some((t)=>e.matches(t))) return {
                v: !0
            };
        };
        for (var r of e){
            var s = n(r);
            if ("object" == typeof s) return s.v;
        }
        return !1;
    }(l, n)) return !1;
    var h = t.getComputedStyle(e);
    if (h && "pointer" === h.getPropertyValue("cursor") && "click" === i.type) return !0;
    var _ = e.tagName.toLowerCase();
    switch(_){
        case "html":
            return !1;
        case "form":
            return (s || [
                "submit"
            ]).indexOf(i.type) >= 0;
        case "input":
        case "select":
        case "textarea":
            return (s || [
                "change",
                "click"
            ]).indexOf(i.type) >= 0;
        default:
            return a ? (s || [
                "click"
            ]).indexOf(i.type) >= 0 : (s || [
                "click"
            ]).indexOf(i.type) >= 0 && (Mi.indexOf(_) > -1 || "true" === e.getAttribute("contenteditable"));
    }
}
function Ni(e) {
    for(var t = e; t.parentNode && !Ii(t, "body"); t = t.parentNode){
        var i = Ti(t);
        if (m(i, "ph-sensitive") || m(i, "ph-no-capture")) return !1;
    }
    if (m(Ti(e), "ph-include")) return !0;
    var n = e.type || "";
    if (F(n)) switch(n.toLowerCase()){
        case "hidden":
        case "password":
            return !1;
    }
    var r = e.name || e.id || "";
    if (F(r)) {
        if (/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(r.replace(/[^a-zA-Z0-9]/g, ""))) return !1;
    }
    return !0;
}
function qi(e) {
    return !!(Ii(e, "input") && ![
        "button",
        "checkbox",
        "submit",
        "reset"
    ].includes(e.type) || Ii(e, "select") || Ii(e, "textarea") || "true" === e.getAttribute("contenteditable"));
}
var Bi = "(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})", Hi = new RegExp("^(?:".concat(Bi, ")$")), Ui = new RegExp(Bi), zi = "\\d{3}-?\\d{2}-?\\d{4}", ji = new RegExp("^(".concat(zi, ")$")), Wi = new RegExp("(".concat(zi, ")"));
function Gi(e) {
    var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
    if (O(e)) return !1;
    if (F(e)) {
        if (e = b(e), (t ? Hi : Ui).test((e || "").replace(/[- ]/g, ""))) return !1;
        if ((t ? ji : Wi).test(e)) return !1;
    }
    return !0;
}
function Vi(e) {
    var t = Oi(e);
    return Gi(t = "".concat(t, " ").concat(Ji(e)).trim()) ? t : "";
}
function Ji(e) {
    var t = "";
    return e && e.childNodes && e.childNodes.length && Y(e.childNodes, function(e) {
        var i;
        if (e && "span" === (null === (i = e.tagName) || void 0 === i ? void 0 : i.toLowerCase())) try {
            var n = Oi(e);
            t = "".concat(t, " ").concat(n).trim(), e.childNodes && e.childNodes.length && (t = "".concat(t, " ").concat(Ji(e)).trim());
        } catch (e) {
            q.error("[AutoCapture]", e);
        }
    }), t;
}
function Yi(e) {
    return function(e) {
        var t = e.map((e)=>{
            var t, i, n = "";
            if (e.tag_name && (n += e.tag_name), e.attr_class) for (var r of (e.attr_class.sort(), e.attr_class))n += ".".concat(r.replace(/"/g, ""));
            var s = j(j(j(j({}, e.text ? {
                text: e.text
            } : {}), {}, {
                "nth-child": null !== (t = e.nth_child) && void 0 !== t ? t : 0,
                "nth-of-type": null !== (i = e.nth_of_type) && void 0 !== i ? i : 0
            }, e.href ? {
                href: e.href
            } : {}), e.attr_id ? {
                attr_id: e.attr_id
            } : {}), e.attributes), o = {};
            return X(s).sort((e, t)=>{
                var [i] = e, [n] = t;
                return i.localeCompare(n);
            }).forEach((e)=>{
                var [t, i] = e;
                return o[Ki(t.toString())] = Ki(i.toString());
            }), n += ":", n += X(s).map((e)=>{
                var [t, i] = e;
                return "".concat(t, '="').concat(i, '"');
            }).join("");
        });
        return t.join(";");
    }(function(e) {
        return e.map((e)=>{
            var t, i, n = {
                text: null === (t = e.$el_text) || void 0 === t ? void 0 : t.slice(0, 400),
                tag_name: e.tag_name,
                href: null === (i = e.attr__href) || void 0 === i ? void 0 : i.slice(0, 2048),
                attr_class: Xi(e),
                attr_id: e.attr__id,
                nth_child: e.nth_child,
                nth_of_type: e.nth_of_type,
                attributes: {}
            };
            return X(e).filter((e)=>{
                var [t] = e;
                return 0 === t.indexOf("attr__");
            }).forEach((e)=>{
                var [t, i] = e;
                return n.attributes[t] = i;
            }), n;
        });
    }(e));
}
function Ki(e) {
    return e.replace(/"|\\"/g, '\\"');
}
function Xi(e) {
    var t = e.attr__class;
    return t ? x(t) ? t : Ri(t) : void 0;
}
var Qi = "[SessionRecording]", Zi = "redacted", en = {
    initiatorTypes: [
        "audio",
        "beacon",
        "body",
        "css",
        "early-hint",
        "embed",
        "fetch",
        "frame",
        "iframe",
        "icon",
        "image",
        "img",
        "input",
        "link",
        "navigation",
        "object",
        "ping",
        "script",
        "track",
        "video",
        "xmlhttprequest"
    ],
    maskRequestFn: (e)=>e,
    recordHeaders: !1,
    recordBody: !1,
    recordInitialRequests: !1,
    recordPerformance: !1,
    performanceEntryTypeToObserve: [
        "first-input",
        "navigation",
        "paint",
        "resource"
    ],
    payloadSizeLimitBytes: 1e6,
    payloadHostDenyList: [
        ".lr-ingest.io",
        ".ingest.sentry.io",
        ".clarity.ms",
        "analytics.google.com"
    ]
}, tn = [
    "authorization",
    "x-forwarded-for",
    "authorization",
    "cookie",
    "set-cookie",
    "x-api-key",
    "x-real-ip",
    "remote-addr",
    "forwarded",
    "proxy-authorization",
    "x-csrf-token",
    "x-csrftoken",
    "x-xsrf-token"
], nn = [
    "password",
    "secret",
    "passwd",
    "api_key",
    "apikey",
    "auth",
    "credentials",
    "mysql_pwd",
    "privatekey",
    "private_key",
    "token"
], rn = [
    "/s/",
    "/e/",
    "/i/"
];
function sn(e, t, i, n) {
    if (O(e)) return e;
    var r = (null == t ? void 0 : t["content-length"]) || function(e) {
        return new Blob([
            e
        ]).size;
    }(e);
    return F(r) && (r = parseInt(r)), r > i ? Qi + " ".concat(n, " body too large to record (").concat(r, " bytes)") : e;
}
function on(e, t) {
    if (O(e)) return e;
    var i = e;
    return Gi(i, !1) || (i = Qi + " " + t + " body " + Zi), Y(nn, (e)=>{
        var n, r;
        null !== (n = i) && void 0 !== n && n.length && -1 !== (null === (r = i) || void 0 === r ? void 0 : r.indexOf(e)) && (i = Qi + " " + t + " body " + Zi + " as might contain: " + e);
    }), i;
}
var an = (e, t)=>{
    var i, n, r, s = {
        payloadSizeLimitBytes: en.payloadSizeLimitBytes,
        performanceEntryTypeToObserve: [
            ...en.performanceEntryTypeToObserve
        ],
        payloadHostDenyList: [
            ...t.payloadHostDenyList || [],
            ...en.payloadHostDenyList
        ]
    }, o = !1 !== e.session_recording.recordHeaders && t.recordHeaders, a = !1 !== e.session_recording.recordBody && t.recordBody, l = !1 !== e.capture_performance && t.recordPerformance, u = (i = s, r = Math.min(1e6, null !== (n = i.payloadSizeLimitBytes) && void 0 !== n ? n : 1e6), (e)=>(null != e && e.requestBody && (e.requestBody = sn(e.requestBody, e.requestHeaders, r, "Request")), null != e && e.responseBody && (e.responseBody = sn(e.responseBody, e.responseHeaders, r, "Response")), e)), c = (t)=>{
        return u(((e, t)=>{
            var i, n = vt(e.name), r = 0 === t.indexOf("http") ? null === (i = vt(t)) || void 0 === i ? void 0 : i.pathname : t;
            "/" === r && (r = "");
            var s = null == n ? void 0 : n.pathname.replace(r || "", "");
            if (!(n && s && rn.some((e)=>0 === s.indexOf(e)))) return e;
        })((n = (i = t).requestHeaders, O(n) || Y(Object.keys(null != n ? n : {}), (e)=>{
            tn.includes(e.toLowerCase()) && (n[e] = Zi);
        }), i), e.api_host));
        "TURBOPACK unreachable";
        var i, n;
    }, d = I(e.session_recording.maskNetworkRequestFn);
    return d && I(e.session_recording.maskCapturedNetworkRequestFn) && q.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."), d && (e.session_recording.maskCapturedNetworkRequestFn = (t)=>{
        var i = e.session_recording.maskNetworkRequestFn({
            url: t.name
        });
        return j(j({}, t), {}, {
            name: null == i ? void 0 : i.url
        });
    }), s.maskRequestFn = I(e.session_recording.maskCapturedNetworkRequestFn) ? (t)=>{
        var i, n, r, s = c(t);
        return s && null !== (i = null === (n = (r = e.session_recording).maskCapturedNetworkRequestFn) || void 0 === n ? void 0 : n.call(r, s)) && void 0 !== i ? i : void 0;
    } : (e)=>(function(e) {
            if (!R(e)) return e.requestBody = on(e.requestBody, "Request"), e.responseBody = on(e.responseBody, "Response"), e;
        })(c(e)), j(j(j({}, en), s), {}, {
        recordHeaders: o,
        recordBody: a,
        recordPerformance: l,
        recordInitialRequests: l
    });
};
function ln(e, t, i, n, r) {
    return t > i && (q.warn("min cannot be greater than max."), t = i), L(e) ? e > i ? (n && q.warn(n + " cannot be  greater than max: " + i + ". Using max value instead."), i) : e < t ? (n && q.warn(n + " cannot be less than min: " + t + ". Using min value instead."), t) : e : (n && q.warn(n + " must be a number. using max or fallback. max: " + i + ", fallback: " + r), ln(r || i, t, i, n));
}
class un {
    constructor(e){
        var t, i, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        W(this, "bucketSize", 100), W(this, "refillRate", 10), W(this, "mutationBuckets", {}), W(this, "loggedTracker", {}), W(this, "refillBuckets", ()=>{
            Object.keys(this.mutationBuckets).forEach((e)=>{
                this.mutationBuckets[e] = this.mutationBuckets[e] + this.refillRate, this.mutationBuckets[e] >= this.bucketSize && delete this.mutationBuckets[e];
            });
        }), W(this, "getNodeOrRelevantParent", (e)=>{
            var t = this.rrweb.mirror.getNode(e);
            if ("svg" !== (null == t ? void 0 : t.nodeName) && t instanceof Element) {
                var i = t.closest("svg");
                if (i) return [
                    this.rrweb.mirror.getId(i),
                    i
                ];
            }
            return [
                e,
                t
            ];
        }), W(this, "numberOfChanges", (e)=>{
            var t, i, n, r, s, o, a, l;
            return (null !== (t = null === (i = e.removes) || void 0 === i ? void 0 : i.length) && void 0 !== t ? t : 0) + (null !== (n = null === (r = e.attributes) || void 0 === r ? void 0 : r.length) && void 0 !== n ? n : 0) + (null !== (s = null === (o = e.texts) || void 0 === o ? void 0 : o.length) && void 0 !== s ? s : 0) + (null !== (a = null === (l = e.adds) || void 0 === l ? void 0 : l.length) && void 0 !== a ? a : 0);
        }), W(this, "throttleMutations", (e)=>{
            if (3 !== e.type || 0 !== e.data.source) return e;
            var t = e.data, i = this.numberOfChanges(t);
            t.attributes && (t.attributes = t.attributes.filter((e)=>{
                var t, i, n, [r, s] = this.getNodeOrRelevantParent(e.id);
                if (0 === this.mutationBuckets[r]) return !1;
                (this.mutationBuckets[r] = null !== (t = this.mutationBuckets[r]) && void 0 !== t ? t : this.bucketSize, this.mutationBuckets[r] = Math.max(this.mutationBuckets[r] - 1, 0), 0 === this.mutationBuckets[r]) && (this.loggedTracker[r] || (this.loggedTracker[r] = !0, null === (i = (n = this.options).onBlockedNode) || void 0 === i || i.call(n, r, s)));
                return e;
            }));
            var n = this.numberOfChanges(t);
            return 0 !== n || i === n ? e : void 0;
        }), this.rrweb = e, this.options = n, this.refillRate = ln(null !== (t = this.options.refillRate) && void 0 !== t ? t : this.refillRate, 0, 100, "mutation throttling refill rate"), this.bucketSize = ln(null !== (i = this.options.bucketSize) && void 0 !== i ? i : this.bucketSize, 0, 100, "mutation throttling bucket size"), setInterval(()=>{
            this.refillBuckets();
        }, 1e3);
    }
}
var cn = Uint8Array, dn = Uint16Array, hn = Uint32Array, _n = new cn([
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    1,
    1,
    1,
    2,
    2,
    2,
    2,
    3,
    3,
    3,
    3,
    4,
    4,
    4,
    4,
    5,
    5,
    5,
    5,
    0,
    0,
    0,
    0
]), pn = new cn([
    0,
    0,
    0,
    0,
    1,
    1,
    2,
    2,
    3,
    3,
    4,
    4,
    5,
    5,
    6,
    6,
    7,
    7,
    8,
    8,
    9,
    9,
    10,
    10,
    11,
    11,
    12,
    12,
    13,
    13,
    0,
    0
]), vn = new cn([
    16,
    17,
    18,
    0,
    8,
    7,
    9,
    6,
    10,
    5,
    11,
    4,
    12,
    3,
    13,
    2,
    14,
    1,
    15
]), gn = function(e, t) {
    for(var i = new dn(31), n = 0; n < 31; ++n)i[n] = t += 1 << e[n - 1];
    var r = new hn(i[30]);
    for(n = 1; n < 30; ++n)for(var s = i[n]; s < i[n + 1]; ++s)r[s] = s - i[n] << 5 | n;
    return [
        i,
        r
    ];
}, fn = gn(_n, 2), mn = fn[0], bn = fn[1];
mn[28] = 258, bn[258] = 28;
for(var yn = gn(pn, 0)[1], wn = new dn(32768), Sn = 0; Sn < 32768; ++Sn){
    var En = (43690 & Sn) >>> 1 | (21845 & Sn) << 1;
    En = (61680 & (En = (52428 & En) >>> 2 | (13107 & En) << 2)) >>> 4 | (3855 & En) << 4, wn[Sn] = ((65280 & En) >>> 8 | (255 & En) << 8) >>> 1;
}
var kn = function(e, t, i) {
    for(var n = e.length, r = 0, s = new dn(t); r < n; ++r)++s[e[r] - 1];
    var o, a = new dn(t);
    for(r = 0; r < t; ++r)a[r] = a[r - 1] + s[r - 1] << 1;
    if (i) {
        o = new dn(1 << t);
        var l = 15 - t;
        for(r = 0; r < n; ++r)if (e[r]) for(var u = r << 4 | e[r], c = t - e[r], d = a[e[r] - 1]++ << c, h = d | (1 << c) - 1; d <= h; ++d)o[wn[d] >>> l] = u;
    } else for(o = new dn(n), r = 0; r < n; ++r)o[r] = wn[a[e[r] - 1]++] >>> 15 - e[r];
    return o;
}, xn = new cn(288);
for(Sn = 0; Sn < 144; ++Sn)xn[Sn] = 8;
for(Sn = 144; Sn < 256; ++Sn)xn[Sn] = 9;
for(Sn = 256; Sn < 280; ++Sn)xn[Sn] = 7;
for(Sn = 280; Sn < 288; ++Sn)xn[Sn] = 8;
var In = new cn(32);
for(Sn = 0; Sn < 32; ++Sn)In[Sn] = 5;
var Cn = kn(xn, 9, 0), Pn = kn(In, 5, 0), Rn = function(e) {
    return (e / 8 >> 0) + (7 & e && 1);
}, Fn = function(e, t, i) {
    (null == i || i > e.length) && (i = e.length);
    var n = new (e instanceof dn ? dn : e instanceof hn ? hn : cn)(i - t);
    return n.set(e.subarray(t, i)), n;
}, Tn = function(e, t, i) {
    i <<= 7 & t;
    var n = t / 8 >> 0;
    e[n] |= i, e[n + 1] |= i >>> 8;
}, $n = function(e, t, i) {
    i <<= 7 & t;
    var n = t / 8 >> 0;
    e[n] |= i, e[n + 1] |= i >>> 8, e[n + 2] |= i >>> 16;
}, On = function(e, t) {
    for(var i = [], n = 0; n < e.length; ++n)e[n] && i.push({
        s: n,
        f: e[n]
    });
    var r = i.length, s = i.slice();
    if (!r) return [
        new cn(0),
        0
    ];
    if (1 == r) {
        var o = new cn(i[0].s + 1);
        return o[i[0].s] = 1, [
            o,
            1
        ];
    }
    i.sort(function(e, t) {
        return e.f - t.f;
    }), i.push({
        s: -1,
        f: 25001
    });
    var a = i[0], l = i[1], u = 0, c = 1, d = 2;
    for(i[0] = {
        s: -1,
        f: a.f + l.f,
        l: a,
        r: l
    }; c != r - 1;)a = i[i[u].f < i[d].f ? u++ : d++], l = i[u != c && i[u].f < i[d].f ? u++ : d++], i[c++] = {
        s: -1,
        f: a.f + l.f,
        l: a,
        r: l
    };
    var h = s[0].s;
    for(n = 1; n < r; ++n)s[n].s > h && (h = s[n].s);
    var _ = new dn(h + 1), p = Ln(i[c - 1], _, 0);
    if (p > t) {
        n = 0;
        var v = 0, g = p - t, f = 1 << g;
        for(s.sort(function(e, t) {
            return _[t.s] - _[e.s] || e.f - t.f;
        }); n < r; ++n){
            var m = s[n].s;
            if (!(_[m] > t)) break;
            v += f - (1 << p - _[m]), _[m] = t;
        }
        for(v >>>= g; v > 0;){
            var b = s[n].s;
            _[b] < t ? v -= 1 << t - _[b]++ - 1 : ++n;
        }
        for(; n >= 0 && v; --n){
            var y = s[n].s;
            _[y] == t && (--_[y], ++v);
        }
        p = t;
    }
    return [
        new cn(_),
        p
    ];
}, Ln = function(e, t, i) {
    return -1 == e.s ? Math.max(Ln(e.l, t, i + 1), Ln(e.r, t, i + 1)) : t[e.s] = i;
}, Mn = function(e) {
    for(var t = e.length; t && !e[--t];);
    for(var i = new dn(++t), n = 0, r = e[0], s = 1, o = function(e) {
        i[n++] = e;
    }, a = 1; a <= t; ++a)if (e[a] == r && a != t) ++s;
    else {
        if (!r && s > 2) {
            for(; s > 138; s -= 138)o(32754);
            s > 2 && (o(s > 10 ? s - 11 << 5 | 28690 : s - 3 << 5 | 12305), s = 0);
        } else if (s > 3) {
            for(o(r), --s; s > 6; s -= 6)o(8304);
            s > 2 && (o(s - 3 << 5 | 8208), s = 0);
        }
        for(; s--;)o(r);
        s = 1, r = e[a];
    }
    return [
        i.subarray(0, n),
        t
    ];
}, An = function(e, t) {
    for(var i = 0, n = 0; n < t.length; ++n)i += e[n] * t[n];
    return i;
}, Dn = function(e, t, i) {
    var n = i.length, r = Rn(t + 2);
    e[r] = 255 & n, e[r + 1] = n >>> 8, e[r + 2] = 255 ^ e[r], e[r + 3] = 255 ^ e[r + 1];
    for(var s = 0; s < n; ++s)e[r + s + 4] = i[s];
    return 8 * (r + 4 + n);
}, Nn = function(e, t, i, n, r, s, o, a, l, u, c) {
    Tn(t, c++, i), ++r[256];
    for(var d = On(r, 15), h = d[0], _ = d[1], p = On(s, 15), v = p[0], g = p[1], f = Mn(h), m = f[0], b = f[1], y = Mn(v), w = y[0], S = y[1], E = new dn(19), k = 0; k < m.length; ++k)E[31 & m[k]]++;
    for(k = 0; k < w.length; ++k)E[31 & w[k]]++;
    for(var x = On(E, 7), I = x[0], C = x[1], P = 19; P > 4 && !I[vn[P - 1]]; --P);
    var R, F, T, $, O = u + 5 << 3, L = An(r, xn) + An(s, In) + o, M = An(r, h) + An(s, v) + o + 14 + 3 * P + An(E, I) + (2 * E[16] + 3 * E[17] + 7 * E[18]);
    if (O <= L && O <= M) return Dn(t, c, e.subarray(l, l + u));
    if (Tn(t, c, 1 + (M < L)), c += 2, M < L) {
        R = kn(h, _, 0), F = h, T = kn(v, g, 0), $ = v;
        var A = kn(I, C, 0);
        Tn(t, c, b - 257), Tn(t, c + 5, S - 1), Tn(t, c + 10, P - 4), c += 14;
        for(k = 0; k < P; ++k)Tn(t, c + 3 * k, I[vn[k]]);
        c += 3 * P;
        for(var D = [
            m,
            w
        ], N = 0; N < 2; ++N){
            var q = D[N];
            for(k = 0; k < q.length; ++k){
                var B = 31 & q[k];
                Tn(t, c, A[B]), c += I[B], B > 15 && (Tn(t, c, q[k] >>> 5 & 127), c += q[k] >>> 12);
            }
        }
    } else R = Cn, F = xn, T = Pn, $ = In;
    for(k = 0; k < a; ++k)if (n[k] > 255) {
        B = n[k] >>> 18 & 31;
        $n(t, c, R[B + 257]), c += F[B + 257], B > 7 && (Tn(t, c, n[k] >>> 23 & 31), c += _n[B]);
        var H = 31 & n[k];
        $n(t, c, T[H]), c += $[H], H > 3 && ($n(t, c, n[k] >>> 5 & 8191), c += pn[H]);
    } else $n(t, c, R[n[k]]), c += F[n[k]];
    return $n(t, c, R[256]), c + F[256];
}, qn = new hn([
    65540,
    131080,
    131088,
    131104,
    262176,
    1048704,
    1048832,
    2114560,
    2117632
]), Bn = function() {
    for(var e = new hn(256), t = 0; t < 256; ++t){
        for(var i = t, n = 9; --n;)i = (1 & i && 3988292384) ^ i >>> 1;
        e[t] = i;
    }
    return e;
}(), Hn = function() {
    var e = 4294967295;
    return {
        p: function(t) {
            for(var i = e, n = 0; n < t.length; ++n)i = Bn[255 & i ^ t[n]] ^ i >>> 8;
            e = i;
        },
        d: function() {
            return 4294967295 ^ e;
        }
    };
}, Un = function(e, t, i, n, r) {
    return function(e, t, i, n, r, s) {
        var o = e.length, a = new cn(n + o + 5 * (1 + Math.floor(o / 7e3)) + r), l = a.subarray(n, a.length - r), u = 0;
        if (!t || o < 8) for(var c = 0; c <= o; c += 65535){
            var d = c + 65535;
            d < o ? u = Dn(l, u, e.subarray(c, d)) : (l[c] = s, u = Dn(l, u, e.subarray(c, o)));
        }
        else {
            for(var h = qn[t - 1], _ = h >>> 13, p = 8191 & h, v = (1 << i) - 1, g = new dn(32768), f = new dn(v + 1), m = Math.ceil(i / 3), b = 2 * m, y = function(t) {
                return (e[t] ^ e[t + 1] << m ^ e[t + 2] << b) & v;
            }, w = new hn(25e3), S = new dn(288), E = new dn(32), k = 0, x = 0, I = (c = 0, 0), C = 0, P = 0; c < o; ++c){
                var R = y(c), F = 32767 & c, T = f[R];
                if (g[F] = T, f[R] = F, C <= c) {
                    var $ = o - c;
                    if ((k > 7e3 || I > 24576) && $ > 423) {
                        u = Nn(e, l, 0, w, S, E, x, I, P, c - P, u), I = k = x = 0, P = c;
                        for(var O = 0; O < 286; ++O)S[O] = 0;
                        for(O = 0; O < 30; ++O)E[O] = 0;
                    }
                    var L = 2, M = 0, A = p, D = F - T & 32767;
                    if ($ > 2 && R == y(c - D)) for(var N = Math.min(_, $) - 1, q = Math.min(32767, c), B = Math.min(258, $); D <= q && --A && F != T;){
                        if (e[c + L] == e[c + L - D]) {
                            for(var H = 0; H < B && e[c + H] == e[c + H - D]; ++H);
                            if (H > L) {
                                if (L = H, M = D, H > N) break;
                                var U = Math.min(D, H - 2), z = 0;
                                for(O = 0; O < U; ++O){
                                    var j = c - D + O + 32768 & 32767, W = j - g[j] + 32768 & 32767;
                                    W > z && (z = W, T = j);
                                }
                            }
                        }
                        D += (F = T) - (T = g[F]) + 32768 & 32767;
                    }
                    if (M) {
                        w[I++] = 268435456 | bn[L] << 18 | yn[M];
                        var G = 31 & bn[L], V = 31 & yn[M];
                        x += _n[G] + pn[V], ++S[257 + G], ++E[V], C = c + L, ++k;
                    } else w[I++] = e[c], ++S[e[c]];
                }
            }
            u = Nn(e, l, s, w, S, E, x, I, P, c - P, u);
        }
        return Fn(a, 0, n + Rn(u) + r);
    }(e, null == t.level ? 6 : t.level, null == t.mem ? Math.ceil(1.5 * Math.max(8, Math.min(13, Math.log(e.length)))) : 12 + t.mem, i, n, !r);
}, zn = function(e, t, i) {
    for(; i; ++t)e[t] = i, i >>>= 8;
}, jn = function(e, t) {
    var i = t.filename;
    if (e[0] = 31, e[1] = 139, e[2] = 8, e[8] = t.level < 2 ? 4 : 9 == t.level ? 2 : 0, e[9] = 3, 0 != t.mtime && zn(e, 4, Math.floor(new Date(t.mtime || Date.now()) / 1e3)), i) {
        e[3] = 8;
        for(var n = 0; n <= i.length; ++n)e[n + 10] = i.charCodeAt(n);
    }
}, Wn = function(e) {
    return 10 + (e.filename && e.filename.length + 1 || 0);
};
function Gn(e, t) {
    void 0 === t && (t = {});
    var i = Hn(), n = e.length;
    i.p(e);
    var r = Un(e, t, Wn(t), 8), s = r.length;
    return jn(r, t), zn(r, s - 8, i.d()), zn(r, s - 4, n), r;
}
function Vn(e, t) {
    var i = e.length;
    if ("undefined" != typeof TextEncoder) return (new TextEncoder).encode(e);
    for(var n = new cn(e.length + (e.length >>> 1)), r = 0, s = function(e) {
        n[r++] = e;
    }, o = 0; o < i; ++o){
        if (r + 5 > n.length) {
            var a = new cn(r + 8 + (i - o << 1));
            a.set(n), n = a;
        }
        var l = e.charCodeAt(o);
        l < 128 || t ? s(l) : l < 2048 ? (s(192 | l >>> 6), s(128 | 63 & l)) : l > 55295 && l < 57344 ? (s(240 | (l = 65536 + (1047552 & l) | 1023 & e.charCodeAt(++o)) >>> 18), s(128 | l >>> 12 & 63), s(128 | l >>> 6 & 63), s(128 | 63 & l)) : (s(224 | l >>> 12), s(128 | l >>> 6 & 63), s(128 | 63 & l));
    }
    return Fn(n, 0, r);
}
var Jn = "[SessionRecording]", Yn = B(Jn), Kn = 3e5, Xn = [
    Ei.MouseMove,
    Ei.MouseInteraction,
    Ei.Scroll,
    Ei.ViewportResize,
    Ei.Input,
    Ei.TouchMove,
    Ei.MediaInteraction,
    Ei.Drag
], Qn = (e)=>({
        rrwebMethod: e,
        enqueuedAt: Date.now(),
        attempt: 1
    });
function Zn(e) {
    return function(e, t) {
        for(var i = "", n = 0; n < e.length;){
            var r = e[n++];
            r < 128 || t ? i += String.fromCharCode(r) : ("TURBOPACK unreachable", undefined);
        }
        return i;
    }(Gn(Vn(JSON.stringify(e))), !0);
}
function er(e) {
    return e.type === Si.Custom && "sessionIdle" === e.data.tag;
}
function tr(e, t) {
    return t.some((t)=>"regex" === t.matching && new RegExp(t.url).test(e));
}
class ir {
    get sessionIdleThresholdMilliseconds() {
        return this.instance.config.session_recording.session_idle_threshold_ms || 3e5;
    }
    get rrwebRecord() {
        var e, t;
        return null == _ || null === (e = _.__PosthogExtensions__) || void 0 === e || null === (t = e.rrweb) || void 0 === t ? void 0 : t.record;
    }
    get started() {
        return this._captureStarted;
    }
    get sessionManager() {
        if (!this.instance.sessionManager) throw new Error(Jn + " must be started with a valid sessionManager.");
        return this.instance.sessionManager;
    }
    get fullSnapshotIntervalMillis() {
        var e, t;
        return "trigger_pending" === this.triggerStatus ? 6e4 : null !== (e = null === (t = this.instance.config.session_recording) || void 0 === t ? void 0 : t.full_snapshot_interval_millis) && void 0 !== e ? e : Kn;
    }
    get isSampled() {
        var e = this.instance.get_property(we);
        return M(e) ? e : null;
    }
    get sessionDuration() {
        var e, t, i = null === (e = this.buffer) || void 0 === e ? void 0 : e.data[(null === (t = this.buffer) || void 0 === t ? void 0 : t.data.length) - 1], { sessionStartTimestamp: n } = this.sessionManager.checkAndGetSessionAndWindowId(!0);
        return i ? i.timestamp - n : null;
    }
    get isRecordingEnabled() {
        var e = !!this.instance.get_property(_e), i = !this.instance.config.disable_session_recording;
        return t && e && i;
    }
    get isConsoleLogCaptureEnabled() {
        var e = !!this.instance.get_property(pe), t = this.instance.config.enable_recording_console_log;
        return null != t ? t : e;
    }
    get canvasRecording() {
        var e, t, i, n, r, s, o = this.instance.config.session_recording.captureCanvas, a = this.instance.get_property(ge), l = null !== (e = null !== (t = null == o ? void 0 : o.recordCanvas) && void 0 !== t ? t : null == a ? void 0 : a.enabled) && void 0 !== e && e, u = null !== (i = null !== (n = null == o ? void 0 : o.canvasFps) && void 0 !== n ? n : null == a ? void 0 : a.fps) && void 0 !== i ? i : 0, c = null !== (r = null !== (s = null == o ? void 0 : o.canvasQuality) && void 0 !== s ? s : null == a ? void 0 : a.quality) && void 0 !== r ? r : 0;
        return {
            enabled: l,
            fps: ln(u, 0, 12, "canvas recording fps"),
            quality: ln(c, 0, 1, "canvas recording quality")
        };
    }
    get networkPayloadCapture() {
        var e, t, i = this.instance.get_property(ve), n = {
            recordHeaders: null === (e = this.instance.config.session_recording) || void 0 === e ? void 0 : e.recordHeaders,
            recordBody: null === (t = this.instance.config.session_recording) || void 0 === t ? void 0 : t.recordBody
        }, r = (null == n ? void 0 : n.recordHeaders) || (null == i ? void 0 : i.recordHeaders), s = (null == n ? void 0 : n.recordBody) || (null == i ? void 0 : i.recordBody), o = C(this.instance.config.capture_performance) ? this.instance.config.capture_performance.network_timing : this.instance.config.capture_performance, a = !!(M(o) ? o : null == i ? void 0 : i.capturePerformance);
        return r || s || a ? {
            recordHeaders: r,
            recordBody: s,
            recordPerformance: a
        } : void 0;
    }
    get sampleRate() {
        var e = this.instance.get_property(fe);
        return L(e) ? e : null;
    }
    get minimumDuration() {
        var e = this.instance.get_property(me);
        return L(e) ? e : null;
    }
    get status() {
        return this.receivedDecide ? this.isRecordingEnabled ? this._urlBlocked ? "paused" : O(this._linkedFlag) || this._linkedFlagSeen ? "trigger_pending" === this.triggerStatus ? "buffering" : M(this.isSampled) ? this.isSampled ? "sampled" : "disabled" : "active" : "buffering" : "disabled" : "buffering";
    }
    get urlTriggerStatus() {
        var e;
        return 0 === this._urlTriggers.length ? "trigger_disabled" : (null === (e = this.instance) || void 0 === e ? void 0 : e.get_property(Se)) === this.sessionId ? "trigger_activated" : "trigger_pending";
    }
    get eventTriggerStatus() {
        var e;
        return 0 === this._eventTriggers.length ? "trigger_disabled" : (null === (e = this.instance) || void 0 === e ? void 0 : e.get_property(Ee)) === this.sessionId ? "trigger_activated" : "trigger_pending";
    }
    get triggerStatus() {
        var e = "trigger_activated" === this.eventTriggerStatus || "trigger_activated" === this.urlTriggerStatus, t = "trigger_pending" === this.eventTriggerStatus || "trigger_pending" === this.urlTriggerStatus;
        return e ? "trigger_activated" : t ? "trigger_pending" : "trigger_disabled";
    }
    constructor(e){
        if (W(this, "queuedRRWebEvents", []), W(this, "isIdle", !1), W(this, "_linkedFlagSeen", !1), W(this, "_lastActivityTimestamp", Date.now()), W(this, "_linkedFlag", null), W(this, "_removePageViewCaptureHook", void 0), W(this, "_onSessionIdListener", void 0), W(this, "_persistDecideOnSessionListener", void 0), W(this, "_samplingSessionListener", void 0), W(this, "_urlTriggers", []), W(this, "_urlBlocklist", []), W(this, "_urlBlocked", !1), W(this, "_eventTriggers", []), W(this, "_removeEventTriggerCaptureHook", void 0), W(this, "_forceAllowLocalhostNetworkCapture", !1), W(this, "_onBeforeUnload", ()=>{
            this._flushBuffer();
        }), W(this, "_onOffline", ()=>{
            this._tryAddCustomEvent("browser offline", {});
        }), W(this, "_onOnline", ()=>{
            this._tryAddCustomEvent("browser online", {});
        }), W(this, "_onVisibilityChange", ()=>{
            if (null != a && a.visibilityState) {
                var e = "window " + a.visibilityState;
                this._tryAddCustomEvent(e, {});
            }
        }), this.instance = e, this._captureStarted = !1, this._endpoint = "/s/", this.stopRrweb = void 0, this.receivedDecide = !1, !this.instance.sessionManager) throw Yn.error("started without valid sessionManager"), new Error(Jn + " started without valid sessionManager. This is a bug.");
        if (this.instance.config.__preview_experimental_cookieless_mode) throw new Error(Jn + " cannot be used with __preview_experimental_cookieless_mode.");
        var { sessionId: t, windowId: i } = this.sessionManager.checkAndGetSessionAndWindowId();
        this.sessionId = t, this.windowId = i, this.buffer = this.clearBuffer(), this.sessionIdleThresholdMilliseconds >= this.sessionManager.sessionTimeoutMs && Yn.warn("session_idle_threshold_ms (".concat(this.sessionIdleThresholdMilliseconds, ") is greater than the session timeout (").concat(this.sessionManager.sessionTimeoutMs, "). Session will never be detected as idle"));
    }
    startIfEnabledOrStop(e) {
        this.isRecordingEnabled ? (this._startCapture(e), null == t || t.addEventListener("beforeunload", this._onBeforeUnload), null == t || t.addEventListener("offline", this._onOffline), null == t || t.addEventListener("online", this._onOnline), null == t || t.addEventListener("visibilitychange", this._onVisibilityChange), this._setupSampling(), this._addEventTriggerListener(), O(this._removePageViewCaptureHook) && (this._removePageViewCaptureHook = this.instance.on("eventCaptured", (e)=>{
            try {
                if ("$pageview" === e.event) {
                    var t = null != e && e.properties.$current_url ? this._maskUrl(null == e ? void 0 : e.properties.$current_url) : "";
                    if (!t) return;
                    this._tryAddCustomEvent("$pageview", {
                        href: t
                    });
                }
            } catch (e) {
                Yn.error("Could not add $pageview to rrweb session", e);
            }
        })), this._onSessionIdListener || (this._onSessionIdListener = this.sessionManager.onSessionId((e, t, i)=>{
            var n, r, s, o;
            i && (this._tryAddCustomEvent("$session_id_change", {
                sessionId: e,
                windowId: t,
                changeReason: i
            }), null === (n = this.instance) || void 0 === n || null === (r = n.persistence) || void 0 === r || r.unregister(Ee), null === (s = this.instance) || void 0 === s || null === (o = s.persistence) || void 0 === o || o.unregister(Se));
        }))) : this.stopRecording();
    }
    stopRecording() {
        var e, i, n, r;
        this._captureStarted && this.stopRrweb && (this.stopRrweb(), this.stopRrweb = void 0, this._captureStarted = !1, null == t || t.removeEventListener("beforeunload", this._onBeforeUnload), null == t || t.removeEventListener("offline", this._onOffline), null == t || t.removeEventListener("online", this._onOnline), null == t || t.removeEventListener("visibilitychange", this._onVisibilityChange), this.clearBuffer(), clearInterval(this._fullSnapshotTimer), null === (e = this._removePageViewCaptureHook) || void 0 === e || e.call(this), this._removePageViewCaptureHook = void 0, null === (i = this._removeEventTriggerCaptureHook) || void 0 === i || i.call(this), this._removeEventTriggerCaptureHook = void 0, null === (n = this._onSessionIdListener) || void 0 === n || n.call(this), this._onSessionIdListener = void 0, null === (r = this._samplingSessionListener) || void 0 === r || r.call(this), this._samplingSessionListener = void 0, Yn.info("stopped"));
    }
    makeSamplingDecision(e) {
        var t, i = this.sessionId !== e, n = this.sampleRate;
        if (L(n)) {
            var r, s = this.isSampled, o = i || !M(s);
            if (o) r = Math.random() < n;
            else r = s;
            o && (r ? this._reportStarted("sampled") : Yn.warn("Sample rate (".concat(n, ") has determined that this sessionId (").concat(e, ") will not be sent to the server.")), this._tryAddCustomEvent("samplingDecisionMade", {
                sampleRate: n,
                isSampled: r
            })), null === (t = this.instance.persistence) || void 0 === t || t.register({
                [we]: r
            });
        } else {
            var a;
            null === (a = this.instance.persistence) || void 0 === a || a.register({
                [we]: null
            });
        }
    }
    onRemoteConfig(e) {
        var t, i, n, r, s, o;
        (this._tryAddCustomEvent("$remote_config_received", e), this._persistRemoteConfig(e), this._linkedFlag = (null === (t = e.sessionRecording) || void 0 === t ? void 0 : t.linkedFlag) || null, null !== (i = e.sessionRecording) && void 0 !== i && i.endpoint) && (this._endpoint = null === (o = e.sessionRecording) || void 0 === o ? void 0 : o.endpoint);
        if (this._setupSampling(), !O(this._linkedFlag) && !this._linkedFlagSeen) {
            var a = F(this._linkedFlag) ? this._linkedFlag : this._linkedFlag.flag, l = F(this._linkedFlag) ? null : this._linkedFlag.variant;
            this.instance.onFeatureFlags((e, t)=>{
                var i = C(t) && a in t, n = l ? t[a] === l : i;
                n && this._reportStarted("linked_flag_matched", {
                    linkedFlag: a,
                    linkedVariant: l
                }), this._linkedFlagSeen = n;
            });
        }
        null !== (n = e.sessionRecording) && void 0 !== n && n.urlTriggers && (this._urlTriggers = e.sessionRecording.urlTriggers), null !== (r = e.sessionRecording) && void 0 !== r && r.urlBlocklist && (this._urlBlocklist = e.sessionRecording.urlBlocklist), null !== (s = e.sessionRecording) && void 0 !== s && s.eventTriggers && (this._eventTriggers = e.sessionRecording.eventTriggers), this.receivedDecide = !0, this.startIfEnabledOrStop();
    }
    _setupSampling() {
        L(this.sampleRate) && O(this._samplingSessionListener) && (this._samplingSessionListener = this.sessionManager.onSessionId((e)=>{
            this.makeSamplingDecision(e);
        }));
    }
    _persistRemoteConfig(e) {
        if (this.instance.persistence) {
            var t, i = this.instance.persistence, n = ()=>{
                var t, n, r, s, o, a, l, u, c = null === (t = e.sessionRecording) || void 0 === t ? void 0 : t.sampleRate, d = O(c) ? null : parseFloat(c), h = null === (n = e.sessionRecording) || void 0 === n ? void 0 : n.minimumDurationMilliseconds;
                i.register({
                    [_e]: !!e.sessionRecording,
                    [pe]: null === (r = e.sessionRecording) || void 0 === r ? void 0 : r.consoleLogRecordingEnabled,
                    [ve]: j({
                        capturePerformance: e.capturePerformance
                    }, null === (s = e.sessionRecording) || void 0 === s ? void 0 : s.networkPayloadCapture),
                    [ge]: {
                        enabled: null === (o = e.sessionRecording) || void 0 === o ? void 0 : o.recordCanvas,
                        fps: null === (a = e.sessionRecording) || void 0 === a ? void 0 : a.canvasFps,
                        quality: null === (l = e.sessionRecording) || void 0 === l ? void 0 : l.canvasQuality
                    },
                    [fe]: d,
                    [me]: R(h) ? null : h,
                    [be]: null === (u = e.sessionRecording) || void 0 === u ? void 0 : u.scriptConfig
                });
            };
            n(), null === (t = this._persistDecideOnSessionListener) || void 0 === t || t.call(this), this._persistDecideOnSessionListener = this.sessionManager.onSessionId(n);
        }
    }
    log(e) {
        var t, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "log";
        null === (t = this.instance.sessionRecording) || void 0 === t || t.onRRwebEmit({
            type: 6,
            data: {
                plugin: "rrweb/console@1",
                payload: {
                    level: i,
                    trace: [],
                    payload: [
                        JSON.stringify(e)
                    ]
                }
            },
            timestamp: Date.now()
        });
    }
    _startCapture(e) {
        if (!R(Object.assign) && !R(Array.from) && !(this._captureStarted || this.instance.config.disable_session_recording || this.instance.consent.isOptedOut())) {
            var t, i;
            if (this._captureStarted = !0, this.sessionManager.checkAndGetSessionAndWindowId(), this.rrwebRecord) this._onScriptLoaded();
            else null === (t = _.__PosthogExtensions__) || void 0 === t || null === (i = t.loadExternalDependency) || void 0 === i || i.call(t, this.instance, this.scriptName, (e)=>{
                if (e) return Yn.error("could not load recorder", e);
                this._onScriptLoaded();
            });
            Yn.info("starting"), "active" === this.status && this._reportStarted(e || "recording_initialized");
        }
    }
    get scriptName() {
        var e, t, i;
        return (null === (e = this.instance) || void 0 === e || null === (t = e.persistence) || void 0 === t || null === (i = t.get_property(be)) || void 0 === i ? void 0 : i.script) || "recorder";
    }
    isInteractiveEvent(e) {
        var t;
        return 3 === e.type && -1 !== Xn.indexOf(null === (t = e.data) || void 0 === t ? void 0 : t.source);
    }
    _updateWindowAndSessionIds(e) {
        var t = this.isInteractiveEvent(e);
        t || this.isIdle || e.timestamp - this._lastActivityTimestamp > this.sessionIdleThresholdMilliseconds && (this.isIdle = !0, clearInterval(this._fullSnapshotTimer), this._tryAddCustomEvent("sessionIdle", {
            eventTimestamp: e.timestamp,
            lastActivityTimestamp: this._lastActivityTimestamp,
            threshold: this.sessionIdleThresholdMilliseconds,
            bufferLength: this.buffer.data.length,
            bufferSize: this.buffer.size
        }), this._flushBuffer());
        var i = !1;
        if (t && (this._lastActivityTimestamp = e.timestamp, this.isIdle && (this.isIdle = !1, this._tryAddCustomEvent("sessionNoLongerIdle", {
            reason: "user activity",
            type: e.type
        }), i = !0)), !this.isIdle) {
            var { windowId: n, sessionId: r } = this.sessionManager.checkAndGetSessionAndWindowId(!t, e.timestamp), s = this.sessionId !== r, o = this.windowId !== n;
            this.windowId = n, this.sessionId = r, s || o ? (this.stopRecording(), this.startIfEnabledOrStop("session_id_changed")) : i && this._scheduleFullSnapshot();
        }
    }
    _tryRRWebMethod(e) {
        try {
            return e.rrwebMethod(), !0;
        } catch (t) {
            return this.queuedRRWebEvents.length < 10 ? this.queuedRRWebEvents.push({
                enqueuedAt: e.enqueuedAt || Date.now(),
                attempt: e.attempt++,
                rrwebMethod: e.rrwebMethod
            }) : Yn.warn("could not emit queued rrweb event.", t, e), !1;
        }
    }
    _tryAddCustomEvent(e, t) {
        return this._tryRRWebMethod(Qn(()=>this.rrwebRecord.addCustomEvent(e, t)));
    }
    _tryTakeFullSnapshot() {
        return this._tryRRWebMethod(Qn(()=>this.rrwebRecord.takeFullSnapshot()));
    }
    _onScriptLoaded() {
        var e, t = {
            blockClass: "ph-no-capture",
            blockSelector: void 0,
            ignoreClass: "ph-ignore-input",
            maskTextClass: "ph-mask",
            maskTextSelector: void 0,
            maskTextFn: void 0,
            maskAllInputs: !0,
            maskInputOptions: {
                password: !0
            },
            maskInputFn: void 0,
            slimDOMOptions: {},
            collectFonts: !1,
            inlineStylesheet: !0,
            recordCrossOriginIframes: !1
        }, i = this.instance.config.session_recording;
        for (var [n, r] of Object.entries(i || {}))n in t && ("maskInputOptions" === n ? t.maskInputOptions = j({
            password: !0
        }, r) : t[n] = r);
        if (this.canvasRecording && this.canvasRecording.enabled && (t.recordCanvas = !0, t.sampling = {
            canvas: this.canvasRecording.fps
        }, t.dataURLOptions = {
            type: "image/webp",
            quality: this.canvasRecording.quality
        }), this.rrwebRecord) {
            this.mutationRateLimiter = null !== (e = this.mutationRateLimiter) && void 0 !== e ? e : new un(this.rrwebRecord, {
                refillRate: this.instance.config.session_recording.__mutationRateLimiterRefillRate,
                bucketSize: this.instance.config.session_recording.__mutationRateLimiterBucketSize,
                onBlockedNode: (e, t)=>{
                    var i = "Too many mutations on node '".concat(e, "'. Rate limiting. This could be due to SVG animations or something similar");
                    Yn.info(i, {
                        node: t
                    }), this.log(Jn + " " + i, "warn");
                }
            });
            var s = this._gatherRRWebPlugins();
            this.stopRrweb = this.rrwebRecord(j({
                emit: (e)=>{
                    this.onRRwebEmit(e);
                },
                plugins: s
            }, t)), this._lastActivityTimestamp = Date.now(), this.isIdle = !1, this._tryAddCustomEvent("$session_options", {
                sessionRecordingOptions: t,
                activePlugins: s.map((e)=>null == e ? void 0 : e.name)
            }), this._tryAddCustomEvent("$posthog_config", {
                config: this.instance.config
            });
        } else Yn.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.");
    }
    _scheduleFullSnapshot() {
        if (this._fullSnapshotTimer && clearInterval(this._fullSnapshotTimer), !this.isIdle) {
            var e = this.fullSnapshotIntervalMillis;
            e && (this._fullSnapshotTimer = setInterval(()=>{
                this._tryTakeFullSnapshot();
            }, e));
        }
    }
    _gatherRRWebPlugins() {
        var e, t, i, n, r = [], s = null === (e = _.__PosthogExtensions__) || void 0 === e || null === (t = e.rrwebPlugins) || void 0 === t ? void 0 : t.getRecordConsolePlugin;
        s && this.isConsoleLogCaptureEnabled && r.push(s());
        var o = null === (i = _.__PosthogExtensions__) || void 0 === i || null === (n = i.rrwebPlugins) || void 0 === n ? void 0 : n.getRecordNetworkPlugin;
        this.networkPayloadCapture && I(o) && (!pt.includes(location.hostname) || this._forceAllowLocalhostNetworkCapture ? r.push(o(an(this.instance.config, this.networkPayloadCapture))) : Yn.info("NetworkCapture not started because we are on localhost."));
        return r;
    }
    onRRwebEmit(e) {
        var t;
        if (this._processQueuedEvents(), e && C(e)) {
            if (e.type === Si.Meta) {
                var i = this._maskUrl(e.data.href);
                if (this._lastHref = i, !i) return;
                e.data.href = i;
            } else this._pageViewFallBack();
            if (this._checkUrlTriggerConditions(), "paused" !== this.status || function(e) {
                return e.type === Si.Custom && "recording paused" === e.data.tag;
            }(e)) {
                e.type === Si.FullSnapshot && this._scheduleFullSnapshot(), e.type === Si.FullSnapshot && "trigger_pending" === this.triggerStatus && this.clearBuffer();
                var n = this.mutationRateLimiter ? this.mutationRateLimiter.throttleMutations(e) : e;
                if (n) {
                    var r = function(e) {
                        var t = e;
                        if (t && C(t) && 6 === t.type && C(t.data) && "rrweb/console@1" === t.data.plugin) {
                            t.data.payload.payload.length > 10 && (t.data.payload.payload = t.data.payload.payload.slice(0, 10), t.data.payload.payload.push("...[truncated]"));
                            for(var i = [], n = 0; n < t.data.payload.payload.length; n++)t.data.payload.payload[n] && t.data.payload.payload[n].length > 2e3 ? i.push(t.data.payload.payload[n].slice(0, 2e3) + "...[truncated]") : i.push(t.data.payload.payload[n]);
                            return t.data.payload.payload = i, e;
                        }
                        return e;
                    }(n);
                    if (this._updateWindowAndSessionIds(r), !this.isIdle || er(r)) {
                        if (er(r)) {
                            var s = r.data.payload;
                            if (s) {
                                var o = s.lastActivityTimestamp, a = s.threshold;
                                r.timestamp = o + a;
                            }
                        }
                        var l = null === (t = this.instance.config.session_recording.compress_events) || void 0 === t || t ? function(e) {
                            if (yi(e) < 1024) return e;
                            try {
                                if (e.type === Si.FullSnapshot) return j(j({}, e), {}, {
                                    data: Zn(e.data),
                                    cv: "2024-10"
                                });
                                if (e.type === Si.IncrementalSnapshot && e.data.source === Ei.Mutation) return j(j({}, e), {}, {
                                    cv: "2024-10",
                                    data: j(j({}, e.data), {}, {
                                        texts: Zn(e.data.texts),
                                        attributes: Zn(e.data.attributes),
                                        removes: Zn(e.data.removes),
                                        adds: Zn(e.data.adds)
                                    })
                                });
                                if (e.type === Si.IncrementalSnapshot && e.data.source === Ei.StyleSheetRule) return j(j({}, e), {}, {
                                    cv: "2024-10",
                                    data: j(j({}, e.data), {}, {
                                        adds: Zn(e.data.adds),
                                        removes: Zn(e.data.removes)
                                    })
                                });
                            } catch (e) {
                                Yn.error("could not compress event - will use uncompressed event", e);
                            }
                            return e;
                        }(r) : r, u = {
                            $snapshot_bytes: yi(l),
                            $snapshot_data: l,
                            $session_id: this.sessionId,
                            $window_id: this.windowId
                        };
                        "disabled" !== this.status ? this._captureSnapshotBuffered(u) : this.clearBuffer();
                    }
                }
            }
        }
    }
    _pageViewFallBack() {
        if (!this.instance.config.capture_pageview && t) {
            var e = this._maskUrl(t.location.href);
            this._lastHref !== e && (this._tryAddCustomEvent("$url_changed", {
                href: e
            }), this._lastHref = e);
        }
    }
    _processQueuedEvents() {
        if (this.queuedRRWebEvents.length) {
            var e = [
                ...this.queuedRRWebEvents
            ];
            this.queuedRRWebEvents = [], e.forEach((e)=>{
                Date.now() - e.enqueuedAt <= 2e3 && this._tryRRWebMethod(e);
            });
        }
    }
    _maskUrl(e) {
        var t = this.instance.config.session_recording;
        if (t.maskNetworkRequestFn) {
            var i, n = {
                url: e
            };
            return null === (i = n = t.maskNetworkRequestFn(n)) || void 0 === i ? void 0 : i.url;
        }
        return e;
    }
    clearBuffer() {
        return this.buffer = {
            size: 0,
            data: [],
            sessionId: this.sessionId,
            windowId: this.windowId
        }, this.buffer;
    }
    _flushBuffer() {
        this.flushBufferTimer && (clearTimeout(this.flushBufferTimer), this.flushBufferTimer = void 0);
        var e = this.minimumDuration, t = this.sessionDuration, i = L(t) && t >= 0, n = L(e) && i && t < e;
        if ("buffering" === this.status || "paused" === this.status || n) return this.flushBufferTimer = setTimeout(()=>{
            this._flushBuffer();
        }, 2e3), this.buffer;
        this.buffer.data.length > 0 && wi(this.buffer).forEach((e)=>{
            this._captureSnapshot({
                $snapshot_bytes: e.size,
                $snapshot_data: e.data,
                $session_id: e.sessionId,
                $window_id: e.windowId,
                $lib: "web",
                $lib_version: p.LIB_VERSION
            });
        });
        return this.clearBuffer();
    }
    _captureSnapshotBuffered(e) {
        var t, i = 2 + ((null === (t = this.buffer) || void 0 === t ? void 0 : t.data.length) || 0);
        !this.isIdle && (this.buffer.size + e.$snapshot_bytes + i > 943718.4 || this.buffer.sessionId !== this.sessionId) && (this.buffer = this._flushBuffer()), this.buffer.size += e.$snapshot_bytes, this.buffer.data.push(e.$snapshot_data), this.flushBufferTimer || this.isIdle || (this.flushBufferTimer = setTimeout(()=>{
            this._flushBuffer();
        }, 2e3));
    }
    _captureSnapshot(e) {
        this.instance.capture("$snapshot", e, {
            _url: this.instance.requestRouter.endpointFor("api", this._endpoint),
            _noTruncate: !0,
            _batchKey: "recordings",
            skip_client_rate_limiting: !0
        });
    }
    _checkUrlTriggerConditions() {
        if (void 0 !== t && t.location.href) {
            var e = t.location.href, i = "paused" === this.status, n = tr(e, this._urlBlocklist);
            n && !i ? this._pauseRecording() : !n && i && this._resumeRecording(), tr(e, this._urlTriggers) && this._activateTrigger("url");
        }
    }
    _activateTrigger(e) {
        var t, i;
        "trigger_pending" === this.triggerStatus && (null === (t = this.instance) || void 0 === t || null === (i = t.persistence) || void 0 === i || i.register({
            ["url" === e ? Se : Ee]: this.sessionId
        }), this._flushBuffer(), this._reportStarted(e + "_trigger_matched"));
    }
    _pauseRecording() {
        "paused" !== this.status && (this._urlBlocked = !0, clearInterval(this._fullSnapshotTimer), Yn.info("recording paused due to URL blocker"), this._tryAddCustomEvent("recording paused", {
            reason: "url blocker"
        }));
    }
    _resumeRecording() {
        "paused" === this.status && (this._urlBlocked = !1, this._tryTakeFullSnapshot(), this._scheduleFullSnapshot(), this._tryAddCustomEvent("recording resumed", {
            reason: "left blocked url"
        }), Yn.info("recording resumed"));
    }
    _addEventTriggerListener() {
        0 !== this._eventTriggers.length && O(this._removeEventTriggerCaptureHook) && (this._removeEventTriggerCaptureHook = this.instance.on("eventCaptured", (e)=>{
            try {
                this._eventTriggers.includes(e.event) && this._activateTrigger("event");
            } catch (e) {
                Yn.error("Could not activate event trigger", e);
            }
        }));
    }
    overrideLinkedFlag() {
        this._linkedFlagSeen = !0, this._reportStarted("linked_flag_overridden");
    }
    overrideSampling() {
        var e;
        null === (e = this.instance.persistence) || void 0 === e || e.register({
            [we]: !0
        }), this._reportStarted("sampling_overridden");
    }
    overrideTrigger(e) {
        this._activateTrigger(e);
    }
    _reportStarted(e, t) {
        this.instance.register_for_session({
            $session_recording_start_reason: e
        }), Yn.info(e.replace("_", " "), t), m([
            "recording_initialized",
            "session_id_changed"
        ], e) || this._tryAddCustomEvent(e, t);
    }
}
var nr = B("[RemoteConfig]");
class rr {
    constructor(e){
        this.instance = e;
    }
    get remoteConfig() {
        var e, t;
        return null === (e = _._POSTHOG_REMOTE_CONFIG) || void 0 === e || null === (t = e[this.instance.config.token]) || void 0 === t ? void 0 : t.config;
    }
    _loadRemoteConfigJs(e) {
        var t, i, n;
        null !== (t = _.__PosthogExtensions__) && void 0 !== t && t.loadExternalDependency ? null === (i = _.__PosthogExtensions__) || void 0 === i || null === (n = i.loadExternalDependency) || void 0 === n || n.call(i, this.instance, "remote-config", ()=>e(this.remoteConfig)) : (nr.error("PostHog Extensions not found. Cannot load remote config."), e());
    }
    _loadRemoteConfigJSON(e) {
        this.instance._send_request({
            method: "GET",
            url: this.instance.requestRouter.endpointFor("assets", "/array/".concat(this.instance.config.token, "/config")),
            callback: (t)=>{
                e(t.json);
            }
        });
    }
    load() {
        try {
            if (this.remoteConfig) return nr.info("Using preloaded remote config", this.remoteConfig), void this.onRemoteConfig(this.remoteConfig);
            if (this.instance.config.advanced_disable_decide) return void nr.warn("Remote config is disabled. Falling back to local config.");
            this._loadRemoteConfigJs((e)=>{
                if (!e) return nr.info("No config found after loading remote JS config. Falling back to JSON."), void this._loadRemoteConfigJSON((e)=>{
                    this.onRemoteConfig(e);
                });
                this.onRemoteConfig(e);
            });
        } catch (e) {
            nr.error("Error loading remote config", e);
        }
    }
    onRemoteConfig(e) {
        e ? this.instance.config.__preview_remote_config ? (this.instance._onRemoteConfig(e), !1 !== e.hasFeatureFlags && this.instance.featureFlags.ensureFlagsLoaded()) : nr.info("__preview_remote_config is disabled. Logging config instead", e) : nr.error("Failed to fetch remote config from PostHog.");
    }
}
var sr, or = null != t && t.location ? bt(t.location.hash, "__posthog") || bt(location.hash, "state") : null, ar = "_postHogToolbarParams";
!function(e) {
    e[e.UNINITIALIZED = 0] = "UNINITIALIZED", e[e.LOADING = 1] = "LOADING", e[e.LOADED = 2] = "LOADED";
}(sr || (sr = {}));
class lr {
    constructor(e){
        this.instance = e;
    }
    setToolbarState(e) {
        _.ph_toolbar_state = e;
    }
    getToolbarState() {
        var e;
        return null !== (e = _.ph_toolbar_state) && void 0 !== e ? e : sr.UNINITIALIZED;
    }
    maybeLoadToolbar() {
        var e, i, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0, s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : void 0;
        if (!t || !a) return !1;
        n = null !== (e = n) && void 0 !== e ? e : t.location, s = null !== (i = s) && void 0 !== i ? i : t.history;
        try {
            if (!r) {
                try {
                    t.localStorage.setItem("test", "test"), t.localStorage.removeItem("test");
                } catch (e) {
                    return !1;
                }
                r = null == t ? void 0 : t.localStorage;
            }
            var o, l = or || bt(n.hash, "__posthog") || bt(n.hash, "state"), u = l ? Q(()=>JSON.parse(atob(decodeURIComponent(l)))) || Q(()=>JSON.parse(decodeURIComponent(l))) : null;
            return u && "ph_authorize" === u.action ? ((o = u).source = "url", o && Object.keys(o).length > 0 && (u.desiredHash ? n.hash = u.desiredHash : s ? s.replaceState(s.state, "", n.pathname + n.search) : n.hash = "")) : ((o = JSON.parse(r.getItem(ar) || "{}")).source = "localstorage", delete o.userIntent), !(!o.token || this.instance.config.token !== o.token) && (this.loadToolbar(o), !0);
        } catch (e) {
            return !1;
        }
    }
    _callLoadToolbar(e) {
        (_.ph_load_toolbar || _.ph_load_editor)(e, this.instance);
    }
    loadToolbar(e) {
        var i = !(null == a || !a.getElementById(Ne));
        if (!t || i) return !1;
        var n = "custom" === this.instance.requestRouter.region && this.instance.config.advanced_disable_toolbar_metrics, r = j(j({
            token: this.instance.config.token
        }, e), {}, {
            apiURL: this.instance.requestRouter.endpointFor("ui")
        }, n ? {
            instrument: !1
        } : {});
        if (t.localStorage.setItem(ar, JSON.stringify(j(j({}, r), {}, {
            source: void 0
        }))), this.getToolbarState() === sr.LOADED) this._callLoadToolbar(r);
        else if (this.getToolbarState() === sr.UNINITIALIZED) {
            var s, o;
            this.setToolbarState(sr.LOADING), null === (s = _.__PosthogExtensions__) || void 0 === s || null === (o = s.loadExternalDependency) || void 0 === o || o.call(s, this.instance, "toolbar", (e)=>{
                if (e) return q.error("[Toolbar] Failed to load", e), void this.setToolbarState(sr.UNINITIALIZED);
                this.setToolbarState(sr.LOADED), this._callLoadToolbar(r);
            }), ie(t, "turbolinks:load", ()=>{
                this.setToolbarState(sr.UNINITIALIZED), this.loadToolbar(r);
            });
        }
        return !0;
    }
    _loadEditor(e) {
        return this.loadToolbar(e);
    }
    maybeLoadEditor() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : void 0;
        return this.maybeLoadToolbar(e, t, i);
    }
}
class ur {
    constructor(e){
        W(this, "isPaused", !0), W(this, "queue", []), W(this, "flushTimeoutMs", 3e3), this.sendRequest = e;
    }
    enqueue(e) {
        this.queue.push(e), this.flushTimeout || this.setFlushTimeout();
    }
    unload() {
        this.clearFlushTimeout();
        var e = this.queue.length > 0 ? this.formatQueue() : {}, t = Object.values(e), i = [
            ...t.filter((e)=>0 === e.url.indexOf("/e")),
            ...t.filter((e)=>0 !== e.url.indexOf("/e"))
        ];
        i.map((e)=>{
            this.sendRequest(j(j({}, e), {}, {
                transport: "sendBeacon"
            }));
        });
    }
    enable() {
        this.isPaused = !1, this.setFlushTimeout();
    }
    setFlushTimeout() {
        var e = this;
        this.isPaused || (this.flushTimeout = setTimeout(()=>{
            if (this.clearFlushTimeout(), this.queue.length > 0) {
                var t = this.formatQueue(), i = function(i) {
                    var n = t[i], r = (new Date).getTime();
                    n.data && x(n.data) && Y(n.data, (e)=>{
                        e.offset = Math.abs(e.timestamp - r), delete e.timestamp;
                    }), e.sendRequest(n);
                };
                for(var n in t)i(n);
            }
        }, this.flushTimeoutMs));
    }
    clearFlushTimeout() {
        clearTimeout(this.flushTimeout), this.flushTimeout = void 0;
    }
    formatQueue() {
        var e = {};
        return Y(this.queue, (t)=>{
            var i, n = t, r = (n ? n.batchKey : null) || n.url;
            R(e[r]) && (e[r] = j(j({}, n), {}, {
                data: []
            })), null === (i = e[r].data) || void 0 === i || i.push(n.data);
        }), this.queue = [], e;
    }
}
var cr = function(e) {
    var t, i, n, r, s = "";
    for(t = i = 0, n = (e = (e + "").replace(/\r\n/g, "\n").replace(/\r/g, "\n")).length, r = 0; r < n; r++){
        var o = e.charCodeAt(r), a = null;
        o < 128 ? i++ : a = o > 127 && o < 2048 ? String.fromCharCode(o >> 6 | 192, 63 & o | 128) : String.fromCharCode(o >> 12 | 224, o >> 6 & 63 | 128, 63 & o | 128), $(a) || (i > t && (s += e.substring(t, i)), s += a, t = i = r + 1);
    }
    return i > t && (s += e.substring(t, e.length)), s;
}, dr = !!c || !!u, hr = "text/plain", _r = (e, t)=>{
    var [i, n] = e.split("?"), r = j({}, t);
    null == n || n.split("&").forEach((e)=>{
        var [t] = e.split("=");
        delete r[t];
    });
    var s = ft(r);
    return s = s ? (n ? n + "&" : "") + s : n, "".concat(i, "?").concat(s);
}, pr = (e, t)=>JSON.stringify(e, (e, t)=>"bigint" == typeof t ? t.toString() : t, t), vr = (t)=>{
    var { data: i, compression: n } = t;
    if (i) {
        if (n === e.GZipJS) {
            var r = Gn(Vn(pr(i)), {
                mtime: 0
            }), s = new Blob([
                r
            ], {
                type: hr
            });
            return {
                contentType: hr,
                body: s,
                estimatedSize: s.size
            };
        }
        if (n === e.Base64) {
            var o = function(e) {
                var t, i, n, r, s, o = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", a = 0, l = 0, u = "", c = [];
                if (!e) return e;
                e = cr(e);
                do {
                    t = (s = e.charCodeAt(a++) << 16 | e.charCodeAt(a++) << 8 | e.charCodeAt(a++)) >> 18 & 63, i = s >> 12 & 63, n = s >> 6 & 63, r = 63 & s, c[l++] = o.charAt(t) + o.charAt(i) + o.charAt(n) + o.charAt(r);
                }while (a < e.length)
                switch(u = c.join(""), e.length % 3){
                    case 1:
                        u = u.slice(0, -2) + "==";
                        break;
                    case 2:
                        u = u.slice(0, -1) + "=";
                }
                return u;
            }(pr(i)), a = ((e)=>"data=" + encodeURIComponent("string" == typeof e ? e : pr(e)))(o);
            return {
                contentType: "application/x-www-form-urlencoded",
                body: a,
                estimatedSize: new Blob([
                    a
                ]).size
            };
        }
        var l = pr(i);
        return {
            contentType: "application/json",
            body: l,
            estimatedSize: new Blob([
                l
            ]).size
        };
    }
}, gr = [];
u && gr.push({
    transport: "fetch",
    method: (e)=>{
        var t, i, { contentType: n, body: r, estimatedSize: s } = null !== (t = vr(e)) && void 0 !== t ? t : {}, o = new Headers;
        Y(e.headers, function(e, t) {
            o.append(t, e);
        }), n && o.append("Content-Type", n);
        var a = e.url, l = null;
        if (d) {
            var c = new d;
            l = {
                signal: c.signal,
                timeout: setTimeout(()=>c.abort(), e.timeout)
            };
        }
        u(a, j({
            method: (null == e ? void 0 : e.method) || "GET",
            headers: o,
            keepalive: "POST" === e.method && (s || 0) < 52428.8,
            body: r,
            signal: null === (i = l) || void 0 === i ? void 0 : i.signal
        }, e.fetchOptions)).then((t)=>t.text().then((i)=>{
                var n, r = {
                    statusCode: t.status,
                    text: i
                };
                if (200 === t.status) try {
                    r.json = JSON.parse(i);
                } catch (e) {
                    q.error(e);
                }
                null === (n = e.callback) || void 0 === n || n.call(e, r);
            })).catch((t)=>{
            var i;
            q.error(t), null === (i = e.callback) || void 0 === i || i.call(e, {
                statusCode: 0,
                text: t
            });
        }).finally(()=>l ? clearTimeout(l.timeout) : null);
    }
}), c && gr.push({
    transport: "XHR",
    method: (e)=>{
        var t, i = new c;
        i.open(e.method || "GET", e.url, !0);
        var { contentType: n, body: r } = null !== (t = vr(e)) && void 0 !== t ? t : {};
        Y(e.headers, function(e, t) {
            i.setRequestHeader(t, e);
        }), n && i.setRequestHeader("Content-Type", n), e.timeout && (i.timeout = e.timeout), i.withCredentials = !0, i.onreadystatechange = ()=>{
            if (4 === i.readyState) {
                var t, n = {
                    statusCode: i.status,
                    text: i.responseText
                };
                if (200 === i.status) try {
                    n.json = JSON.parse(i.responseText);
                } catch (e) {}
                null === (t = e.callback) || void 0 === t || t.call(e, n);
            }
        }, i.send(r);
    }
}), null != o && o.sendBeacon && gr.push({
    transport: "sendBeacon",
    method: (e)=>{
        var t = _r(e.url, {
            beacon: "1"
        });
        try {
            var i, { contentType: n, body: r } = null !== (i = vr(e)) && void 0 !== i ? i : {}, s = "string" == typeof r ? new Blob([
                r
            ], {
                type: n
            }) : r;
            o.sendBeacon(t, s);
        } catch (e) {}
    }
});
var fr = [
    "retriesPerformedSoFar"
];
class mr {
    constructor(e){
        W(this, "isPolling", !1), W(this, "pollIntervalMs", 3e3), W(this, "queue", []), this.instance = e, this.queue = [], this.areWeOnline = !0, !R(t) && "onLine" in t.navigator && (this.areWeOnline = t.navigator.onLine, t.addEventListener("online", ()=>{
            this.areWeOnline = !0, this.flush();
        }), t.addEventListener("offline", ()=>{
            this.areWeOnline = !1;
        }));
    }
    retriableRequest(e) {
        var { retriesPerformedSoFar: t } = e, i = G(e, fr);
        L(t) && t > 0 && (i.url = _r(i.url, {
            retry_count: t
        })), this.instance._send_request(j(j({}, i), {}, {
            callback: (e)=>{
                var n;
                200 !== e.statusCode && (e.statusCode < 400 || e.statusCode >= 500) && (null != t ? t : 0) < 10 ? this.enqueue(j({
                    retriesPerformedSoFar: t
                }, i)) : null === (n = i.callback) || void 0 === n || n.call(i, e);
            }
        }));
    }
    enqueue(e) {
        var t = e.retriesPerformedSoFar || 0;
        e.retriesPerformedSoFar = t + 1;
        var i = function(e) {
            var t = 3e3 * Math.pow(2, e), i = t / 2, n = Math.min(18e5, t), r = (Math.random() - .5) * (n - i);
            return Math.ceil(n + r);
        }(t), n = Date.now() + i;
        this.queue.push({
            retryAt: n,
            requestOptions: e
        });
        var r = "Enqueued failed request for retry in ".concat(i);
        navigator.onLine || (r += " (Browser is offline)"), q.warn(r), this.isPolling || (this.isPolling = !0, this.poll());
    }
    poll() {
        this.poller && clearTimeout(this.poller), this.poller = setTimeout(()=>{
            this.areWeOnline && this.queue.length > 0 && this.flush(), this.poll();
        }, this.pollIntervalMs);
    }
    flush() {
        var e = Date.now(), t = [], i = this.queue.filter((i)=>i.retryAt < e || (t.push(i), !1));
        if (this.queue = t, i.length > 0) for (var { requestOptions: n } of i)this.retriableRequest(n);
    }
    unload() {
        for (var { requestOptions: e } of (this.poller && (clearTimeout(this.poller), this.poller = void 0), this.queue))try {
            this.instance._send_request(j(j({}, e), {}, {
                transport: "sendBeacon"
            }));
        } catch (e) {
            q.error(e);
        }
        this.queue = [];
    }
}
var br, yr = B("[SessionId]");
class wr {
    constructor(e, t, i){
        var n;
        if (W(this, "_sessionIdChangedHandlers", []), !e.persistence) throw new Error("SessionIdManager requires a PostHogPersistence instance");
        if (e.config.__preview_experimental_cookieless_mode) throw new Error("SessionIdManager cannot be used with __preview_experimental_cookieless_mode");
        this.config = e.config, this.persistence = e.persistence, this._windowId = void 0, this._sessionId = void 0, this._sessionStartTimestamp = null, this._sessionActivityTimestamp = null, this._sessionIdGenerator = t || Ze, this._windowIdGenerator = i || Ze;
        var r = this.config.persistence_name || this.config.token, s = this.config.session_idle_timeout_seconds || 1800;
        if (this._sessionTimeoutMs = 1e3 * ln(s, 60, 36e3, "session_idle_timeout_seconds", 1800), e.register({
            $configured_session_timeout_ms: this._sessionTimeoutMs
        }), this.resetIdleTimer(), this._window_id_storage_key = "ph_" + r + "_window_id", this._primary_window_exists_storage_key = "ph_" + r + "_primary_window_exists", this._canUseSessionStorage()) {
            var o = _t.parse(this._window_id_storage_key), a = _t.parse(this._primary_window_exists_storage_key);
            o && !a ? this._windowId = o : _t.remove(this._window_id_storage_key), _t.set(this._primary_window_exists_storage_key, !0);
        }
        if (null !== (n = this.config.bootstrap) && void 0 !== n && n.sessionID) try {
            var l = ((e)=>{
                var t = e.replace(/-/g, "");
                if (32 !== t.length) throw new Error("Not a valid UUID");
                if ("7" !== t[12]) throw new Error("Not a UUIDv7");
                return parseInt(t.substring(0, 12), 16);
            })(this.config.bootstrap.sessionID);
            this._setSessionId(this.config.bootstrap.sessionID, (new Date).getTime(), l);
        } catch (e) {
            yr.error("Invalid sessionID in bootstrap", e);
        }
        this._listenToReloadWindow();
    }
    get sessionTimeoutMs() {
        return this._sessionTimeoutMs;
    }
    onSessionId(e) {
        return R(this._sessionIdChangedHandlers) && (this._sessionIdChangedHandlers = []), this._sessionIdChangedHandlers.push(e), this._sessionId && e(this._sessionId, this._windowId), ()=>{
            this._sessionIdChangedHandlers = this._sessionIdChangedHandlers.filter((t)=>t !== e);
        };
    }
    _canUseSessionStorage() {
        return "memory" !== this.config.persistence && !this.persistence.disabled && _t.is_supported();
    }
    _setWindowId(e) {
        e !== this._windowId && (this._windowId = e, this._canUseSessionStorage() && _t.set(this._window_id_storage_key, e));
    }
    _getWindowId() {
        return this._windowId ? this._windowId : this._canUseSessionStorage() ? _t.parse(this._window_id_storage_key) : null;
    }
    _setSessionId(e, t, i) {
        e === this._sessionId && t === this._sessionActivityTimestamp && i === this._sessionStartTimestamp || (this._sessionStartTimestamp = i, this._sessionActivityTimestamp = t, this._sessionId = e, this.persistence.register({
            [ye]: [
                t,
                e,
                i
            ]
        }));
    }
    _getSessionId() {
        if (this._sessionId && this._sessionActivityTimestamp && this._sessionStartTimestamp) return [
            this._sessionActivityTimestamp,
            this._sessionId,
            this._sessionStartTimestamp
        ];
        var e = this.persistence.props[ye];
        return x(e) && 2 === e.length && e.push(e[0]), e || [
            0,
            null,
            0
        ];
    }
    resetSessionId() {
        this._setSessionId(null, null, null);
    }
    _listenToReloadWindow() {
        null == t || t.addEventListener("beforeunload", ()=>{
            this._canUseSessionStorage() && _t.remove(this._primary_window_exists_storage_key);
        });
    }
    checkAndGetSessionAndWindowId() {
        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
        if (this.config.__preview_experimental_cookieless_mode) throw new Error("checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode");
        var i = t || (new Date).getTime(), [n, r, s] = this._getSessionId(), o = this._getWindowId(), a = L(s) && s > 0 && Math.abs(i - s) > 864e5, l = !1, u = !r, c = !e && Math.abs(i - n) > this.sessionTimeoutMs;
        u || c || a ? (r = this._sessionIdGenerator(), o = this._windowIdGenerator(), yr.info("new session ID generated", {
            sessionId: r,
            windowId: o,
            changeReason: {
                noSessionId: u,
                activityTimeout: c,
                sessionPastMaximumLength: a
            }
        }), s = i, l = !0) : o || (o = this._windowIdGenerator(), l = !0);
        var d = 0 === n || !e || a ? i : n, h = 0 === s ? (new Date).getTime() : s;
        return this._setWindowId(o), this._setSessionId(r, d, h), e || this.resetIdleTimer(), l && this._sessionIdChangedHandlers.forEach((e)=>e(r, o, l ? {
                noSessionId: u,
                activityTimeout: c,
                sessionPastMaximumLength: a
            } : void 0)), {
            sessionId: r,
            windowId: o,
            sessionStartTimestamp: h,
            changeReason: l ? {
                noSessionId: u,
                activityTimeout: c,
                sessionPastMaximumLength: a
            } : void 0,
            lastActivityTimestamp: n
        };
    }
    resetIdleTimer() {
        clearTimeout(this._enforceIdleTimeout), this._enforceIdleTimeout = setTimeout(()=>{
            this.resetSessionId();
        }, 1.1 * this.sessionTimeoutMs);
    }
}
!function(e) {
    e.US = "us", e.EU = "eu", e.CUSTOM = "custom";
}(br || (br = {}));
var Sr = "i.posthog.com";
class Er {
    constructor(e){
        W(this, "_regionCache", {}), this.instance = e;
    }
    get apiHost() {
        var e = this.instance.config.api_host.trim().replace(/\/$/, "");
        return "https://app.posthog.com" === e ? "https://us.i.posthog.com" : e;
    }
    get uiHost() {
        var e, t = null === (e = this.instance.config.ui_host) || void 0 === e ? void 0 : e.replace(/\/$/, "");
        return t || (t = this.apiHost.replace(".".concat(Sr), ".posthog.com")), "https://app.posthog.com" === t ? "https://us.posthog.com" : t;
    }
    get region() {
        return this._regionCache[this.apiHost] || (/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost) ? this._regionCache[this.apiHost] = br.US : /https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost) ? this._regionCache[this.apiHost] = br.EU : this._regionCache[this.apiHost] = br.CUSTOM), this._regionCache[this.apiHost];
    }
    endpointFor(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
        if (t && (t = "/" === t[0] ? t : "/".concat(t)), "ui" === e) return this.uiHost + t;
        if (this.region === br.CUSTOM) return this.apiHost + t;
        var i = Sr + t;
        switch(e){
            case "assets":
                return "https://".concat(this.region, "-assets.").concat(i);
            case "api":
                return "https://".concat(this.region, ".").concat(i);
        }
    }
}
var kr = "posthog-js";
function xr(e) {
    var { organization: t, projectId: i, prefix: n, severityAllowList: r = [
        "error"
    ] } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
    return (s)=>{
        var o, a, l, u, c;
        if (!("*" === r || r.includes(s.level)) || !e.__loaded) return s;
        s.tags || (s.tags = {});
        var d = e.requestRouter.endpointFor("ui", "/project/".concat(e.config.token, "/person/").concat(e.get_distinct_id()));
        s.tags["PostHog Person URL"] = d, e.sessionRecordingStarted() && (s.tags["PostHog Recording URL"] = e.get_session_replay_url({
            withTimestamp: !0
        }));
        var h = (null === (o = s.exception) || void 0 === o ? void 0 : o.values) || [];
        h.map((e)=>{
            e.stacktrace && (e.stacktrace.type = "raw");
        });
        var _ = {
            $exception_message: (null === (a = h[0]) || void 0 === a ? void 0 : a.value) || s.message,
            $exception_type: null === (l = h[0]) || void 0 === l ? void 0 : l.type,
            $exception_personURL: d,
            $exception_level: s.level,
            $exception_list: h,
            $sentry_event_id: s.event_id,
            $sentry_exception: s.exception,
            $sentry_exception_message: (null === (u = h[0]) || void 0 === u ? void 0 : u.value) || s.message,
            $sentry_exception_type: null === (c = h[0]) || void 0 === c ? void 0 : c.type,
            $sentry_tags: s.tags
        };
        return t && i && (_.$sentry_url = (n || "https://sentry.io/organizations/") + t + "/issues/?project=" + i + "&query=" + s.event_id), e.exceptions.sendExceptionEvent(_), s;
    };
}
class Ir {
    constructor(e, t, i, n, r){
        this.name = kr, this.setupOnce = function(s) {
            s(xr(e, {
                organization: t,
                projectId: i,
                prefix: n,
                severityAllowList: r
            }));
        };
    }
}
var Cr, Pr, Rr, Fr = B("[SegmentIntegration]");
function Tr(e, t) {
    var i = e.config.segment;
    if (!i) return t();
    !function(e, t) {
        var i = e.config.segment;
        if (!i) return t();
        var n = (i)=>{
            var n = ()=>i.anonymousId() || Ze();
            e.config.get_device_id = n, i.id() && (e.register({
                distinct_id: i.id(),
                $device_id: n()
            }), e.persistence.set_property(Te, "identified")), t();
        }, r = i.user();
        "then" in r && I(r.then) ? r.then((e)=>n(e)) : n(r);
    }(e, ()=>{
        i.register(((e)=>{
            Promise && Promise.resolve || Fr.warn("This browser does not have Promise support, and can not use the segment integration");
            var t = (t, i)=>{
                var n;
                if (!i) return t;
                t.event.userId || t.event.anonymousId === e.get_distinct_id() || (Fr.info("No userId set, resetting PostHog"), e.reset()), t.event.userId && t.event.userId !== e.get_distinct_id() && (Fr.info("UserId set, identifying with PostHog"), e.identify(t.event.userId));
                var r = e._calculate_event_properties(i, null !== (n = t.event.properties) && void 0 !== n ? n : {}, new Date);
                return t.event.properties = Object.assign({}, r, t.event.properties), t;
            };
            return {
                name: "PostHog JS",
                type: "enrichment",
                version: "1.0.0",
                isLoaded: ()=>!0,
                load: ()=>Promise.resolve(),
                track: (e)=>t(e, e.event.event),
                page: (e)=>t(e, "$pageview"),
                identify: (e)=>t(e, "$identify"),
                screen: (e)=>t(e, "$screen")
            };
        })(e)).then(()=>{
            t();
        });
    });
}
class $r {
    constructor(e){
        this._instance = e;
    }
    doPageView(e) {
        var i, n = this._previousPageViewProperties(e);
        return this._currentPath = null !== (i = null == t ? void 0 : t.location.pathname) && void 0 !== i ? i : "", this._instance.scrollManager.resetContext(), this._prevPageviewTimestamp = e, n;
    }
    doPageLeave(e) {
        return this._previousPageViewProperties(e);
    }
    _previousPageViewProperties(e) {
        var t = this._currentPath, i = this._prevPageviewTimestamp, n = this._instance.scrollManager.getContext();
        if (!i) return {};
        var r = {};
        if (n) {
            var { maxScrollHeight: s, lastScrollY: o, maxScrollY: a, maxContentHeight: l, lastContentY: u, maxContentY: c } = n;
            if (!(R(s) || R(o) || R(a) || R(l) || R(u) || R(c))) s = Math.ceil(s), o = Math.ceil(o), a = Math.ceil(a), l = Math.ceil(l), u = Math.ceil(u), c = Math.ceil(c), r = {
                $prev_pageview_last_scroll: o,
                $prev_pageview_last_scroll_percentage: s <= 1 ? 1 : ln(o / s, 0, 1),
                $prev_pageview_max_scroll: a,
                $prev_pageview_max_scroll_percentage: s <= 1 ? 1 : ln(a / s, 0, 1),
                $prev_pageview_last_content: u,
                $prev_pageview_last_content_percentage: l <= 1 ? 1 : ln(u / l, 0, 1),
                $prev_pageview_max_content: c,
                $prev_pageview_max_content_percentage: l <= 1 ? 1 : ln(c / l, 0, 1)
            };
        }
        return t && (r.$prev_pageview_pathname = t), i && (r.$prev_pageview_duration = (e.getTime() - i.getTime()) / 1e3), r;
    }
}
!function(e) {
    e.Popover = "popover", e.API = "api", e.Widget = "widget";
}(Cr || (Cr = {})), function(e) {
    e.Open = "open", e.MultipleChoice = "multiple_choice", e.SingleChoice = "single_choice", e.Rating = "rating", e.Link = "link";
}(Pr || (Pr = {})), function(e) {
    e.NextQuestion = "next_question", e.End = "end", e.ResponseBased = "response_based", e.SpecificQuestion = "specific_question";
}(Rr || (Rr = {}));
class Or {
    constructor(){
        W(this, "events", {}), this.events = {};
    }
    on(e, t) {
        return this.events[e] || (this.events[e] = []), this.events[e].push(t), ()=>{
            this.events[e] = this.events[e].filter((e)=>e !== t);
        };
    }
    emit(e, t) {
        for (var i of this.events[e] || [])i(t);
        for (var n of this.events["*"] || [])n(e, t);
    }
}
class Lr {
    constructor(e){
        W(this, "_debugEventEmitter", new Or), W(this, "checkStep", (e, t)=>this.checkStepEvent(e, t) && this.checkStepUrl(e, t) && this.checkStepElement(e, t)), W(this, "checkStepEvent", (e, t)=>null == t || !t.event || (null == e ? void 0 : e.event) === (null == t ? void 0 : t.event)), this.instance = e, this.actionEvents = new Set, this.actionRegistry = new Set;
    }
    init() {
        var e;
        if (!R(null === (e = this.instance) || void 0 === e ? void 0 : e._addCaptureHook)) {
            var t;
            null === (t = this.instance) || void 0 === t || t._addCaptureHook((e, t)=>{
                this.on(e, t);
            });
        }
    }
    register(e) {
        var t, i;
        if (!R(null === (t = this.instance) || void 0 === t ? void 0 : t._addCaptureHook) && (e.forEach((e)=>{
            var t, i;
            null === (t = this.actionRegistry) || void 0 === t || t.add(e), null === (i = e.steps) || void 0 === i || i.forEach((e)=>{
                var t;
                null === (t = this.actionEvents) || void 0 === t || t.add((null == e ? void 0 : e.event) || "");
            });
        }), null !== (i = this.instance) && void 0 !== i && i.autocapture)) {
            var n, r = new Set;
            e.forEach((e)=>{
                var t;
                null === (t = e.steps) || void 0 === t || t.forEach((e)=>{
                    null != e && e.selector && r.add(null == e ? void 0 : e.selector);
                });
            }), null === (n = this.instance) || void 0 === n || n.autocapture.setElementSelectors(r);
        }
    }
    on(e, t) {
        var i;
        null != t && 0 != e.length && (this.actionEvents.has(e) || this.actionEvents.has(null == t ? void 0 : t.event)) && this.actionRegistry && (null === (i = this.actionRegistry) || void 0 === i ? void 0 : i.size) > 0 && this.actionRegistry.forEach((e)=>{
            this.checkAction(t, e) && this._debugEventEmitter.emit("actionCaptured", e.name);
        });
    }
    _addActionHook(e) {
        this.onAction("actionCaptured", (t)=>e(t));
    }
    checkAction(e, t) {
        if (null == (null == t ? void 0 : t.steps)) return !1;
        for (var i of t.steps)if (this.checkStep(e, i)) return !0;
        return !1;
    }
    onAction(e, t) {
        return this._debugEventEmitter.on(e, t);
    }
    checkStepUrl(e, t) {
        if (null != t && t.url) {
            var i, n = null == e || null === (i = e.properties) || void 0 === i ? void 0 : i.$current_url;
            if (!n || "string" != typeof n) return !1;
            if (!Lr.matchString(n, null == t ? void 0 : t.url, (null == t ? void 0 : t.url_matching) || "contains")) return !1;
        }
        return !0;
    }
    static matchString(e, i, n) {
        switch(n){
            case "regex":
                return !!t && gt(e, i);
            case "exact":
                return i === e;
            case "contains":
                var r = Lr.escapeStringRegexp(i).replace(/_/g, ".").replace(/%/g, ".*");
                return gt(e, r);
            default:
                return !1;
        }
    }
    static escapeStringRegexp(e) {
        return e.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&").replace(/-/g, "\\x2d");
    }
    checkStepElement(e, t) {
        if ((null != t && t.href || null != t && t.tag_name || null != t && t.text) && !this.getElementsList(e).some((e)=>!(null != t && t.href && !Lr.matchString(e.href || "", null == t ? void 0 : t.href, (null == t ? void 0 : t.href_matching) || "exact")) && (null == t || !t.tag_name || e.tag_name === (null == t ? void 0 : t.tag_name)) && !(null != t && t.text && !Lr.matchString(e.text || "", null == t ? void 0 : t.text, (null == t ? void 0 : t.text_matching) || "exact") && !Lr.matchString(e.$el_text || "", null == t ? void 0 : t.text, (null == t ? void 0 : t.text_matching) || "exact")))) return !1;
        if (null != t && t.selector) {
            var i, n = null == e || null === (i = e.properties) || void 0 === i ? void 0 : i.$element_selectors;
            if (!n) return !1;
            if (!n.includes(null == t ? void 0 : t.selector)) return !1;
        }
        return !0;
    }
    getElementsList(e) {
        return null == (null == e ? void 0 : e.properties.$elements) ? [] : null == e ? void 0 : e.properties.$elements;
    }
}
class Mr {
    constructor(e){
        this.instance = e, this.eventToSurveys = new Map, this.actionToSurveys = new Map;
    }
    register(e) {
        var t;
        R(null === (t = this.instance) || void 0 === t ? void 0 : t._addCaptureHook) || (this.setupEventBasedSurveys(e), this.setupActionBasedSurveys(e));
    }
    setupActionBasedSurveys(e) {
        var t = e.filter((e)=>{
            var t, i, n, r;
            return (null === (t = e.conditions) || void 0 === t ? void 0 : t.actions) && (null === (i = e.conditions) || void 0 === i || null === (n = i.actions) || void 0 === n || null === (r = n.values) || void 0 === r ? void 0 : r.length) > 0;
        });
        if (0 !== t.length) {
            if (null == this.actionMatcher) {
                this.actionMatcher = new Lr(this.instance), this.actionMatcher.init();
                this.actionMatcher._addActionHook((e)=>{
                    this.onAction(e);
                });
            }
            t.forEach((e)=>{
                var t, i, n, r, s, o, a, l, u, c;
                e.conditions && null !== (t = e.conditions) && void 0 !== t && t.actions && null !== (i = e.conditions) && void 0 !== i && null !== (n = i.actions) && void 0 !== n && n.values && (null === (r = e.conditions) || void 0 === r || null === (s = r.actions) || void 0 === s || null === (o = s.values) || void 0 === o ? void 0 : o.length) > 0 && (null === (a = this.actionMatcher) || void 0 === a || a.register(e.conditions.actions.values), null === (l = e.conditions) || void 0 === l || null === (u = l.actions) || void 0 === u || null === (c = u.values) || void 0 === c || c.forEach((t)=>{
                    if (t && t.name) {
                        var i = this.actionToSurveys.get(t.name);
                        i && i.push(e.id), this.actionToSurveys.set(t.name, i || [
                            e.id
                        ]);
                    }
                }));
            });
        }
    }
    setupEventBasedSurveys(e) {
        var t;
        if (0 !== e.filter((e)=>{
            var t, i, n, r;
            return (null === (t = e.conditions) || void 0 === t ? void 0 : t.events) && (null === (i = e.conditions) || void 0 === i || null === (n = i.events) || void 0 === n || null === (r = n.values) || void 0 === r ? void 0 : r.length) > 0;
        }).length) {
            null === (t = this.instance) || void 0 === t || t._addCaptureHook((e, t)=>{
                this.onEvent(e, t);
            }), e.forEach((e)=>{
                var t, i, n;
                null === (t = e.conditions) || void 0 === t || null === (i = t.events) || void 0 === i || null === (n = i.values) || void 0 === n || n.forEach((t)=>{
                    if (t && t.name) {
                        var i = this.eventToSurveys.get(t.name);
                        i && i.push(e.id), this.eventToSurveys.set(t.name, i || [
                            e.id
                        ]);
                    }
                });
            });
        }
    }
    onEvent(e, t) {
        var i, n, r = (null === (i = this.instance) || void 0 === i || null === (n = i.persistence) || void 0 === n ? void 0 : n.props[Re]) || [];
        if (Mr.SURVEY_SHOWN_EVENT_NAME == e && t && r.length > 0) {
            var s, o = null == t || null === (s = t.properties) || void 0 === s ? void 0 : s.$survey_id;
            if (o) {
                var a = r.indexOf(o);
                a >= 0 && (r.splice(a, 1), this._updateActivatedSurveys(r));
            }
        } else this.eventToSurveys.has(e) && this._updateActivatedSurveys(r.concat(this.eventToSurveys.get(e) || []));
    }
    onAction(e) {
        var t, i, n = (null === (t = this.instance) || void 0 === t || null === (i = t.persistence) || void 0 === i ? void 0 : i.props[Re]) || [];
        this.actionToSurveys.has(e) && this._updateActivatedSurveys(n.concat(this.actionToSurveys.get(e) || []));
    }
    _updateActivatedSurveys(e) {
        var t, i;
        null === (t = this.instance) || void 0 === t || null === (i = t.persistence) || void 0 === i || i.register({
            [Re]: [
                ...new Set(e)
            ]
        });
    }
    getSurveys() {
        var e, t, i = null === (e = this.instance) || void 0 === e || null === (t = e.persistence) || void 0 === t ? void 0 : t.props[Re];
        return i || [];
    }
    getEventToSurveys() {
        return this.eventToSurveys;
    }
    _getActionMatcher() {
        return this.actionMatcher;
    }
}
W(Mr, "SURVEY_SHOWN_EVENT_NAME", "survey shown");
var Ar, Dr, Nr, qr, Br, Hr, Ur, zr, jr = {}, Wr = [], Gr = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i, Vr = Array.isArray;
function Jr(e, t) {
    for(var i in t)e[i] = t[i];
    return e;
}
function Yr(e) {
    var t = e.parentNode;
    t && t.removeChild(e);
}
function Kr(e, t, i, n, r) {
    var s = {
        type: e,
        props: t,
        key: i,
        ref: n,
        __k: null,
        __: null,
        __b: 0,
        __e: null,
        __d: void 0,
        __c: null,
        constructor: void 0,
        __v: null == r ? ++Nr : r,
        __i: -1,
        __u: 0
    };
    return null == r && null != Dr.vnode && Dr.vnode(s), s;
}
function Xr(e) {
    return e.children;
}
function Qr(e, t) {
    this.props = e, this.context = t;
}
function Zr(e, t) {
    if (null == t) return e.__ ? Zr(e.__, e.__i + 1) : null;
    for(var i; t < e.__k.length; t++)if (null != (i = e.__k[t]) && null != i.__e) return i.__e;
    return "function" == typeof e.type ? Zr(e) : null;
}
function es(e) {
    var t, i;
    if (null != (e = e.__) && null != e.__c) {
        for(e.__e = e.__c.base = null, t = 0; t < e.__k.length; t++)if (null != (i = e.__k[t]) && null != i.__e) {
            e.__e = e.__c.base = i.__e;
            break;
        }
        return es(e);
    }
}
function ts(e) {
    (!e.__d && (e.__d = !0) && qr.push(e) && !is.__r++ || Br !== Dr.debounceRendering) && ((Br = Dr.debounceRendering) || Hr)(is);
}
function is() {
    var e, t, i, n, r, s, o, a, l;
    for(qr.sort(Ur); e = qr.shift();)e.__d && (t = qr.length, n = void 0, s = (r = (i = e).__v).__e, a = [], l = [], (o = i.__P) && ((n = Jr({}, r)).__v = r.__v + 1, Dr.vnode && Dr.vnode(n), ds(o, n, r, i.__n, void 0 !== o.ownerSVGElement, 32 & r.__u ? [
        s
    ] : null, a, null == s ? Zr(r) : s, !!(32 & r.__u), l), n.__.__k[n.__i] = n, hs(a, n, l), n.__e != s && es(n)), qr.length > t && qr.sort(Ur));
    is.__r = 0;
}
function ns(e, t, i, n, r, s, o, a, l, u, c) {
    var d, h, _, p, v, g = n && n.__k || Wr, f = t.length;
    for(i.__d = l, rs(i, t, g), l = i.__d, d = 0; d < f; d++)null != (_ = i.__k[d]) && "boolean" != typeof _ && "function" != typeof _ && (h = -1 === _.__i ? jr : g[_.__i] || jr, _.__i = d, ds(e, _, h, r, s, o, a, l, u, c), p = _.__e, _.ref && h.ref != _.ref && (h.ref && ps(h.ref, null, _), c.push(_.ref, _.__c || p, _)), null == v && null != p && (v = p), 65536 & _.__u || h.__k === _.__k ? l = ss(_, l, e) : "function" == typeof _.type && void 0 !== _.__d ? l = _.__d : p && (l = p.nextSibling), _.__d = void 0, _.__u &= -196609);
    i.__d = l, i.__e = v;
}
function rs(e, t, i) {
    var n, r, s, o, a, l = t.length, u = i.length, c = u, d = 0;
    for(e.__k = [], n = 0; n < l; n++)null != (r = e.__k[n] = null == (r = t[n]) || "boolean" == typeof r || "function" == typeof r ? null : "string" == typeof r || "number" == typeof r || "bigint" == typeof r || r.constructor == String ? Kr(null, r, null, null, r) : Vr(r) ? Kr(Xr, {
        children: r
    }, null, null, null) : void 0 === r.constructor && r.__b > 0 ? Kr(r.type, r.props, r.key, r.ref ? r.ref : null, r.__v) : r) ? (r.__ = e, r.__b = e.__b + 1, a = os(r, i, o = n + d, c), r.__i = a, s = null, -1 !== a && (c--, (s = i[a]) && (s.__u |= 131072)), null == s || null === s.__v ? (-1 == a && d--, "function" != typeof r.type && (r.__u |= 65536)) : a !== o && (a === o + 1 ? d++ : a > o ? c > l - o ? d += a - o : d-- : d = a < o && a == o - 1 ? a - o : 0, a !== n + d && (r.__u |= 65536))) : (s = i[n]) && null == s.key && s.__e && (s.__e == e.__d && (e.__d = Zr(s)), vs(s, s, !1), i[n] = null, c--);
    if (c) for(n = 0; n < u; n++)null != (s = i[n]) && 0 == (131072 & s.__u) && (s.__e == e.__d && (e.__d = Zr(s)), vs(s, s));
}
function ss(e, t, i) {
    var n, r;
    if ("function" == typeof e.type) {
        for(n = e.__k, r = 0; n && r < n.length; r++)n[r] && (n[r].__ = e, t = ss(n[r], t, i));
        return t;
    }
    return e.__e != t && (i.insertBefore(e.__e, t || null), t = e.__e), t && t.nextSibling;
}
function os(e, t, i, n) {
    var r = e.key, s = e.type, o = i - 1, a = i + 1, l = t[i];
    if (null === l || l && r == l.key && s === l.type) return i;
    if (n > (null != l && 0 == (131072 & l.__u) ? 1 : 0)) for(; o >= 0 || a < t.length;){
        if (o >= 0) {
            if ((l = t[o]) && 0 == (131072 & l.__u) && r == l.key && s === l.type) return o;
            o--;
        }
        if (a < t.length) {
            if ((l = t[a]) && 0 == (131072 & l.__u) && r == l.key && s === l.type) return a;
            a++;
        }
    }
    return -1;
}
function as(e, t, i) {
    "-" === t[0] ? e.setProperty(t, null == i ? "" : i) : e[t] = null == i ? "" : "number" != typeof i || Gr.test(t) ? i : i + "px";
}
function ls(e, t, i, n, r) {
    var s;
    e: if ("style" === t) if ("string" == typeof i) e.style.cssText = i;
    else {
        if ("string" == typeof n && (e.style.cssText = n = ""), n) for(t in n)i && t in i || as(e.style, t, "");
        if (i) for(t in i)n && i[t] === n[t] || as(e.style, t, i[t]);
    }
    else if ("o" === t[0] && "n" === t[1]) s = t !== (t = t.replace(/(PointerCapture)$|Capture$/, "$1")), t = t.toLowerCase() in e ? t.toLowerCase().slice(2) : t.slice(2), e.l || (e.l = {}), e.l[t + s] = i, i ? n ? i.u = n.u : (i.u = Date.now(), e.addEventListener(t, s ? cs : us, s)) : e.removeEventListener(t, s ? cs : us, s);
    else {
        if (r) t = t.replace(/xlink(H|:h)/, "h").replace(/sName$/, "s");
        else if ("width" !== t && "height" !== t && "href" !== t && "list" !== t && "form" !== t && "tabIndex" !== t && "download" !== t && "rowSpan" !== t && "colSpan" !== t && "role" !== t && t in e) try {
            e[t] = null == i ? "" : i;
            break e;
        } catch (e) {}
        "function" == typeof i || (null == i || !1 === i && "-" !== t[4] ? e.removeAttribute(t) : e.setAttribute(t, i));
    }
}
function us(e) {
    var t = this.l[e.type + !1];
    if (e.t) {
        if (e.t <= t.u) return;
    } else e.t = Date.now();
    return t(Dr.event ? Dr.event(e) : e);
}
function cs(e) {
    return this.l[e.type + !0](Dr.event ? Dr.event(e) : e);
}
function ds(e, t, i, n, r, s, o, a, l, u) {
    var c, d, h, _, p, v, g, f, m, b, y, w, S, E, k, x = t.type;
    if (void 0 !== t.constructor) return null;
    128 & i.__u && (l = !!(32 & i.__u), s = [
        a = t.__e = i.__e
    ]), (c = Dr.__b) && c(t);
    e: if ("function" == typeof x) try {
        if (f = t.props, m = (c = x.contextType) && n[c.__c], b = c ? m ? m.props.value : c.__ : n, i.__c ? g = (d = t.__c = i.__c).__ = d.__E : ("prototype" in x && x.prototype.render ? t.__c = d = new x(f, b) : (t.__c = d = new Qr(f, b), d.constructor = x, d.render = gs), m && m.sub(d), d.props = f, d.state || (d.state = {}), d.context = b, d.__n = n, h = d.__d = !0, d.__h = [], d._sb = []), null == d.__s && (d.__s = d.state), null != x.getDerivedStateFromProps && (d.__s == d.state && (d.__s = Jr({}, d.__s)), Jr(d.__s, x.getDerivedStateFromProps(f, d.__s))), _ = d.props, p = d.state, d.__v = t, h) null == x.getDerivedStateFromProps && null != d.componentWillMount && d.componentWillMount(), null != d.componentDidMount && d.__h.push(d.componentDidMount);
        else {
            if (null == x.getDerivedStateFromProps && f !== _ && null != d.componentWillReceiveProps && d.componentWillReceiveProps(f, b), !d.__e && (null != d.shouldComponentUpdate && !1 === d.shouldComponentUpdate(f, d.__s, b) || t.__v === i.__v)) {
                for(t.__v !== i.__v && (d.props = f, d.state = d.__s, d.__d = !1), t.__e = i.__e, t.__k = i.__k, t.__k.forEach(function(e) {
                    e && (e.__ = t);
                }), y = 0; y < d._sb.length; y++)d.__h.push(d._sb[y]);
                d._sb = [], d.__h.length && o.push(d);
                break e;
            }
            null != d.componentWillUpdate && d.componentWillUpdate(f, d.__s, b), null != d.componentDidUpdate && d.__h.push(function() {
                d.componentDidUpdate(_, p, v);
            });
        }
        if (d.context = b, d.props = f, d.__P = e, d.__e = !1, w = Dr.__r, S = 0, "prototype" in x && x.prototype.render) {
            for(d.state = d.__s, d.__d = !1, w && w(t), c = d.render(d.props, d.state, d.context), E = 0; E < d._sb.length; E++)d.__h.push(d._sb[E]);
            d._sb = [];
        } else do {
            d.__d = !1, w && w(t), c = d.render(d.props, d.state, d.context), d.state = d.__s;
        }while (d.__d && ++S < 25)
        d.state = d.__s, null != d.getChildContext && (n = Jr(Jr({}, n), d.getChildContext())), h || null == d.getSnapshotBeforeUpdate || (v = d.getSnapshotBeforeUpdate(_, p)), ns(e, Vr(k = null != c && c.type === Xr && null == c.key ? c.props.children : c) ? k : [
            k
        ], t, i, n, r, s, o, a, l, u), d.base = t.__e, t.__u &= -161, d.__h.length && o.push(d), g && (d.__E = d.__ = null);
    } catch (e) {
        t.__v = null, l || null != s ? (t.__e = a, t.__u |= l ? 160 : 32, s[s.indexOf(a)] = null) : (t.__e = i.__e, t.__k = i.__k), Dr.__e(e, t, i);
    }
    else null == s && t.__v === i.__v ? (t.__k = i.__k, t.__e = i.__e) : t.__e = _s(i.__e, t, i, n, r, s, o, l, u);
    (c = Dr.diffed) && c(t);
}
function hs(e, t, i) {
    t.__d = void 0;
    for(var n = 0; n < i.length; n++)ps(i[n], i[++n], i[++n]);
    Dr.__c && Dr.__c(t, e), e.some(function(t) {
        try {
            e = t.__h, t.__h = [], e.some(function(e) {
                e.call(t);
            });
        } catch (e) {
            Dr.__e(e, t.__v);
        }
    });
}
function _s(e, t, i, n, r, s, o, a, l) {
    var u, c, d, h, _, p, v, g = i.props, f = t.props, m = t.type;
    if ("svg" === m && (r = !0), null != s) {
        for(u = 0; u < s.length; u++)if ((_ = s[u]) && "setAttribute" in _ == !!m && (m ? _.localName === m : 3 === _.nodeType)) {
            e = _, s[u] = null;
            break;
        }
    }
    if (null == e) {
        if (null === m) return document.createTextNode(f);
        e = r ? document.createElementNS("http://www.w3.org/2000/svg", m) : document.createElement(m, f.is && f), s = null, a = !1;
    }
    if (null === m) g === f || a && e.data === f || (e.data = f);
    else {
        if (s = s && Ar.call(e.childNodes), g = i.props || jr, !a && null != s) for(g = {}, u = 0; u < e.attributes.length; u++)g[(_ = e.attributes[u]).name] = _.value;
        for(u in g)_ = g[u], "children" == u || ("dangerouslySetInnerHTML" == u ? d = _ : "key" === u || u in f || ls(e, u, null, _, r));
        for(u in f)_ = f[u], "children" == u ? h = _ : "dangerouslySetInnerHTML" == u ? c = _ : "value" == u ? p = _ : "checked" == u ? v = _ : "key" === u || a && "function" != typeof _ || g[u] === _ || ls(e, u, _, g[u], r);
        if (c) a || d && (c.__html === d.__html || c.__html === e.innerHTML) || (e.innerHTML = c.__html), t.__k = [];
        else if (d && (e.innerHTML = ""), ns(e, Vr(h) ? h : [
            h
        ], t, i, n, r && "foreignObject" !== m, s, o, s ? s[0] : i.__k && Zr(i, 0), a, l), null != s) for(u = s.length; u--;)null != s[u] && Yr(s[u]);
        a || (u = "value", void 0 !== p && (p !== e[u] || "progress" === m && !p || "option" === m && p !== g[u]) && ls(e, u, p, g[u], !1), u = "checked", void 0 !== v && v !== e[u] && ls(e, u, v, g[u], !1));
    }
    return e;
}
function ps(e, t, i) {
    try {
        "function" == typeof e ? e(t) : e.current = t;
    } catch (e) {
        Dr.__e(e, i);
    }
}
function vs(e, t, i) {
    var n, r;
    if (Dr.unmount && Dr.unmount(e), (n = e.ref) && (n.current && n.current !== e.__e || ps(n, null, t)), null != (n = e.__c)) {
        if (n.componentWillUnmount) try {
            n.componentWillUnmount();
        } catch (e) {
            Dr.__e(e, t);
        }
        n.base = n.__P = null, e.__c = void 0;
    }
    if (n = e.__k) for(r = 0; r < n.length; r++)n[r] && vs(n[r], t, i || "function" != typeof e.type);
    i || null == e.__e || Yr(e.__e), e.__ = e.__e = e.__d = void 0;
}
function gs(e, t, i) {
    return this.constructor(e, i);
}
Ar = Wr.slice, Dr = {
    __e: function(e, t, i, n) {
        for(var r, s, o; t = t.__;)if ((r = t.__c) && !r.__) try {
            if ((s = r.constructor) && null != s.getDerivedStateFromError && (r.setState(s.getDerivedStateFromError(e)), o = r.__d), null != r.componentDidCatch && (r.componentDidCatch(e, n || {}), o = r.__d), o) return r.__E = r;
        } catch (t) {
            e = t;
        }
        throw e;
    }
}, Nr = 0, Qr.prototype.setState = function(e, t) {
    var i;
    i = null != this.__s && this.__s !== this.state ? this.__s : this.__s = Jr({}, this.state), "function" == typeof e && (e = e(Jr({}, i), this.props)), e && Jr(i, e), null != e && this.__v && (t && this._sb.push(t), ts(this));
}, Qr.prototype.forceUpdate = function(e) {
    this.__v && (this.__e = !0, e && this.__h.push(e), ts(this));
}, Qr.prototype.render = Xr, qr = [], Hr = "function" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, Ur = function(e, t) {
    return e.__v.__b - t.__v.__b;
}, is.__r = 0, zr = 0;
!function(e, t) {
    var i = {
        __c: t = "__cC" + zr++,
        __: e,
        Consumer: function(e, t) {
            return e.children(t);
        },
        Provider: function(e) {
            var i, n;
            return this.getChildContext || (i = [], (n = {})[t] = this, this.getChildContext = function() {
                return n;
            }, this.shouldComponentUpdate = function(e) {
                this.props.value !== e.value && i.some(function(e) {
                    e.__e = !0, ts(e);
                });
            }, this.sub = function(e) {
                i.push(e);
                var t = e.componentWillUnmount;
                e.componentWillUnmount = function() {
                    i.splice(i.indexOf(e), 1), t && t.call(e);
                };
            }), e.children;
        }
    };
    i.Provider.__ = i.Consumer.contextType = i;
}({
    isPreviewMode: !1,
    previewPageIndex: 0,
    handleCloseSurveyPopup: ()=>{},
    isPopup: !0
});
var fs = B("[Surveys]"), ms = {
    icontains: (e)=>!!t && t.location.href.toLowerCase().indexOf(e.toLowerCase()) > -1,
    not_icontains: (e)=>!!t && -1 === t.location.href.toLowerCase().indexOf(e.toLowerCase()),
    regex: (e)=>!!t && gt(t.location.href, e),
    not_regex: (e)=>!!t && !gt(t.location.href, e),
    exact: (e)=>(null == t ? void 0 : t.location.href) === e,
    is_not: (e)=>(null == t ? void 0 : t.location.href) !== e
};
class bs {
    constructor(e){
        this.instance = e, this._surveyEventReceiver = null;
    }
    onRemoteConfig(e) {
        this._decideServerResponse = !!e.surveys, this.loadIfEnabled();
    }
    reset() {
        localStorage.removeItem("lastSeenSurveyDate");
        var e = (()=>{
            for(var e = [], t = 0; t < localStorage.length; t++){
                var i = localStorage.key(t);
                null != i && i.startsWith("seenSurvey_") && e.push(i);
            }
            return e;
        })();
        e.forEach((e)=>localStorage.removeItem(e));
    }
    loadIfEnabled() {
        var e, t, i, n = null == _ || null === (e = _.__PosthogExtensions__) || void 0 === e ? void 0 : e.generateSurveys;
        this.instance.config.disable_surveys || !this._decideServerResponse || n || (null == this._surveyEventReceiver && (this._surveyEventReceiver = new Mr(this.instance)), null === (t = _.__PosthogExtensions__) || void 0 === t || null === (i = t.loadExternalDependency) || void 0 === i || i.call(t, this.instance, "surveys", (e)=>{
            var t, i;
            if (e) return fs.error("Could not load surveys script", e);
            this._surveyManager = null === (t = _.__PosthogExtensions__) || void 0 === t || null === (i = t.generateSurveys) || void 0 === i ? void 0 : i.call(t, this.instance);
        }));
    }
    getSurveys(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        if (this.instance.config.disable_surveys) return e([]);
        null == this._surveyEventReceiver && (this._surveyEventReceiver = new Mr(this.instance));
        var i = this.instance.get_property(Pe);
        if (i && !t) return e(i);
        this.instance._send_request({
            url: this.instance.requestRouter.endpointFor("api", "/api/surveys/?token=".concat(this.instance.config.token)),
            method: "GET",
            callback: (t)=>{
                var i;
                if (200 !== t.statusCode || !t.json) return e([]);
                var n, r = t.json.surveys || [], s = r.filter((e)=>{
                    var t, i, n, r, s, o, a, l, u, c, d, h;
                    return (null === (t = e.conditions) || void 0 === t ? void 0 : t.events) && (null === (i = e.conditions) || void 0 === i || null === (n = i.events) || void 0 === n ? void 0 : n.values) && (null === (r = e.conditions) || void 0 === r || null === (s = r.events) || void 0 === s || null === (o = s.values) || void 0 === o ? void 0 : o.length) > 0 || (null === (a = e.conditions) || void 0 === a ? void 0 : a.actions) && (null === (l = e.conditions) || void 0 === l || null === (u = l.actions) || void 0 === u ? void 0 : u.values) && (null === (c = e.conditions) || void 0 === c || null === (d = c.actions) || void 0 === d || null === (h = d.values) || void 0 === h ? void 0 : h.length) > 0;
                });
                s.length > 0 && (null === (n = this._surveyEventReceiver) || void 0 === n || n.register(s));
                return null === (i = this.instance.persistence) || void 0 === i || i.register({
                    [Pe]: r
                }), e(r);
            }
        });
    }
    getActiveMatchingSurveys(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        this.getSurveys((t)=>{
            var i, n = t.filter((e)=>!(!e.start_date || e.end_date)).filter((e)=>{
                var t, i, n, r;
                if (!e.conditions) return !0;
                var s = null === (t = e.conditions) || void 0 === t || !t.url || ms[null !== (i = null === (n = e.conditions) || void 0 === n ? void 0 : n.urlMatchType) && void 0 !== i ? i : "icontains"](e.conditions.url), o = null === (r = e.conditions) || void 0 === r || !r.selector || (null == a ? void 0 : a.querySelector(e.conditions.selector));
                return s && o;
            }), r = null === (i = this._surveyEventReceiver) || void 0 === i ? void 0 : i.getSurveys(), s = n.filter((e)=>{
                var t, i, n, s, o, a, l, u, c, d, h;
                if (!(e.linked_flag_key || e.targeting_flag_key || e.internal_targeting_flag_key || null !== (t = e.feature_flag_keys) && void 0 !== t && t.length)) return !0;
                var _ = !e.linked_flag_key || this.instance.featureFlags.isFeatureEnabled(e.linked_flag_key), p = !e.targeting_flag_key || this.instance.featureFlags.isFeatureEnabled(e.targeting_flag_key), v = (null === (i = e.conditions) || void 0 === i ? void 0 : i.events) && (null === (n = e.conditions) || void 0 === n || null === (s = n.events) || void 0 === s ? void 0 : s.values) && (null === (o = e.conditions) || void 0 === o || null === (a = o.events) || void 0 === a ? void 0 : a.values.length) > 0, g = (null === (l = e.conditions) || void 0 === l ? void 0 : l.actions) && (null === (u = e.conditions) || void 0 === u || null === (c = u.actions) || void 0 === c ? void 0 : c.values) && (null === (d = e.conditions) || void 0 === d || null === (h = d.actions) || void 0 === h ? void 0 : h.values.length) > 0, f = !v && !g || (null == r ? void 0 : r.includes(e.id)), m = this._canActivateRepeatedly(e), b = !(e.internal_targeting_flag_key && !m) || this.instance.featureFlags.isFeatureEnabled(e.internal_targeting_flag_key), y = this.checkFlags(e);
                return _ && p && b && f && y;
            });
            return e(s);
        }, t);
    }
    checkFlags(e) {
        var t;
        return null === (t = e.feature_flag_keys) || void 0 === t || !t.length || e.feature_flag_keys.every((e)=>{
            var { key: t, value: i } = e;
            return !t || !i || this.instance.featureFlags.isFeatureEnabled(i);
        });
    }
    getNextSurveyStep(e, t, i) {
        var n, r = e.questions[t], s = t + 1;
        if (null === (n = r.branching) || void 0 === n || !n.type) return t === e.questions.length - 1 ? Rr.End : s;
        if (r.branching.type === Rr.End) return Rr.End;
        if (r.branching.type === Rr.SpecificQuestion) {
            if (Number.isInteger(r.branching.index)) return r.branching.index;
        } else if (r.branching.type === Rr.ResponseBased) {
            if (r.type === Pr.SingleChoice) {
                var o, a, l = r.choices.indexOf("".concat(i));
                if (null !== (o = r.branching) && void 0 !== o && null !== (a = o.responseValues) && void 0 !== a && a.hasOwnProperty(l)) {
                    var u = r.branching.responseValues[l];
                    return Number.isInteger(u) ? u : u === Rr.End ? Rr.End : s;
                }
            } else if (r.type === Pr.Rating) {
                var c, d;
                if ("number" != typeof i || !Number.isInteger(i)) throw new Error("The response type must be an integer");
                var h = function(e, t) {
                    if (3 === t) {
                        if (e < 1 || e > 3) throw new Error("The response must be in range 1-3");
                        return 1 === e ? "negative" : 2 === e ? "neutral" : "positive";
                    }
                    if (5 === t) {
                        if (e < 1 || e > 5) throw new Error("The response must be in range 1-5");
                        return e <= 2 ? "negative" : 3 === e ? "neutral" : "positive";
                    }
                    if (7 === t) {
                        if (e < 1 || e > 7) throw new Error("The response must be in range 1-7");
                        return e <= 3 ? "negative" : 4 === e ? "neutral" : "positive";
                    }
                    if (10 === t) {
                        if (e < 0 || e > 10) throw new Error("The response must be in range 0-10");
                        return e <= 6 ? "detractors" : e <= 8 ? "passives" : "promoters";
                    }
                    throw new Error("The scale must be one of: 3, 5, 7, 10");
                }(i, r.scale);
                if (null !== (c = r.branching) && void 0 !== c && null !== (d = c.responseValues) && void 0 !== d && d.hasOwnProperty(h)) {
                    var _ = r.branching.responseValues[h];
                    return Number.isInteger(_) ? _ : _ === Rr.End ? Rr.End : s;
                }
            }
            return s;
        }
        return fs.warn("Falling back to next question index due to unexpected branching type"), s;
    }
    _canActivateRepeatedly(e) {
        var t;
        return O(null === (t = _.__PosthogExtensions__) || void 0 === t ? void 0 : t.canActivateRepeatedly) ? (fs.warn("init was not called"), !1) : _.__PosthogExtensions__.canActivateRepeatedly(e);
    }
    canRenderSurvey(e) {
        O(this._surveyManager) ? fs.warn("init was not called") : this.getSurveys((t)=>{
            var i = t.filter((t)=>t.id === e)[0];
            this._surveyManager.canRenderSurvey(i);
        });
    }
    renderSurvey(e, t) {
        O(this._surveyManager) ? fs.warn("init was not called") : this.getSurveys((i)=>{
            var n = i.filter((t)=>t.id === e)[0];
            this._surveyManager.renderSurvey(n, null == a ? void 0 : a.querySelector(t));
        });
    }
}
var ys = B("[RateLimiter]");
class ws {
    constructor(e){
        var t, i;
        W(this, "serverLimits", {}), W(this, "lastEventRateLimited", !1), W(this, "checkForLimiting", (e)=>{
            var t = e.text;
            if (t && t.length) try {
                (JSON.parse(t).quota_limited || []).forEach((e)=>{
                    ys.info("".concat(e || "events", " is quota limited.")), this.serverLimits[e] = (new Date).getTime() + 6e4;
                });
            } catch (e) {
                return void ys.warn('could not rate limit - continuing. Error: "'.concat(null == e ? void 0 : e.message, '"'), {
                    text: t
                });
            }
        }), this.instance = e, this.captureEventsPerSecond = (null === (t = e.config.rate_limiting) || void 0 === t ? void 0 : t.events_per_second) || 10, this.captureEventsBurstLimit = Math.max((null === (i = e.config.rate_limiting) || void 0 === i ? void 0 : i.events_burst_limit) || 10 * this.captureEventsPerSecond, this.captureEventsPerSecond), this.lastEventRateLimited = this.clientRateLimitContext(!0).isRateLimited;
    }
    clientRateLimitContext() {
        var e, t, i, n = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], r = (new Date).getTime(), s = null !== (e = null === (t = this.instance.persistence) || void 0 === t ? void 0 : t.get_property(Oe)) && void 0 !== e ? e : {
            tokens: this.captureEventsBurstLimit,
            last: r
        };
        s.tokens += (r - s.last) / 1e3 * this.captureEventsPerSecond, s.last = r, s.tokens > this.captureEventsBurstLimit && (s.tokens = this.captureEventsBurstLimit);
        var o = s.tokens < 1;
        return o || n || (s.tokens = Math.max(0, s.tokens - 1)), !o || this.lastEventRateLimited || n || this.instance.capture("$$client_ingestion_warning", {
            $$client_ingestion_warning_message: "posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond, " events per second and ").concat(this.captureEventsBurstLimit, " events burst limit.")
        }, {
            skip_client_rate_limiting: !0
        }), this.lastEventRateLimited = o, null === (i = this.instance.persistence) || void 0 === i || i.set_property(Oe, s), {
            isRateLimited: o,
            remainingTokens: s.tokens
        };
    }
    isServerRateLimited(e) {
        var t = this.serverLimits[e || "events"] || !1;
        return !1 !== t && (new Date).getTime() < t;
    }
}
var Ss = ()=>j({
        initialPathName: (null == l ? void 0 : l.pathname) || "",
        referringDomain: fi.referringDomain()
    }, fi.campaignParams());
class Es {
    constructor(e, t, i){
        W(this, "_onSessionIdCallback", (e)=>{
            var t = this._getStoredProps();
            if (!t || t.sessionId !== e) {
                var i = {
                    sessionId: e,
                    props: this._sessionSourceParamGenerator()
                };
                this._persistence.register({
                    [$e]: i
                });
            }
        }), this._sessionIdManager = e, this._persistence = t, this._sessionSourceParamGenerator = i || Ss, this._sessionIdManager.onSessionId(this._onSessionIdCallback);
    }
    _getStoredProps() {
        return this._persistence.props[$e];
    }
    getSessionProps() {
        var e, t = null === (e = this._getStoredProps()) || void 0 === e ? void 0 : e.props;
        return t ? {
            $client_session_initial_referring_host: t.referringDomain,
            $client_session_initial_pathname: t.initialPathName,
            $client_session_initial_utm_source: t.utm_source,
            $client_session_initial_utm_campaign: t.utm_campaign,
            $client_session_initial_utm_medium: t.utm_medium,
            $client_session_initial_utm_content: t.utm_content,
            $client_session_initial_utm_term: t.utm_term
        } : {};
    }
}
var ks = [
    "ahrefsbot",
    "ahrefssiteaudit",
    "applebot",
    "baiduspider",
    "bingbot",
    "bingpreview",
    "bot.htm",
    "bot.php",
    "crawler",
    "deepscan",
    "duckduckbot",
    "facebookexternal",
    "facebookcatalog",
    "gptbot",
    "http://yandex.com/bots",
    "hubspot",
    "ia_archiver",
    "linkedinbot",
    "mj12bot",
    "msnbot",
    "nessus",
    "petalbot",
    "pinterest",
    "prerender",
    "rogerbot",
    "screaming frog",
    "semrushbot",
    "sitebulb",
    "slurp",
    "turnitin",
    "twitterbot",
    "vercelbot",
    "yahoo! slurp",
    "yandexbot",
    "headlesschrome",
    "cypress",
    "Google-HotelAdsVerifier",
    "adsbot-google",
    "apis-google",
    "duplexweb-google",
    "feedfetcher-google",
    "google favicon",
    "google web preview",
    "google-read-aloud",
    "googlebot",
    "googleweblight",
    "mediapartners-google",
    "storebot-google",
    "Bytespider;"
], xs = function(e, t) {
    if (!e) return !1;
    var i = e.toLowerCase();
    return ks.concat(t || []).some((e)=>{
        var t = e.toLowerCase();
        return -1 !== i.indexOf(t);
    });
}, Is = function(e, t) {
    if (!e) return !1;
    var i = e.userAgent;
    if (i && xs(i, t)) return !0;
    try {
        var n = null == e ? void 0 : e.userAgentData;
        if (null != n && n.brands && n.brands.some((e)=>xs(null == e ? void 0 : e.brand, t))) return !0;
    } catch (e) {}
    return !!e.webdriver;
};
class Cs {
    constructor(){
        this.clicks = [];
    }
    isRageClick(e, t, i) {
        var n = this.clicks[this.clicks.length - 1];
        if (n && Math.abs(e - n.x) + Math.abs(t - n.y) < 30 && i - n.timestamp < 1e3) {
            if (this.clicks.push({
                x: e,
                y: t,
                timestamp: i
            }), 3 === this.clicks.length) return !0;
        } else this.clicks = [
            {
                x: e,
                y: t,
                timestamp: i
            }
        ];
        return !1;
    }
}
var Ps = B("[Dead Clicks]"), Rs = ()=>!0, Fs = (e)=>{
    var t, i = !(null === (t = e.instance.persistence) || void 0 === t || !t.get_property(de)), n = e.instance.config.capture_dead_clicks;
    return M(n) ? n : i;
};
class Ts {
    get lazyLoadedDeadClicksAutocapture() {
        return this._lazyLoadedDeadClicksAutocapture;
    }
    constructor(e, t, i){
        this.instance = e, this.isEnabled = t, this.onCapture = i, this.startIfEnabled();
    }
    onRemoteConfig(e) {
        this.instance.persistence && this.instance.persistence.register({
            [de]: null == e ? void 0 : e.captureDeadClicks
        }), this.startIfEnabled();
    }
    startIfEnabled() {
        this.isEnabled(this) && this.loadScript(()=>{
            this.start();
        });
    }
    loadScript(e) {
        var t, i, n;
        null !== (t = _.__PosthogExtensions__) && void 0 !== t && t.initDeadClicksAutocapture && e(), null === (i = _.__PosthogExtensions__) || void 0 === i || null === (n = i.loadExternalDependency) || void 0 === n || n.call(i, this.instance, "dead-clicks-autocapture", (t)=>{
            t ? Ps.error("failed to load script", t) : e();
        });
    }
    start() {
        var e;
        if (a) {
            if (!this._lazyLoadedDeadClicksAutocapture && null !== (e = _.__PosthogExtensions__) && void 0 !== e && e.initDeadClicksAutocapture) {
                var t = C(this.instance.config.capture_dead_clicks) ? this.instance.config.capture_dead_clicks : {};
                t.__onCapture = this.onCapture, this._lazyLoadedDeadClicksAutocapture = _.__PosthogExtensions__.initDeadClicksAutocapture(this.instance, t), this._lazyLoadedDeadClicksAutocapture.start(a), Ps.info("starting...");
            }
        } else Ps.error("`document` not found. Cannot start.");
    }
    stop() {
        this._lazyLoadedDeadClicksAutocapture && (this._lazyLoadedDeadClicksAutocapture.stop(), this._lazyLoadedDeadClicksAutocapture = void 0, Ps.info("stopping..."));
    }
}
var $s = B("[Heatmaps]");
function Os(e) {
    return C(e) && "clientX" in e && "clientY" in e && L(e.clientX) && L(e.clientY);
}
class Ls {
    constructor(e){
        var i;
        W(this, "rageclicks", new Cs), W(this, "_enabledServerSide", !1), W(this, "_initialized", !1), W(this, "_flushInterval", null), this.instance = e, this._enabledServerSide = !(null === (i = this.instance.persistence) || void 0 === i || !i.props[le]), null == t || t.addEventListener("beforeunload", ()=>{
            this.flush();
        });
    }
    get flushIntervalMilliseconds() {
        var e = 5e3;
        return C(this.instance.config.capture_heatmaps) && this.instance.config.capture_heatmaps.flush_interval_milliseconds && (e = this.instance.config.capture_heatmaps.flush_interval_milliseconds), e;
    }
    get isEnabled() {
        return R(this.instance.config.capture_heatmaps) ? R(this.instance.config.enable_heatmaps) ? this._enabledServerSide : this.instance.config.enable_heatmaps : !1 !== this.instance.config.capture_heatmaps;
    }
    startIfEnabled() {
        if (this.isEnabled) {
            if (this._initialized) return;
            $s.info("starting..."), this._setupListeners(), this._flushInterval = setInterval(this.flush.bind(this), this.flushIntervalMilliseconds);
        } else {
            var e, t;
            clearInterval(null !== (e = this._flushInterval) && void 0 !== e ? e : void 0), null === (t = this.deadClicksCapture) || void 0 === t || t.stop(), this.getAndClearBuffer();
        }
    }
    onRemoteConfig(e) {
        var t = !!e.heatmaps;
        this.instance.persistence && this.instance.persistence.register({
            [le]: t
        }), this._enabledServerSide = t, this.startIfEnabled();
    }
    getAndClearBuffer() {
        var e = this.buffer;
        return this.buffer = void 0, e;
    }
    _onDeadClick(e) {
        this._onClick(e.originalEvent, "deadclick");
    }
    _setupListeners() {
        t && a && (ie(a, "click", (e)=>this._onClick(e || (null == t ? void 0 : t.event)), !1, !0), ie(a, "mousemove", (e)=>this._onMouseMove(e || (null == t ? void 0 : t.event)), !1, !0), this.deadClicksCapture = new Ts(this.instance, Rs, this._onDeadClick.bind(this)), this.deadClicksCapture.startIfEnabled(), this._initialized = !0);
    }
    _getProperties(e, i) {
        var n = this.instance.scrollManager.scrollY(), r = this.instance.scrollManager.scrollX(), s = this.instance.scrollManager.scrollElement(), o = function(e, i, n) {
            for(var r = e; r && xi(r) && !Ii(r, "body");){
                if (r === n) return !1;
                if (m(i, null == t ? void 0 : t.getComputedStyle(r).position)) return !0;
                r = Ai(r);
            }
            return !1;
        }(Li(e), [
            "fixed",
            "sticky"
        ], s);
        return {
            x: e.clientX + (o ? 0 : r),
            y: e.clientY + (o ? 0 : n),
            target_fixed: o,
            type: i
        };
    }
    _onClick(e) {
        var t, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "click";
        if (!ki(e.target) && Os(e)) {
            var n = this._getProperties(e, i);
            null !== (t = this.rageclicks) && void 0 !== t && t.isRageClick(e.clientX, e.clientY, (new Date).getTime()) && this._capture(j(j({}, n), {}, {
                type: "rageclick"
            })), this._capture(n);
        }
    }
    _onMouseMove(e) {
        !ki(e.target) && Os(e) && (clearTimeout(this._mouseMoveTimeout), this._mouseMoveTimeout = setTimeout(()=>{
            this._capture(this._getProperties(e, "mousemove"));
        }, 500));
    }
    _capture(e) {
        if (t) {
            var i = t.location.href;
            this.buffer = this.buffer || {}, this.buffer[i] || (this.buffer[i] = []), this.buffer[i].push(e);
        }
    }
    flush() {
        this.buffer && !P(this.buffer) && this.instance.capture("$$heatmap", {
            $heatmap_data: this.getAndClearBuffer()
        });
    }
}
class Ms {
    constructor(e){
        W(this, "_updateScrollData", ()=>{
            var e, t, i, n;
            this.context || (this.context = {});
            var r = this.scrollElement(), s = this.scrollY(), o = r ? Math.max(0, r.scrollHeight - r.clientHeight) : 0, a = s + ((null == r ? void 0 : r.clientHeight) || 0), l = (null == r ? void 0 : r.scrollHeight) || 0;
            this.context.lastScrollY = Math.ceil(s), this.context.maxScrollY = Math.max(s, null !== (e = this.context.maxScrollY) && void 0 !== e ? e : 0), this.context.maxScrollHeight = Math.max(o, null !== (t = this.context.maxScrollHeight) && void 0 !== t ? t : 0), this.context.lastContentY = a, this.context.maxContentY = Math.max(a, null !== (i = this.context.maxContentY) && void 0 !== i ? i : 0), this.context.maxContentHeight = Math.max(l, null !== (n = this.context.maxContentHeight) && void 0 !== n ? n : 0);
        }), this.instance = e;
    }
    getContext() {
        return this.context;
    }
    resetContext() {
        var e = this.context;
        return setTimeout(this._updateScrollData, 0), e;
    }
    startMeasuringScrollPosition() {
        null == t || t.addEventListener("scroll", this._updateScrollData, !0), null == t || t.addEventListener("scrollend", this._updateScrollData, !0), null == t || t.addEventListener("resize", this._updateScrollData);
    }
    scrollElement() {
        if (!this.instance.config.scroll_root_selector) return null == t ? void 0 : t.document.documentElement;
        var e = x(this.instance.config.scroll_root_selector) ? this.instance.config.scroll_root_selector : [
            this.instance.config.scroll_root_selector
        ];
        for (var i of e){
            var n = null == t ? void 0 : t.document.querySelector(i);
            if (n) return n;
        }
    }
    scrollY() {
        if (this.instance.config.scroll_root_selector) {
            var e = this.scrollElement();
            return e && e.scrollTop || 0;
        }
        return t && (t.scrollY || t.pageYOffset || t.document.documentElement.scrollTop) || 0;
    }
    scrollX() {
        if (this.instance.config.scroll_root_selector) {
            var e = this.scrollElement();
            return e && e.scrollLeft || 0;
        }
        return t && (t.scrollX || t.pageXOffset || t.document.documentElement.scrollLeft) || 0;
    }
}
var As = B("[AutoCapture]");
function Ds(e, t) {
    return t.length > e ? t.slice(0, e) + "..." : t;
}
function Ns(e) {
    if (e.previousElementSibling) return e.previousElementSibling;
    var t = e;
    do {
        t = t.previousSibling;
    }while (t && !xi(t))
    return t;
}
function qs(e, t, i, n) {
    var r = e.tagName.toLowerCase(), s = {
        tag_name: r
    };
    Mi.indexOf(r) > -1 && !i && ("a" === r.toLowerCase() || "button" === r.toLowerCase() ? s.$el_text = Ds(1024, Vi(e)) : s.$el_text = Ds(1024, Oi(e)));
    var o = Ti(e);
    o.length > 0 && (s.classes = o.filter(function(e) {
        return "" !== e;
    })), Y(e.attributes, function(i) {
        var r;
        if ((!qi(e) || -1 !== [
            "name",
            "id",
            "class",
            "aria-label"
        ].indexOf(i.name)) && (null == n || !n.includes(i.name)) && !t && Gi(i.value) && (r = i.name, !F(r) || "_ngcontent" !== r.substring(0, 10) && "_nghost" !== r.substring(0, 7))) {
            var o = i.value;
            "class" === i.name && (o = Ri(o).join(" ")), s["attr__" + i.name] = Ds(1024, o);
        }
    });
    for(var a = 1, l = 1, u = e; u = Ns(u);)a++, u.tagName === e.tagName && l++;
    return s.nth_child = a, s.nth_of_type = l, s;
}
function Bs(e, i) {
    for(var n, r, { e: s, maskAllElementAttributes: o, maskAllText: a, elementAttributeIgnoreList: l, elementsChainAsString: u } = i, c = [
        e
    ], d = e; d.parentNode && !Ii(d, "body");)Pi(d.parentNode) ? (c.push(d.parentNode.host), d = d.parentNode.host) : (c.push(d.parentNode), d = d.parentNode);
    var h, _ = [], p = {}, v = !1, g = !1;
    if (Y(c, (e)=>{
        var t = Ni(e);
        "a" === e.tagName.toLowerCase() && (v = e.getAttribute("href"), v = t && v && Gi(v) && v), m(Ti(e), "ph-no-capture") && (g = !0), _.push(qs(e, o, a, l));
        var i = function(e) {
            if (!Ni(e)) return {};
            var t = {};
            return Y(e.attributes, function(e) {
                if (e.name && 0 === e.name.indexOf("data-ph-capture-attribute")) {
                    var i = e.name.replace("data-ph-capture-attribute-", ""), n = e.value;
                    i && n && Gi(n) && (t[i] = n);
                }
            }), t;
        }(e);
        K(p, i);
    }), g) return {
        props: {},
        explicitNoCapture: g
    };
    if (a || ("a" === e.tagName.toLowerCase() || "button" === e.tagName.toLowerCase() ? _[0].$el_text = Vi(e) : _[0].$el_text = Oi(e)), v) {
        var f, b;
        _[0].attr__href = v;
        var y = null === (f = vt(v)) || void 0 === f ? void 0 : f.host, w = null == t || null === (b = t.location) || void 0 === b ? void 0 : b.host;
        y && w && y !== w && (h = v);
    }
    return {
        props: K({
            $event_type: s.type,
            $ce_version: 1
        }, u ? {} : {
            $elements: _
        }, {
            $elements_chain: Yi(_)
        }, null !== (n = _[0]) && void 0 !== n && n.$el_text ? {
            $el_text: null === (r = _[0]) || void 0 === r ? void 0 : r.$el_text
        } : {}, h && "click" === s.type ? {
            $external_click_url: h
        } : {}, p)
    };
}
class Hs {
    constructor(e){
        W(this, "_initialized", !1), W(this, "_isDisabledServerSide", null), W(this, "rageclicks", new Cs), W(this, "_elementsChainAsString", !1), this.instance = e, this._elementSelectors = null;
    }
    get config() {
        var e, t, i = C(this.instance.config.autocapture) ? this.instance.config.autocapture : {};
        return i.url_allowlist = null === (e = i.url_allowlist) || void 0 === e ? void 0 : e.map((e)=>new RegExp(e)), i.url_ignorelist = null === (t = i.url_ignorelist) || void 0 === t ? void 0 : t.map((e)=>new RegExp(e)), i;
    }
    _addDomEventHandlers() {
        if (this.isBrowserSupported()) {
            if (t && a) {
                var e = (e)=>{
                    e = e || (null == t ? void 0 : t.event);
                    try {
                        this._captureEvent(e);
                    } catch (e) {
                        As.error("Failed to capture event", e);
                    }
                }, i = (e)=>{
                    e = e || (null == t ? void 0 : t.event), this._captureEvent(e, v);
                };
                ie(a, "submit", e, !1, !0), ie(a, "change", e, !1, !0), ie(a, "click", e, !1, !0), this.config.capture_copied_text && (ie(a, "copy", i, !1, !0), ie(a, "cut", i, !1, !0));
            }
        } else As.info("Disabling Automatic Event Collection because this browser is not supported");
    }
    startIfEnabled() {
        this.isEnabled && !this._initialized && (this._addDomEventHandlers(), this._initialized = !0);
    }
    onRemoteConfig(e) {
        e.elementsChainAsString && (this._elementsChainAsString = e.elementsChainAsString), this.instance.persistence && this.instance.persistence.register({
            [ae]: !!e.autocapture_opt_out
        }), this._isDisabledServerSide = !!e.autocapture_opt_out, this.startIfEnabled();
    }
    setElementSelectors(e) {
        this._elementSelectors = e;
    }
    getElementSelectors(e) {
        var t, i = [];
        return null === (t = this._elementSelectors) || void 0 === t || t.forEach((t)=>{
            var n = null == a ? void 0 : a.querySelectorAll(t);
            null == n || n.forEach((n)=>{
                e === n && i.push(t);
            });
        }), i;
    }
    get isEnabled() {
        var e, t, i = null === (e = this.instance.persistence) || void 0 === e ? void 0 : e.props[ae], n = this._isDisabledServerSide;
        if ($(n) && !M(i) && !this.instance.config.advanced_disable_decide) return !1;
        var r = null !== (t = this._isDisabledServerSide) && void 0 !== t ? t : !!i;
        return !!this.instance.config.autocapture && !r;
    }
    _captureEvent(e) {
        var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "$autocapture";
        if (this.isEnabled) {
            var n, r = Li(e);
            if (Ci(r) && (r = r.parentNode || null), "$autocapture" === i && "click" === e.type && e instanceof MouseEvent) this.instance.config.rageclick && null !== (n = this.rageclicks) && void 0 !== n && n.isRageClick(e.clientX, e.clientY, (new Date).getTime()) && this._captureEvent(e, "$rageclick");
            var s = i === v;
            if (r && Di(r, e, this.config, s, s ? [
                "copy",
                "cut"
            ] : void 0)) {
                var { props: o, explicitNoCapture: a } = Bs(r, {
                    e: e,
                    maskAllElementAttributes: this.instance.config.mask_all_element_attributes,
                    maskAllText: this.instance.config.mask_all_text,
                    elementAttributeIgnoreList: this.config.element_attribute_ignorelist,
                    elementsChainAsString: this._elementsChainAsString
                });
                if (a) return !1;
                var l = this.getElementSelectors(r);
                if (l && l.length > 0 && (o.$element_selectors = l), i === v) {
                    var u, c = $i(null == t || null === (u = t.getSelection()) || void 0 === u ? void 0 : u.toString()), d = e.type || "clipboard";
                    if (!c) return !1;
                    o.$selected_content = c, o.$copy_type = d;
                }
                return this.instance.capture(i, o), !0;
            }
        }
    }
    isBrowserSupported() {
        return I(null == a ? void 0 : a.querySelectorAll);
    }
}
var Us = B("[TracingHeaders]");
class zs {
    constructor(e){
        W(this, "_restoreXHRPatch", void 0), W(this, "_restoreFetchPatch", void 0), W(this, "_startCapturing", ()=>{
            var e, t, i, n;
            R(this._restoreXHRPatch) && (null === (e = _.__PosthogExtensions__) || void 0 === e || null === (t = e.tracingHeadersPatchFns) || void 0 === t || t._patchXHR(this.instance.sessionManager));
            R(this._restoreFetchPatch) && (null === (i = _.__PosthogExtensions__) || void 0 === i || null === (n = i.tracingHeadersPatchFns) || void 0 === n || n._patchFetch(this.instance.sessionManager));
        }), this.instance = e;
    }
    _loadScript(e) {
        var t, i, n;
        null !== (t = _.__PosthogExtensions__) && void 0 !== t && t.tracingHeadersPatchFns && e(), null === (i = _.__PosthogExtensions__) || void 0 === i || null === (n = i.loadExternalDependency) || void 0 === n || n.call(i, this.instance, "tracing-headers", (t)=>{
            if (t) return Us.error("failed to load script", t);
            e();
        });
    }
    startIfEnabledOrStop() {
        var e, t;
        this.instance.config.__add_tracing_headers ? this._loadScript(this._startCapturing) : (null === (e = this._restoreXHRPatch) || void 0 === e || e.call(this), null === (t = this._restoreFetchPatch) || void 0 === t || t.call(this), this._restoreXHRPatch = void 0, this._restoreFetchPatch = void 0);
    }
}
var js;
!function(e) {
    e[e.PENDING = -1] = "PENDING", e[e.DENIED = 0] = "DENIED", e[e.GRANTED = 1] = "GRANTED";
}(js || (js = {}));
class Ws {
    constructor(e){
        this.instance = e;
    }
    get config() {
        return this.instance.config;
    }
    get consent() {
        return this.getDnt() ? js.DENIED : this.storedConsent;
    }
    isOptedOut() {
        return this.consent === js.DENIED || this.consent === js.PENDING && this.config.opt_out_capturing_by_default;
    }
    isOptedIn() {
        return !this.isOptedOut();
    }
    optInOut(e) {
        this.storage.set(this.storageKey, e ? 1 : 0, this.config.cookie_expiration, this.config.cross_subdomain_cookie, this.config.secure_cookie);
    }
    reset() {
        this.storage.remove(this.storageKey, this.config.cross_subdomain_cookie);
    }
    get storageKey() {
        var { token: e, opt_out_capturing_cookie_prefix: t } = this.instance.config;
        return (t || "__ph_opt_in_out_") + e;
    }
    get storedConsent() {
        var e = this.storage.get(this.storageKey);
        return "1" === e ? js.GRANTED : "0" === e ? js.DENIED : js.PENDING;
    }
    get storage() {
        if (!this._storage) {
            var e = this.config.opt_out_capturing_persistence_type;
            this._storage = "localStorage" === e ? at : st;
            var t = "localStorage" === e ? st : at;
            t.get(this.storageKey) && (this._storage.get(this.storageKey) || this.optInOut("1" === t.get(this.storageKey)), t.remove(this.storageKey, this.config.cross_subdomain_cookie));
        }
        return this._storage;
    }
    getDnt() {
        return !!this.config.respect_dnt && !!ne([
            null == o ? void 0 : o.doNotTrack,
            null == o ? void 0 : o.msDoNotTrack,
            _.doNotTrack
        ], (e)=>m([
                !0,
                1,
                "1",
                "yes"
            ], e));
    }
}
var Gs = B("[ExceptionAutocapture]");
class Vs {
    constructor(e){
        var i;
        W(this, "originalOnUnhandledRejectionHandler", void 0), W(this, "startCapturing", ()=>{
            var e, i, n, r;
            if (t && this.isEnabled && !this.hasHandlers && !this.isCapturing) {
                var s = null === (e = _.__PosthogExtensions__) || void 0 === e || null === (i = e.errorWrappingFunctions) || void 0 === i ? void 0 : i.wrapOnError, o = null === (n = _.__PosthogExtensions__) || void 0 === n || null === (r = n.errorWrappingFunctions) || void 0 === r ? void 0 : r.wrapUnhandledRejection;
                if (s && o) try {
                    this.unwrapOnError = s(this.captureException.bind(this)), this.unwrapUnhandledRejection = o(this.captureException.bind(this));
                } catch (e) {
                    Gs.error("failed to start", e), this.stopCapturing();
                }
                else Gs.error("failed to load error wrapping functions - cannot start");
            }
        }), this.instance = e, this.remoteEnabled = !(null === (i = this.instance.persistence) || void 0 === i || !i.props[ue]), this.startIfEnabled();
    }
    get isEnabled() {
        var e;
        return null !== (e = this.remoteEnabled) && void 0 !== e && e;
    }
    get isCapturing() {
        var e;
        return !(null == t || null === (e = t.onerror) || void 0 === e || !e.__POSTHOG_INSTRUMENTED__);
    }
    get hasHandlers() {
        return this.originalOnUnhandledRejectionHandler || this.unwrapOnError;
    }
    startIfEnabled() {
        this.isEnabled && !this.isCapturing && (Gs.info("enabled, starting..."), this.loadScript(this.startCapturing));
    }
    loadScript(e) {
        var t, i;
        this.hasHandlers && e(), null === (t = _.__PosthogExtensions__) || void 0 === t || null === (i = t.loadExternalDependency) || void 0 === i || i.call(t, this.instance, "exception-autocapture", (t)=>{
            if (t) return Gs.error("failed to load script", t);
            e();
        });
    }
    stopCapturing() {
        var e, t;
        null === (e = this.unwrapOnError) || void 0 === e || e.call(this), null === (t = this.unwrapUnhandledRejection) || void 0 === t || t.call(this);
    }
    onRemoteConfig(e) {
        var t = e.autocaptureExceptions;
        this.remoteEnabled = !!t || !1, this.instance.persistence && this.instance.persistence.register({
            [ue]: this.remoteEnabled
        }), this.startIfEnabled();
    }
    captureException(e) {
        var t = this.instance.requestRouter.endpointFor("ui");
        e.$exception_personURL = "".concat(t, "/project/").concat(this.instance.config.token, "/person/").concat(this.instance.get_distinct_id()), this.instance.exceptions.sendExceptionEvent(e);
    }
}
var Js = B("[Web Vitals]"), Ys = 9e5;
class Ks {
    constructor(e){
        var t;
        W(this, "_enabledServerSide", !1), W(this, "_initialized", !1), W(this, "buffer", {
            url: void 0,
            metrics: [],
            firstMetricTimestamp: void 0
        }), W(this, "_flushToCapture", ()=>{
            clearTimeout(this._delayedFlushTimer), 0 !== this.buffer.metrics.length && (this.instance.capture("$web_vitals", this.buffer.metrics.reduce((e, t)=>j(j({}, e), {}, {
                    ["$web_vitals_".concat(t.name, "_event")]: j({}, t),
                    ["$web_vitals_".concat(t.name, "_value")]: t.value
                }), {})), this.buffer = {
                url: void 0,
                metrics: [],
                firstMetricTimestamp: void 0
            });
        }), W(this, "_addToBuffer", (e)=>{
            var t, i = null === (t = this.instance.sessionManager) || void 0 === t ? void 0 : t.checkAndGetSessionAndWindowId(!0);
            if (R(i)) Js.error("Could not read session ID. Dropping metrics!");
            else {
                this.buffer = this.buffer || {
                    url: void 0,
                    metrics: [],
                    firstMetricTimestamp: void 0
                };
                var n = this._currentURL();
                if (!R(n)) if (O(null == e ? void 0 : e.name) || O(null == e ? void 0 : e.value)) Js.error("Invalid metric received", e);
                else if (this._maxAllowedValue && e.value >= this._maxAllowedValue) Js.error("Ignoring metric with value >= " + this._maxAllowedValue, e);
                else this.buffer.url !== n && (this._flushToCapture(), this._delayedFlushTimer = setTimeout(this._flushToCapture, this.flushToCaptureTimeoutMs)), R(this.buffer.url) && (this.buffer.url = n), this.buffer.firstMetricTimestamp = R(this.buffer.firstMetricTimestamp) ? Date.now() : this.buffer.firstMetricTimestamp, e.attribution && e.attribution.interactionTargetElement && (e.attribution.interactionTargetElement = void 0), this.buffer.metrics.push(j(j({}, e), {}, {
                    $current_url: n,
                    $session_id: i.sessionId,
                    $window_id: i.windowId,
                    timestamp: Date.now()
                })), this.buffer.metrics.length === this.allowedMetrics.length && this._flushToCapture();
            }
        }), W(this, "_startCapturing", ()=>{
            var e, t, i, n, r = _.__PosthogExtensions__;
            R(r) || R(r.postHogWebVitalsCallbacks) || ({ onLCP: e, onCLS: t, onFCP: i, onINP: n } = r.postHogWebVitalsCallbacks), e && t && i && n ? (this.allowedMetrics.indexOf("LCP") > -1 && e(this._addToBuffer.bind(this)), this.allowedMetrics.indexOf("CLS") > -1 && t(this._addToBuffer.bind(this)), this.allowedMetrics.indexOf("FCP") > -1 && i(this._addToBuffer.bind(this)), this.allowedMetrics.indexOf("INP") > -1 && n(this._addToBuffer.bind(this)), this._initialized = !0) : Js.error("web vitals callbacks not loaded - not starting");
        }), this.instance = e, this._enabledServerSide = !(null === (t = this.instance.persistence) || void 0 === t || !t.props[ce]), this.startIfEnabled();
    }
    get allowedMetrics() {
        var e, t, i = C(this.instance.config.capture_performance) ? null === (e = this.instance.config.capture_performance) || void 0 === e ? void 0 : e.web_vitals_allowed_metrics : void 0;
        return R(i) ? (null === (t = this.instance.persistence) || void 0 === t ? void 0 : t.props[he]) || [
            "CLS",
            "FCP",
            "INP",
            "LCP"
        ] : i;
    }
    get flushToCaptureTimeoutMs() {
        return (C(this.instance.config.capture_performance) ? this.instance.config.capture_performance.web_vitals_delayed_flush_ms : void 0) || 5e3;
    }
    get _maxAllowedValue() {
        var e = C(this.instance.config.capture_performance) && L(this.instance.config.capture_performance.__web_vitals_max_value) ? this.instance.config.capture_performance.__web_vitals_max_value : Ys;
        return 0 < e && e <= 6e4 ? Ys : e;
    }
    get isEnabled() {
        var e = C(this.instance.config.capture_performance) ? this.instance.config.capture_performance.web_vitals : void 0;
        return M(e) ? e : this._enabledServerSide;
    }
    startIfEnabled() {
        this.isEnabled && !this._initialized && (Js.info("enabled, starting..."), this.loadScript(this._startCapturing));
    }
    onRemoteConfig(e) {
        var t = C(e.capturePerformance) && !!e.capturePerformance.web_vitals, i = C(e.capturePerformance) ? e.capturePerformance.web_vitals_allowed_metrics : void 0;
        this.instance.persistence && (this.instance.persistence.register({
            [ce]: t
        }), this.instance.persistence.register({
            [he]: i
        })), this._enabledServerSide = t, this.startIfEnabled();
    }
    loadScript(e) {
        var t, i, n;
        null !== (t = _.__PosthogExtensions__) && void 0 !== t && t.postHogWebVitalsCallbacks && e(), null === (i = _.__PosthogExtensions__) || void 0 === i || null === (n = i.loadExternalDependency) || void 0 === n || n.call(i, this.instance, "web-vitals", (t)=>{
            t ? Js.error("failed to load script", t) : e();
        });
    }
    _currentURL() {
        var e = t ? t.location.href : void 0;
        return e || Js.error("Could not determine current URL"), e;
    }
}
var Xs = {
    icontains: (e, i)=>!!t && i.href.toLowerCase().indexOf(e.toLowerCase()) > -1,
    not_icontains: (e, i)=>!!t && -1 === i.href.toLowerCase().indexOf(e.toLowerCase()),
    regex: (e, i)=>!!t && gt(i.href, e),
    not_regex: (e, i)=>!!t && !gt(i.href, e),
    exact: (e, t)=>t.href === e,
    is_not: (e, t)=>t.href !== e
};
class Qs {
    constructor(e){
        var t = this;
        W(this, "getWebExperimentsAndEvaluateDisplayLogic", function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
            t.getWebExperiments((e)=>{
                Qs.logInfo("retrieved web experiments from the server"), t._flagToExperiments = new Map, e.forEach((e)=>{
                    if (e.feature_flag_key) {
                        var i;
                        if (t._flagToExperiments) Qs.logInfo("setting flag key ", e.feature_flag_key, " to web experiment ", e), null === (i = t._flagToExperiments) || void 0 === i || i.set(e.feature_flag_key, e);
                        var n = t.instance.getFeatureFlag(e.feature_flag_key);
                        F(n) && e.variants[n] && t.applyTransforms(e.name, n, e.variants[n].transforms);
                    } else if (e.variants) for(var r in e.variants){
                        var s = e.variants[r];
                        Qs.matchesTestVariant(s) && t.applyTransforms(e.name, r, s.transforms);
                    }
                });
            }, e);
        }), this.instance = e, this.instance.onFeatureFlags((e)=>{
            this.onFeatureFlags(e);
        });
    }
    onFeatureFlags(e) {
        if (this._is_bot()) Qs.logInfo("Refusing to render web experiment since the viewer is a likely bot");
        else if (!this.instance.config.disable_web_experiments) {
            if (O(this._flagToExperiments)) return this._flagToExperiments = new Map, this.loadIfEnabled(), void this.previewWebExperiment();
            Qs.logInfo("applying feature flags", e), e.forEach((e)=>{
                var t;
                if (this._flagToExperiments && null !== (t = this._flagToExperiments) && void 0 !== t && t.has(e)) {
                    var i, n = this.instance.getFeatureFlag(e), r = null === (i = this._flagToExperiments) || void 0 === i ? void 0 : i.get(e);
                    n && null != r && r.variants[n] && this.applyTransforms(r.name, n, r.variants[n].transforms);
                }
            });
        }
    }
    previewWebExperiment() {
        var e = Qs.getWindowLocation();
        if (null != e && e.search) {
            var t = mt(null == e ? void 0 : e.search, "__experiment_id"), i = mt(null == e ? void 0 : e.search, "__experiment_variant");
            t && i && (Qs.logInfo("previewing web experiments ".concat(t, " && ").concat(i)), this.getWebExperiments((e)=>{
                this.showPreviewWebExperiment(parseInt(t), i, e);
            }, !1, !0));
        }
    }
    loadIfEnabled() {
        this.instance.config.disable_web_experiments || this.getWebExperimentsAndEvaluateDisplayLogic();
    }
    getWebExperiments(e, t, i) {
        if (this.instance.config.disable_web_experiments && !i) return e([]);
        var n = this.instance.get_property("$web_experiments");
        if (n && !t) return e(n);
        this.instance._send_request({
            url: this.instance.requestRouter.endpointFor("api", "/api/web_experiments/?token=".concat(this.instance.config.token)),
            method: "GET",
            callback: (t)=>{
                if (200 !== t.statusCode || !t.json) return e([]);
                var i = t.json.experiments || [];
                return e(i);
            }
        });
    }
    showPreviewWebExperiment(e, t, i) {
        var n = i.filter((t)=>t.id === e);
        n && n.length > 0 && (Qs.logInfo("Previewing web experiment [".concat(n[0].name, "] with variant [").concat(t, "]")), this.applyTransforms(n[0].name, t, n[0].variants[t].transforms, !0));
    }
    static matchesTestVariant(e) {
        return !O(e.conditions) && Qs.matchUrlConditions(e) && Qs.matchUTMConditions(e);
    }
    static matchUrlConditions(e) {
        var t;
        if (O(e.conditions) || O(null === (t = e.conditions) || void 0 === t ? void 0 : t.url)) return !0;
        var i, n, r, s = Qs.getWindowLocation();
        return !!s && (null === (i = e.conditions) || void 0 === i || !i.url || Xs[null !== (n = null === (r = e.conditions) || void 0 === r ? void 0 : r.urlMatchType) && void 0 !== n ? n : "icontains"](e.conditions.url, s));
    }
    static getWindowLocation() {
        return null == t ? void 0 : t.location;
    }
    static matchUTMConditions(e) {
        var t;
        if (O(e.conditions) || O(null === (t = e.conditions) || void 0 === t ? void 0 : t.utm)) return !0;
        var i = fi.campaignParams();
        if (i.utm_source) {
            var n, r, s, o, a, l, u, c, d, h, _, p, v, g, f, m, b = null === (n = e.conditions) || void 0 === n || null === (r = n.utm) || void 0 === r || !r.utm_campaign || (null === (s = e.conditions) || void 0 === s || null === (o = s.utm) || void 0 === o ? void 0 : o.utm_campaign) == i.utm_campaign, y = null === (a = e.conditions) || void 0 === a || null === (l = a.utm) || void 0 === l || !l.utm_source || (null === (u = e.conditions) || void 0 === u || null === (c = u.utm) || void 0 === c ? void 0 : c.utm_source) == i.utm_source, w = null === (d = e.conditions) || void 0 === d || null === (h = d.utm) || void 0 === h || !h.utm_medium || (null === (_ = e.conditions) || void 0 === _ || null === (p = _.utm) || void 0 === p ? void 0 : p.utm_medium) == i.utm_medium, S = null === (v = e.conditions) || void 0 === v || null === (g = v.utm) || void 0 === g || !g.utm_term || (null === (f = e.conditions) || void 0 === f || null === (m = f.utm) || void 0 === m ? void 0 : m.utm_term) == i.utm_term;
            return b && w && S && y;
        }
        return !1;
    }
    static logInfo(e) {
        for(var t = arguments.length, i = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++)i[n - 1] = arguments[n];
        q.info("[WebExperiments] ".concat(e), i);
    }
    applyTransforms(e, t, i, n) {
        var r;
        this._is_bot() ? Qs.logInfo("Refusing to render web experiment since the viewer is a likely bot") : "control" !== t ? i.forEach((i)=>{
            if (i.selector) {
                var r;
                Qs.logInfo("applying transform of variant ".concat(t, " for experiment ").concat(e, " "), i);
                var s, o = 0, a = null === (r = document) || void 0 === r ? void 0 : r.querySelectorAll(i.selector);
                if (null == a || a.forEach((e)=>{
                    var t = e;
                    o += 1, i.attributes && i.attributes.forEach((e)=>{
                        switch(e.name){
                            case "text":
                                t.innerText = e.value;
                                break;
                            case "html":
                                t.innerHTML = e.value;
                                break;
                            case "cssClass":
                                t.className = e.value;
                                break;
                            default:
                                t.setAttribute(e.name, e.value);
                        }
                    }), i.text && (t.innerText = i.text), i.html && (t.parentElement ? t.parentElement.innerHTML = i.html : t.innerHTML = i.html), i.css && t.setAttribute("style", i.css);
                }), this.instance && this.instance.capture) this.instance.capture("$web_experiment_applied", {
                    $web_experiment_name: e,
                    $web_experiment_variant: t,
                    $web_experiment_preview: n,
                    $web_experiment_document_url: null === (s = Qs.getWindowLocation()) || void 0 === s ? void 0 : s.href,
                    $web_experiment_elements_modified: o
                });
            }
        }) : (Qs.logInfo("Control variants leave the page unmodified."), this.instance && this.instance.capture && this.instance.capture("$web_experiment_applied", {
            $web_experiment_name: e,
            $web_experiment_preview: n,
            $web_experiment_variant: t,
            $web_experiment_document_url: null === (r = Qs.getWindowLocation()) || void 0 === r ? void 0 : r.href,
            $web_experiment_elements_modified: 0
        }));
    }
    _is_bot() {
        return o && this.instance ? Is(o, this.instance.config.custom_blocked_useragents) : void 0;
    }
}
class Zs {
    constructor(e){
        this.instance = e;
    }
    sendExceptionEvent(e) {
        this.instance.capture("$exception", e, {
            _noTruncate: !0,
            _batchKey: "exceptionEvent"
        });
    }
}
var eo = [
    "$set_once",
    "$set"
], to = B("[SiteApps]");
class io {
    constructor(e){
        this.instance = e, this.bufferedInvocations = [], this.apps = {};
    }
    get isEnabled() {
        return !!this.instance.config.opt_in_site_apps;
    }
    eventCollector(e, t) {
        if (t) {
            var i = this.globalsForEvent(t);
            this.bufferedInvocations.push(i), this.bufferedInvocations.length > 1e3 && (this.bufferedInvocations = this.bufferedInvocations.slice(10));
        }
    }
    get siteAppLoaders() {
        var e, t;
        return null === (e = _._POSTHOG_REMOTE_CONFIG) || void 0 === e || null === (t = e[this.instance.config.token]) || void 0 === t ? void 0 : t.siteApps;
    }
    init() {
        if (this.isEnabled) {
            var e = this.instance._addCaptureHook(this.eventCollector.bind(this));
            this.stopBuffering = ()=>{
                e(), this.bufferedInvocations = [], this.stopBuffering = void 0;
            };
        }
    }
    globalsForEvent(e) {
        var t, i, n, r, s, o, a;
        if (!e) throw new Error("Event payload is required");
        var l = {}, u = this.instance.get_property("$groups") || [], c = this.instance.get_property("$stored_group_properties") || {};
        for (var [d, h] of Object.entries(c))l[d] = {
            id: u[d],
            type: d,
            properties: h
        };
        var { $set_once: _, $set: p } = e;
        return {
            event: j(j({}, G(e, eo)), {}, {
                properties: j(j(j({}, e.properties), p ? {
                    $set: j(j({}, null !== (t = null === (i = e.properties) || void 0 === i ? void 0 : i.$set) && void 0 !== t ? t : {}), p)
                } : {}), _ ? {
                    $set_once: j(j({}, null !== (n = null === (r = e.properties) || void 0 === r ? void 0 : r.$set_once) && void 0 !== n ? n : {}), _)
                } : {}),
                elements_chain: null !== (s = null === (o = e.properties) || void 0 === o ? void 0 : o.$elements_chain) && void 0 !== s ? s : "",
                distinct_id: null === (a = e.properties) || void 0 === a ? void 0 : a.distinct_id
            }),
            person: {
                properties: this.instance.get_property("$stored_person_properties")
            },
            groups: l
        };
    }
    setupSiteApp(e) {
        var t = {
            id: e.id,
            loaded: !1,
            errored: !1
        };
        this.apps[e.id] = t;
        var i = (i)=>{
            var n;
            for (var r of (this.apps[e.id].errored = !i, this.apps[e.id].loaded = !0, to.info("Site app with id ".concat(e.id, " ").concat(i ? "loaded" : "errored")), i && this.bufferedInvocations.length && (to.info("Processing ".concat(this.bufferedInvocations.length, " events for site app with id ").concat(e.id)), this.bufferedInvocations.forEach((e)=>{
                var i;
                return null === (i = t.processEvent) || void 0 === i ? void 0 : i.call(t, e);
            })), Object.values(this.apps)))if (!r.loaded) return;
            null === (n = this.stopBuffering) || void 0 === n || n.call(this);
        };
        try {
            var { processEvent: n } = e.init({
                posthog: this.instance,
                callback: (e)=>{
                    i(e);
                }
            });
            n && (t.processEvent = n);
        } catch (t) {
            to.error("Error while initializing PostHog app with config id ".concat(e.id), t), i(!1);
        }
    }
    onCapturedEvent(e) {
        if (0 !== Object.keys(this.apps).length) {
            var t = this.globalsForEvent(e);
            for (var i of Object.values(this.apps))try {
                var n;
                null === (n = i.processEvent) || void 0 === n || n.call(i, t);
            } catch (t) {
                to.error("Error while processing event ".concat(e.event, " for site app ").concat(i.id), t);
            }
        }
    }
    onRemoteConfig(e) {
        var t, i, n, r = this;
        if (null !== (t = this.siteAppLoaders) && void 0 !== t && t.length) {
            if (!this.isEnabled) return void to.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');
            for (var s of this.siteAppLoaders)this.setupSiteApp(s);
            this.instance.on("eventCaptured", (e)=>this.onCapturedEvent(e));
        } else if (null === (i = this.stopBuffering) || void 0 === i || i.call(this), null !== (n = e.siteApps) && void 0 !== n && n.length) if (this.isEnabled) {
            var o = function(e, t) {
                var i, n;
                _["__$$ph_site_app_".concat(e)] = r.instance, null === (i = _.__PosthogExtensions__) || void 0 === i || null === (n = i.loadSiteApp) || void 0 === n || n.call(i, r.instance, t, (t)=>{
                    if (t) return to.error("Error while initializing PostHog app with config id ".concat(e), t);
                });
            };
            for (var { id: a, url: l } of e.siteApps)o(a, l);
        } else to.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');
    }
}
var no = {}, ro = ()=>{}, so = "posthog", oo = !dr && -1 === (null == h ? void 0 : h.indexOf("MSIE")) && -1 === (null == h ? void 0 : h.indexOf("Mozilla")), ao = ()=>{
    var e, i, n;
    return {
        api_host: "https://us.i.posthog.com",
        ui_host: null,
        token: "",
        autocapture: !0,
        rageclick: !0,
        cross_subdomain_cookie: (i = null == a ? void 0 : a.location, n = null == i ? void 0 : i.hostname, !!F(n) && "herokuapp.com" !== n.split(".").slice(-2).join(".")),
        persistence: "localStorage+cookie",
        persistence_name: "",
        loaded: ro,
        store_google: !0,
        custom_campaign_params: [],
        custom_blocked_useragents: [],
        save_referrer: !0,
        capture_pageview: !0,
        capture_pageleave: "if_capture_pageview",
        debug: l && F(null == l ? void 0 : l.search) && -1 !== l.search.indexOf("__posthog_debug=true") || !1,
        verbose: !1,
        cookie_expiration: 365,
        upgrade: !1,
        disable_session_recording: !1,
        disable_persistence: !1,
        disable_web_experiments: !0,
        disable_surveys: !1,
        enable_recording_console_log: void 0,
        secure_cookie: "https:" === (null == t || null === (e = t.location) || void 0 === e ? void 0 : e.protocol),
        ip: !0,
        opt_out_capturing_by_default: !1,
        opt_out_persistence_by_default: !1,
        opt_out_useragent_filter: !1,
        opt_out_capturing_persistence_type: "localStorage",
        opt_out_capturing_cookie_prefix: null,
        opt_in_site_apps: !1,
        property_denylist: [],
        respect_dnt: !1,
        sanitize_properties: null,
        request_headers: {},
        inapp_protocol: "//",
        inapp_link_new_window: !1,
        request_batching: !0,
        properties_string_max_length: 65535,
        session_recording: {},
        mask_all_element_attributes: !1,
        mask_all_text: !1,
        advanced_disable_decide: !1,
        advanced_disable_feature_flags: !1,
        advanced_disable_feature_flags_on_first_load: !1,
        advanced_disable_toolbar_metrics: !1,
        feature_flag_request_timeout_ms: 3e3,
        on_request_error: (e)=>{
            var t = "Bad HTTP status: " + e.statusCode + " " + e.text;
            q.error(t);
        },
        get_device_id: (e)=>e,
        _onCapture: ro,
        capture_performance: void 0,
        name: "posthog",
        bootstrap: {},
        disable_compression: !1,
        session_idle_timeout_seconds: 1800,
        person_profiles: "identified_only",
        __add_tracing_headers: !1,
        before_send: void 0
    };
}, lo = (e)=>{
    var t = {};
    R(e.process_person) || (t.person_profiles = e.process_person), R(e.xhr_headers) || (t.request_headers = e.xhr_headers), R(e.cookie_name) || (t.persistence_name = e.cookie_name), R(e.disable_cookie) || (t.disable_persistence = e.disable_cookie);
    var i = K({}, t, e);
    return x(e.property_blacklist) && (R(e.property_denylist) ? i.property_denylist = e.property_blacklist : x(e.property_denylist) ? i.property_denylist = [
        ...e.property_blacklist,
        ...e.property_denylist
    ] : q.error("Invalid value for property_denylist config: " + e.property_denylist)), i;
};
class uo {
    constructor(){
        W(this, "__forceAllowLocalhost", !1);
    }
    get _forceAllowLocalhost() {
        return this.__forceAllowLocalhost;
    }
    set _forceAllowLocalhost(e) {
        q.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"), this.__forceAllowLocalhost = e;
    }
}
class co {
    get decideEndpointWasHit() {
        var e, t;
        return null !== (e = null === (t = this.featureFlags) || void 0 === t ? void 0 : t.hasLoadedFlags) && void 0 !== e && e;
    }
    constructor(){
        W(this, "webPerformance", new uo), W(this, "version", p.LIB_VERSION), W(this, "_internalEventEmitter", new Or), this.config = ao(), this.SentryIntegration = Ir, this.sentryIntegration = (e)=>(function(e, t) {
                var i = xr(e, t);
                return {
                    name: kr,
                    processEvent: (e)=>i(e)
                };
            })(this, e), this.__request_queue = [], this.__loaded = !1, this.analyticsDefaultEndpoint = "/e/", this._initialPageviewCaptured = !1, this._initialPersonProfilesConfig = null, this.featureFlags = new Ge(this), this.toolbar = new lr(this), this.scrollManager = new Ms(this), this.pageViewManager = new $r(this), this.surveys = new bs(this), this.experiments = new Qs(this), this.exceptions = new Zs(this), this.rateLimiter = new ws(this), this.requestRouter = new Er(this), this.consent = new Ws(this), this.people = {
            set: (e, t, i)=>{
                var n = F(e) ? {
                    [e]: t
                } : e;
                this.setPersonProperties(n), null == i || i({});
            },
            set_once: (e, t, i)=>{
                var n = F(e) ? {
                    [e]: t
                } : e;
                this.setPersonProperties(void 0, n), null == i || i({});
            }
        }, this.on("eventCaptured", (e)=>q.info('send "'.concat(null == e ? void 0 : e.event, '"'), e));
    }
    init(e, t, i) {
        if (i && i !== so) {
            var n, r = null !== (n = no[i]) && void 0 !== n ? n : new co;
            return r._init(e, t, i), no[i] = r, no[so][i] = r, r;
        }
        return this._init(e, t, i);
    }
    _init(i) {
        var n, r, s, o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, a = arguments.length > 2 ? arguments[2] : void 0;
        if (R(i) || T(i)) return q.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"), this;
        if (this.__loaded) return q.warn("You have already initialized PostHog! Re-initializing is a no-op"), this;
        this.__loaded = !0, this.config = {}, this._triggered_notifs = [], o.person_profiles && (this._initialPersonProfilesConfig = o.person_profiles), this.set_config(K({}, ao(), lo(o), {
            name: a,
            token: i
        })), this.config.on_xhr_error && q.error("on_xhr_error is deprecated. Use on_request_error instead"), this.compression = o.disable_compression ? void 0 : e.GZipJS, this.persistence = new bi(this.config), this.sessionPersistence = "sessionStorage" === this.config.persistence || "memory" === this.config.persistence ? this.persistence : new bi(j(j({}, this.config), {}, {
            persistence: "sessionStorage"
        }));
        var l = j({}, this.persistence.props), u = j({}, this.sessionPersistence.props);
        if (this._requestQueue = new ur((e)=>this._send_retriable_request(e)), this._retryQueue = new mr(this), this.__request_queue = [], this.config.__preview_experimental_cookieless_mode || (this.sessionManager = new wr(this), this.sessionPropsManager = new Es(this.sessionManager, this.persistence)), new zs(this).startIfEnabledOrStop(), this.siteApps = new io(this), null === (n = this.siteApps) || void 0 === n || n.init(), this.config.__preview_experimental_cookieless_mode || (this.sessionRecording = new ir(this), this.sessionRecording.startIfEnabledOrStop()), this.config.disable_scroll_properties || this.scrollManager.startMeasuringScrollPosition(), this.autocapture = new Hs(this), this.autocapture.startIfEnabled(), this.surveys.loadIfEnabled(), this.heatmaps = new Ls(this), this.heatmaps.startIfEnabled(), this.webVitalsAutocapture = new Ks(this), this.exceptionObserver = new Vs(this), this.exceptionObserver.startIfEnabled(), this.deadClicksAutocapture = new Ts(this, Fs), this.deadClicksAutocapture.startIfEnabled(), p.DEBUG = p.DEBUG || this.config.debug, p.DEBUG && q.info("Starting in debug mode", {
            this: this,
            config: o,
            thisC: j({}, this.config),
            p: l,
            s: u
        }), this._sync_opt_out_with_persistence(), void 0 !== (null === (r = o.bootstrap) || void 0 === r ? void 0 : r.distinctID)) {
            var c, d, h = this.config.get_device_id(Ze()), _ = null !== (c = o.bootstrap) && void 0 !== c && c.isIdentifiedID ? h : o.bootstrap.distinctID;
            this.persistence.set_property(Te, null !== (d = o.bootstrap) && void 0 !== d && d.isIdentifiedID ? "identified" : "anonymous"), this.register({
                distinct_id: o.bootstrap.distinctID,
                $device_id: _
            });
        }
        if (this._hasBootstrappedFeatureFlags()) {
            var v, g, f = Object.keys((null === (v = o.bootstrap) || void 0 === v ? void 0 : v.featureFlags) || {}).filter((e)=>{
                var t, i;
                return !(null === (t = o.bootstrap) || void 0 === t || null === (i = t.featureFlags) || void 0 === i || !i[e]);
            }).reduce((e, t)=>{
                var i, n;
                return e[t] = (null === (i = o.bootstrap) || void 0 === i || null === (n = i.featureFlags) || void 0 === n ? void 0 : n[t]) || !1, e;
            }, {}), m = Object.keys((null === (g = o.bootstrap) || void 0 === g ? void 0 : g.featureFlagPayloads) || {}).filter((e)=>f[e]).reduce((e, t)=>{
                var i, n, r, s;
                null !== (i = o.bootstrap) && void 0 !== i && null !== (n = i.featureFlagPayloads) && void 0 !== n && n[t] && (e[t] = null === (r = o.bootstrap) || void 0 === r || null === (s = r.featureFlagPayloads) || void 0 === s ? void 0 : s[t]);
                return e;
            }, {});
            this.featureFlags.receivedFeatureFlags({
                featureFlags: f,
                featureFlagPayloads: m
            });
        }
        if (this.config.__preview_experimental_cookieless_mode) this.register_once({
            distinct_id: qe,
            $device_id: null
        }, "");
        else if (!this.get_distinct_id()) {
            var b = this.config.get_device_id(Ze());
            this.register_once({
                distinct_id: b,
                $device_id: b
            }, ""), this.persistence.set_property(Te, "anonymous");
        }
        return null == t || null === (s = t.addEventListener) || void 0 === s || s.call(t, "onpagehide" in self ? "pagehide" : "unload", this._handle_unload.bind(this)), this.toolbar.maybeLoadToolbar(), o.segment ? Tr(this, ()=>this._loaded()) : this._loaded(), I(this.config._onCapture) && this.config._onCapture !== ro && (q.warn("onCapture is deprecated. Please use `before_send` instead"), this.on("eventCaptured", (e)=>this.config._onCapture(e.event, e))), this;
    }
    _onRemoteConfig(t) {
        var i, n, r, s, o, l, u, c, d;
        if (!a || !a.body) return q.info("document not ready yet, trying again in 500 milliseconds..."), void setTimeout(()=>{
            this._onRemoteConfig(t);
        }, 500);
        this.compression = void 0, t.supportedCompression && !this.config.disable_compression && (this.compression = m(t.supportedCompression, e.GZipJS) ? e.GZipJS : m(t.supportedCompression, e.Base64) ? e.Base64 : void 0), null !== (i = t.analytics) && void 0 !== i && i.endpoint && (this.analyticsDefaultEndpoint = t.analytics.endpoint), this.set_config({
            person_profiles: this._initialPersonProfilesConfig ? this._initialPersonProfilesConfig : t.defaultIdentifiedOnly ? "identified_only" : "always"
        }), null === (n = this.siteApps) || void 0 === n || n.onRemoteConfig(t), null === (r = this.sessionRecording) || void 0 === r || r.onRemoteConfig(t), null === (s = this.autocapture) || void 0 === s || s.onRemoteConfig(t), null === (o = this.heatmaps) || void 0 === o || o.onRemoteConfig(t), null === (l = this.surveys) || void 0 === l || l.onRemoteConfig(t), null === (u = this.webVitalsAutocapture) || void 0 === u || u.onRemoteConfig(t), null === (c = this.exceptionObserver) || void 0 === c || c.onRemoteConfig(t), null === (d = this.deadClicksAutocapture) || void 0 === d || d.onRemoteConfig(t);
    }
    _loaded() {
        try {
            this.config.loaded(this);
        } catch (e) {
            q.critical("`loaded` function failed", e);
        }
        this._start_queue_if_opted_in(), this.config.capture_pageview && setTimeout(()=>{
            this.consent.isOptedIn() && this._captureInitialPageview();
        }, 1), new rr(this).load(), this.featureFlags.decide();
    }
    _start_queue_if_opted_in() {
        var e;
        this.has_opted_out_capturing() || this.config.request_batching && (null === (e = this._requestQueue) || void 0 === e || e.enable());
    }
    _dom_loaded() {
        this.has_opted_out_capturing() || J(this.__request_queue, (e)=>this._send_retriable_request(e)), this.__request_queue = [], this._start_queue_if_opted_in();
    }
    _handle_unload() {
        var e, t;
        this.config.request_batching ? (this._shouldCapturePageleave() && this.capture("$pageleave"), null === (e = this._requestQueue) || void 0 === e || e.unload(), null === (t = this._retryQueue) || void 0 === t || t.unload()) : this._shouldCapturePageleave() && this.capture("$pageleave", null, {
            transport: "sendBeacon"
        });
    }
    _send_request(e) {
        this.__loaded && (oo ? this.__request_queue.push(e) : this.rateLimiter.isServerRateLimited(e.batchKey) || (e.transport = e.transport || this.config.api_transport, e.url = _r(e.url, {
            ip: this.config.ip ? 1 : 0
        }), e.headers = j({}, this.config.request_headers), e.compression = "best-available" === e.compression ? this.compression : e.compression, e.fetchOptions = e.fetchOptions || this.config.fetch_options, ((e)=>{
            var t, i, n, r = j({}, e);
            r.timeout = r.timeout || 6e4, r.url = _r(r.url, {
                _: (new Date).getTime().toString(),
                ver: p.LIB_VERSION,
                compression: r.compression
            });
            var s = null !== (t = r.transport) && void 0 !== t ? t : "fetch", o = null !== (i = null === (n = ne(gr, (e)=>e.transport === s)) || void 0 === n ? void 0 : n.method) && void 0 !== i ? i : gr[0].method;
            if (!o) throw new Error("No available transport method");
            o(r);
        })(j(j({}, e), {}, {
            callback: (t)=>{
                var i, n, r;
                (this.rateLimiter.checkForLimiting(t), t.statusCode >= 400) && (null === (n = (r = this.config).on_request_error) || void 0 === n || n.call(r, t));
                null === (i = e.callback) || void 0 === i || i.call(e, t);
            }
        }))));
    }
    _send_retriable_request(e) {
        this._retryQueue ? this._retryQueue.retriableRequest(e) : this._send_request(e);
    }
    _execute_array(e) {
        var t, i = [], n = [], r = [];
        J(e, (e)=>{
            e && (t = e[0], x(t) ? r.push(e) : I(e) ? e.call(this) : x(e) && "alias" === t ? i.push(e) : x(e) && -1 !== t.indexOf("capture") && I(this[t]) ? r.push(e) : n.push(e));
        });
        var s = function(e, t) {
            J(e, function(e) {
                if (x(e[0])) {
                    var i = t;
                    Y(e, function(e) {
                        i = i[e[0]].apply(i, e.slice(1));
                    });
                } else this[e[0]].apply(this, e.slice(1));
            }, t);
        };
        s(i, this), s(n, this), s(r, this);
    }
    _hasBootstrappedFeatureFlags() {
        var e, t;
        return (null === (e = this.config.bootstrap) || void 0 === e ? void 0 : e.featureFlags) && Object.keys(null === (t = this.config.bootstrap) || void 0 === t ? void 0 : t.featureFlags).length > 0 || !1;
    }
    push(e) {
        this._execute_array([
            e
        ]);
    }
    capture(e, t, i) {
        var n;
        if (this.__loaded && this.persistence && this.sessionPersistence && this._requestQueue) {
            if (!this.consent.isOptedOut()) if (!R(e) && F(e)) {
                if (this.config.opt_out_useragent_filter || !this._is_bot()) {
                    var r = null != i && i.skip_client_rate_limiting ? void 0 : this.rateLimiter.clientRateLimitContext();
                    if (null == r || !r.isRateLimited) {
                        this.sessionPersistence.update_search_keyword(), this.config.store_google && this.sessionPersistence.update_campaign_params(), this.config.save_referrer && this.sessionPersistence.update_referrer_info(), (this.config.store_google || this.config.save_referrer) && this.persistence.set_initial_person_info();
                        var s = new Date, o = (null == i ? void 0 : i.timestamp) || s, a = {
                            uuid: Ze(),
                            event: e,
                            properties: this._calculate_event_properties(e, t || {}, o)
                        };
                        r && (a.properties.$lib_rate_limit_remaining_tokens = r.remainingTokens), (null == i ? void 0 : i.$set) && (a.$set = null == i ? void 0 : i.$set);
                        var l = this._calculate_set_once_properties(null == i ? void 0 : i.$set_once);
                        l && (a.$set_once = l), (a = te(a, null != i && i._noTruncate ? null : this.config.properties_string_max_length)).timestamp = o, R(null == i ? void 0 : i.timestamp) || (a.properties.$event_time_override_provided = !0, a.properties.$event_time_override_system_time = s);
                        var u = j(j({}, a.properties.$set), a.$set);
                        if (P(u) || this.setPersonPropertiesForFlags(u), !O(this.config.before_send)) {
                            var c = this._runBeforeSend(a);
                            if (!c) return;
                            a = c;
                        }
                        this._internalEventEmitter.emit("eventCaptured", a);
                        var d = {
                            method: "POST",
                            url: null !== (n = null == i ? void 0 : i._url) && void 0 !== n ? n : this.requestRouter.endpointFor("api", this.analyticsDefaultEndpoint),
                            data: a,
                            compression: "best-available",
                            batchKey: null == i ? void 0 : i._batchKey
                        };
                        return !this.config.request_batching || i && (null == i || !i._batchKey) || null != i && i.send_instantly ? this._send_retriable_request(d) : this._requestQueue.enqueue(d), a;
                    }
                    q.critical("This capture call is ignored due to client rate limiting.");
                }
            } else q.error("No event name provided to posthog.capture");
        } else q.uninitializedWarning("posthog.capture");
    }
    _addCaptureHook(e) {
        return this.on("eventCaptured", (t)=>e(t.event, t));
    }
    _calculate_event_properties(e, t, i) {
        if (i = i || new Date, !this.persistence || !this.sessionPersistence) return t;
        var n = this.persistence.remove_event_timer(e), r = j({}, t);
        if (r.token = this.config.token, this.config.__preview_experimental_cookieless_mode && (r.$cklsh_mode = !0), "$snapshot" === e) {
            var s = j(j({}, this.persistence.properties()), this.sessionPersistence.properties());
            return r.distinct_id = s.distinct_id, (!F(r.distinct_id) && !L(r.distinct_id) || T(r.distinct_id)) && q.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"), r;
        }
        var o = fi.properties();
        if (this.sessionManager) {
            var { sessionId: l, windowId: u } = this.sessionManager.checkAndGetSessionAndWindowId();
            r.$session_id = l, r.$window_id = u;
        }
        if (this.sessionRecording && (r.$recording_status = this.sessionRecording.status), this.requestRouter.region === br.CUSTOM && (r.$lib_custom_api_host = this.config.api_host), this.sessionPropsManager && this.config.__preview_send_client_session_params && ("$pageview" === e || "$pageleave" === e || "$autocapture" === e)) {
            var c = this.sessionPropsManager.getSessionProps();
            r = K(r, c);
        }
        if (!this.config.disable_scroll_properties) {
            var d = {};
            "$pageview" === e ? d = this.pageViewManager.doPageView(i) : "$pageleave" === e && (d = this.pageViewManager.doPageLeave(i)), r = K(r, d);
        }
        if ("$pageview" === e && a && (r.title = a.title), !R(n)) {
            var _ = i.getTime() - n;
            r.$duration = parseFloat((_ / 1e3).toFixed(3));
        }
        h && this.config.opt_out_useragent_filter && (r.$browser_type = this._is_bot() ? "bot" : "browser"), (r = K({}, o, this.persistence.properties(), this.sessionPersistence.properties(), r)).$is_identified = this._isIdentified(), x(this.config.property_denylist) ? Y(this.config.property_denylist, function(e) {
            delete r[e];
        }) : q.error("Invalid value for property_denylist config: " + this.config.property_denylist + " or property_blacklist config: " + this.config.property_blacklist);
        var p = this.config.sanitize_properties;
        p && (r = p(r, e));
        var v = this._hasPersonProcessing();
        return r.$process_person_profile = v, v && this._requirePersonProcessing("_calculate_event_properties"), r;
    }
    _calculate_set_once_properties(e) {
        if (!this.persistence || !this._hasPersonProcessing()) return e;
        var t = K({}, this.persistence.get_initial_props(), e || {}), i = this.config.sanitize_properties;
        return i && (t = i(t, "$set_once")), P(t) ? void 0 : t;
    }
    register(e, t) {
        var i;
        null === (i = this.persistence) || void 0 === i || i.register(e, t);
    }
    register_once(e, t, i) {
        var n;
        null === (n = this.persistence) || void 0 === n || n.register_once(e, t, i);
    }
    register_for_session(e) {
        var t;
        null === (t = this.sessionPersistence) || void 0 === t || t.register(e);
    }
    unregister(e) {
        var t;
        null === (t = this.persistence) || void 0 === t || t.unregister(e);
    }
    unregister_for_session(e) {
        var t;
        null === (t = this.sessionPersistence) || void 0 === t || t.unregister(e);
    }
    _register_single(e, t) {
        this.register({
            [e]: t
        });
    }
    getFeatureFlag(e, t) {
        return this.featureFlags.getFeatureFlag(e, t);
    }
    getFeatureFlagPayload(e) {
        var t = this.featureFlags.getFeatureFlagPayload(e);
        try {
            return JSON.parse(t);
        } catch (e) {
            return t;
        }
    }
    isFeatureEnabled(e, t) {
        return this.featureFlags.isFeatureEnabled(e, t);
    }
    reloadFeatureFlags() {
        this.featureFlags.reloadFeatureFlags();
    }
    updateEarlyAccessFeatureEnrollment(e, t) {
        this.featureFlags.updateEarlyAccessFeatureEnrollment(e, t);
    }
    getEarlyAccessFeatures(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        return this.featureFlags.getEarlyAccessFeatures(e, t);
    }
    on(e, t) {
        return this._internalEventEmitter.on(e, t);
    }
    onFeatureFlags(e) {
        return this.featureFlags.onFeatureFlags(e);
    }
    onSessionId(e) {
        var t, i;
        return null !== (t = null === (i = this.sessionManager) || void 0 === i ? void 0 : i.onSessionId(e)) && void 0 !== t ? t : ()=>{};
    }
    getSurveys(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        this.surveys.getSurveys(e, t);
    }
    getActiveMatchingSurveys(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        this.surveys.getActiveMatchingSurveys(e, t);
    }
    renderSurvey(e, t) {
        this.surveys.renderSurvey(e, t);
    }
    canRenderSurvey(e) {
        this.surveys.canRenderSurvey(e);
    }
    getNextSurveyStep(e, t, i) {
        return this.surveys.getNextSurveyStep(e, t, i);
    }
    identify(e, t, i) {
        if (!this.__loaded || !this.persistence) return q.uninitializedWarning("posthog.identify");
        if (L(e) && (e = e.toString(), q.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")), e) {
            if ([
                "distinct_id",
                "distinctid"
            ].includes(e.toLowerCase())) q.critical('The string "'.concat(e, '" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));
            else if (this._requirePersonProcessing("posthog.identify")) {
                var n = this.get_distinct_id();
                if (this.register({
                    $user_id: e
                }), !this.get_property("$device_id")) {
                    var r = n;
                    this.register_once({
                        $had_persisted_distinct_id: !0,
                        $device_id: r
                    }, "");
                }
                e !== n && e !== this.get_property(se) && (this.unregister(se), this.register({
                    distinct_id: e
                }));
                var s = "anonymous" === (this.persistence.get_property(Te) || "anonymous");
                e !== n && s ? (this.persistence.set_property(Te, "identified"), this.setPersonPropertiesForFlags(t || {}, !1), this.capture("$identify", {
                    distinct_id: e,
                    $anon_distinct_id: n
                }, {
                    $set: t || {},
                    $set_once: i || {}
                }), this.featureFlags.setAnonymousDistinctId(n)) : (t || i) && this.setPersonProperties(t, i), e !== n && (this.reloadFeatureFlags(), this.unregister(Fe));
            }
        } else q.error("Unique user id has not been set in posthog.identify");
    }
    setPersonProperties(e, t) {
        (e || t) && this._requirePersonProcessing("posthog.setPersonProperties") && (this.setPersonPropertiesForFlags(e || {}), this.capture("$set", {
            $set: e || {},
            $set_once: t || {}
        }));
    }
    group(e, t, i) {
        if (e && t) {
            if (this._requirePersonProcessing("posthog.group")) {
                var n = this.getGroups();
                n[e] !== t && this.resetGroupPropertiesForFlags(e), this.register({
                    $groups: j(j({}, n), {}, {
                        [e]: t
                    })
                }), i && (this.capture("$groupidentify", {
                    $group_type: e,
                    $group_key: t,
                    $group_set: i
                }), this.setGroupPropertiesForFlags({
                    [e]: i
                })), n[e] === t || i || this.reloadFeatureFlags();
            }
        } else q.error("posthog.group requires a group type and group key");
    }
    resetGroups() {
        this.register({
            $groups: {}
        }), this.resetGroupPropertiesForFlags(), this.reloadFeatureFlags();
    }
    setPersonPropertiesForFlags(e) {
        var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
        this.featureFlags.setPersonPropertiesForFlags(e, t);
    }
    resetPersonPropertiesForFlags() {
        this.featureFlags.resetPersonPropertiesForFlags();
    }
    setGroupPropertiesForFlags(e) {
        var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
        this._requirePersonProcessing("posthog.setGroupPropertiesForFlags") && this.featureFlags.setGroupPropertiesForFlags(e, t);
    }
    resetGroupPropertiesForFlags(e) {
        this.featureFlags.resetGroupPropertiesForFlags(e);
    }
    reset(e) {
        var t, i, n, r, s;
        if (q.info("reset"), !this.__loaded) return q.uninitializedWarning("posthog.reset");
        var o = this.get_property("$device_id");
        if (this.consent.reset(), null === (t = this.persistence) || void 0 === t || t.clear(), null === (i = this.sessionPersistence) || void 0 === i || i.clear(), null === (n = this.surveys) || void 0 === n || n.reset(), null === (r = this.persistence) || void 0 === r || r.set_property(Te, "anonymous"), null === (s = this.sessionManager) || void 0 === s || s.resetSessionId(), this.config.__preview_experimental_cookieless_mode) this.register_once({
            distinct_id: qe,
            $device_id: null
        }, "");
        else {
            var a = this.config.get_device_id(Ze());
            this.register_once({
                distinct_id: a,
                $device_id: e ? a : o
            }, "");
        }
    }
    get_distinct_id() {
        return this.get_property("distinct_id");
    }
    getGroups() {
        return this.get_property("$groups") || {};
    }
    get_session_id() {
        var e, t;
        return null !== (e = null === (t = this.sessionManager) || void 0 === t ? void 0 : t.checkAndGetSessionAndWindowId(!0).sessionId) && void 0 !== e ? e : "";
    }
    get_session_replay_url(e) {
        if (!this.sessionManager) return "";
        var { sessionId: t, sessionStartTimestamp: i } = this.sessionManager.checkAndGetSessionAndWindowId(!0), n = this.requestRouter.endpointFor("ui", "/project/".concat(this.config.token, "/replay/").concat(t));
        if (null != e && e.withTimestamp && i) {
            var r, s = null !== (r = e.timestampLookBack) && void 0 !== r ? r : 10;
            if (!i) return n;
            var o = Math.max(Math.floor(((new Date).getTime() - i) / 1e3) - s, 0);
            n += "?t=".concat(o);
        }
        return n;
    }
    alias(e, t) {
        return e === this.get_property(re) ? (q.critical("Attempting to create alias for existing People user - aborting."), -2) : this._requirePersonProcessing("posthog.alias") ? (R(t) && (t = this.get_distinct_id()), e !== t ? (this._register_single(se, e), this.capture("$create_alias", {
            alias: e,
            distinct_id: t
        })) : (q.warn("alias matches current distinct_id - skipping api call."), this.identify(e), -1)) : void 0;
    }
    set_config(e) {
        var t, i, n, r, s = j({}, this.config);
        C(e) && (K(this.config, lo(e)), null === (t = this.persistence) || void 0 === t || t.update_config(this.config, s), this.sessionPersistence = "sessionStorage" === this.config.persistence || "memory" === this.config.persistence ? this.persistence : new bi(j(j({}, this.config), {}, {
            persistence: "sessionStorage"
        })), at.is_supported() && "true" === at.get("ph_debug") && (this.config.debug = !0), this.config.debug && (p.DEBUG = !0, q.info("set_config", {
            config: e,
            oldConfig: s,
            newConfig: j({}, this.config)
        })), null === (i = this.sessionRecording) || void 0 === i || i.startIfEnabledOrStop(), null === (n = this.autocapture) || void 0 === n || n.startIfEnabled(), null === (r = this.heatmaps) || void 0 === r || r.startIfEnabled(), this.surveys.loadIfEnabled(), this._sync_opt_out_with_persistence());
    }
    startSessionRecording(e) {
        var t = !0 === e, i = {
            sampling: t || !(null == e || !e.sampling),
            linked_flag: t || !(null == e || !e.linked_flag),
            url_trigger: t || !(null == e || !e.url_trigger),
            event_trigger: t || !(null == e || !e.event_trigger)
        };
        if (Object.values(i).some(Boolean)) {
            var n, r, s, o, a;
            if (null === (n = this.sessionManager) || void 0 === n || n.checkAndGetSessionAndWindowId(), i.sampling) null === (r = this.sessionRecording) || void 0 === r || r.overrideSampling();
            if (i.linked_flag) null === (s = this.sessionRecording) || void 0 === s || s.overrideLinkedFlag();
            if (i.url_trigger) null === (o = this.sessionRecording) || void 0 === o || o.overrideTrigger("url");
            if (i.event_trigger) null === (a = this.sessionRecording) || void 0 === a || a.overrideTrigger("event");
        }
        this.set_config({
            disable_session_recording: !1
        });
    }
    stopSessionRecording() {
        this.set_config({
            disable_session_recording: !0
        });
    }
    sessionRecordingStarted() {
        var e;
        return !(null === (e = this.sessionRecording) || void 0 === e || !e.started);
    }
    captureException(e, t) {
        var i, n = new Error("PostHog syntheticException"), r = I(null === (i = _.__PosthogExtensions__) || void 0 === i ? void 0 : i.parseErrorAsProperties) ? _.__PosthogExtensions__.parseErrorAsProperties([
            e.message,
            void 0,
            void 0,
            void 0,
            e
        ], {
            syntheticException: n
        }) : j({
            $exception_level: "error",
            $exception_list: [
                {
                    type: e.name,
                    value: e.message,
                    mechanism: {
                        handled: !0,
                        synthetic: !1
                    }
                }
            ]
        }, t);
        this.exceptions.sendExceptionEvent(r);
    }
    loadToolbar(e) {
        return this.toolbar.loadToolbar(e);
    }
    get_property(e) {
        var t;
        return null === (t = this.persistence) || void 0 === t ? void 0 : t.props[e];
    }
    getSessionProperty(e) {
        var t;
        return null === (t = this.sessionPersistence) || void 0 === t ? void 0 : t.props[e];
    }
    toString() {
        var e, t = null !== (e = this.config.name) && void 0 !== e ? e : so;
        return t !== so && (t = so + "." + t), t;
    }
    _isIdentified() {
        var e, t;
        return "identified" === (null === (e = this.persistence) || void 0 === e ? void 0 : e.get_property(Te)) || "identified" === (null === (t = this.sessionPersistence) || void 0 === t ? void 0 : t.get_property(Te));
    }
    _hasPersonProcessing() {
        var e, t, i, n;
        return !("never" === this.config.person_profiles || "identified_only" === this.config.person_profiles && !this._isIdentified() && P(this.getGroups()) && (null === (e = this.persistence) || void 0 === e || null === (t = e.props) || void 0 === t || !t[se]) && (null === (i = this.persistence) || void 0 === i || null === (n = i.props) || void 0 === n || !n[De]));
    }
    _shouldCapturePageleave() {
        return !0 === this.config.capture_pageleave || "if_capture_pageview" === this.config.capture_pageleave && this.config.capture_pageview;
    }
    createPersonProfile() {
        this._hasPersonProcessing() || this._requirePersonProcessing("posthog.createPersonProfile") && this.setPersonProperties({}, {});
    }
    _requirePersonProcessing(e) {
        return "never" === this.config.person_profiles ? (q.error(e + ' was called, but process_person is set to "never". This call will be ignored.'), !1) : (this._register_single(De, !0), !0);
    }
    _sync_opt_out_with_persistence() {
        var e, t, i, n, r = this.consent.isOptedOut(), s = this.config.opt_out_persistence_by_default, o = this.config.disable_persistence || r && !!s;
        (null === (e = this.persistence) || void 0 === e ? void 0 : e.disabled) !== o && (null === (i = this.persistence) || void 0 === i || i.set_disabled(o));
        (null === (t = this.sessionPersistence) || void 0 === t ? void 0 : t.disabled) !== o && (null === (n = this.sessionPersistence) || void 0 === n || n.set_disabled(o));
    }
    opt_in_capturing(e) {
        var t;
        (this.consent.optInOut(!0), this._sync_opt_out_with_persistence(), R(null == e ? void 0 : e.captureEventName) || null != e && e.captureEventName) && this.capture(null !== (t = null == e ? void 0 : e.captureEventName) && void 0 !== t ? t : "$opt_in", null == e ? void 0 : e.captureProperties, {
            send_instantly: !0
        });
        this.config.capture_pageview && this._captureInitialPageview();
    }
    opt_out_capturing() {
        this.consent.optInOut(!1), this._sync_opt_out_with_persistence();
    }
    has_opted_in_capturing() {
        return this.consent.isOptedIn();
    }
    has_opted_out_capturing() {
        return this.consent.isOptedOut();
    }
    clear_opt_in_out_capturing() {
        this.consent.reset(), this._sync_opt_out_with_persistence();
    }
    _is_bot() {
        return o ? Is(o, this.config.custom_blocked_useragents) : void 0;
    }
    _captureInitialPageview() {
        a && !this._initialPageviewCaptured && (this._initialPageviewCaptured = !0, this.capture("$pageview", {
            title: a.title
        }, {
            send_instantly: !0
        }));
    }
    debug(e) {
        !1 === e ? (null == t || t.console.log("You've disabled debug mode."), localStorage && localStorage.removeItem("ph_debug"), this.set_config({
            debug: !1
        })) : (null == t || t.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."), localStorage && localStorage.setItem("ph_debug", "true"), this.set_config({
            debug: !0
        }));
    }
    _runBeforeSend(e) {
        if (O(this.config.before_send)) return e;
        var t = x(this.config.before_send) ? this.config.before_send : [
            this.config.before_send
        ], i = e;
        for (var n of t){
            if (i = n(i), O(i)) {
                var r = "Event '".concat(e.event, "' was rejected in beforeSend function");
                return D(e.event) ? q.warn("".concat(r, ". This can cause unexpected behavior.")) : q.info(r), null;
            }
            i.properties && !P(i.properties) || q.warn("Event '".concat(e.event, "' has no properties after beforeSend function, this is likely an error."));
        }
        return i;
    }
}
!function(e, t) {
    for(var i = 0; i < t.length; i++)e.prototype[t[i]] = Z(e.prototype[t[i]]);
}(co, [
    "identify"
]);
var ho, _o = (ho = no[so] = new co, function() {
    function e() {
        e.done || (e.done = !0, oo = !1, Y(no, function(e) {
            e._dom_loaded();
        }));
    }
    null != a && a.addEventListener && ("complete" === a.readyState ? e() : a.addEventListener("DOMContentLoaded", e, !1)), t && ie(t, "load", e, !0);
}(), ho);
;
 //# sourceMappingURL=module.js.map
}}),
"[project]/node_modules/posthog-js/react/dist/esm/index.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "PostHogContext": (()=>PostHogContext),
    "PostHogFeature": (()=>PostHogFeature),
    "PostHogProvider": (()=>PostHogProvider),
    "useActiveFeatureFlags": (()=>useActiveFeatureFlags),
    "useFeatureFlagEnabled": (()=>useFeatureFlagEnabled),
    "useFeatureFlagPayload": (()=>useFeatureFlagPayload),
    "useFeatureFlagVariantKey": (()=>useFeatureFlagVariantKey),
    "usePostHog": (()=>usePostHog)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$posthog$2d$js$2f$dist$2f$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/posthog-js/dist/module.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
;
;
var PostHogContext = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createContext"])({
    client: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$posthog$2d$js$2f$dist$2f$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]
});
function PostHogProvider(_a) {
    var children = _a.children, client = _a.client, apiKey = _a.apiKey, options = _a.options;
    var posthog = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(function() {
        if (client && apiKey) {
            console.warn('[PostHog.js] You have provided both a client and an apiKey to PostHogProvider. The apiKey will be ignored in favour of the client.');
        }
        if (client && options) {
            console.warn('[PostHog.js] You have provided both a client and options to PostHogProvider. The options will be ignored in favour of the client.');
        }
        if (client) {
            return client;
        }
        if (apiKey) {
            if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$posthog$2d$js$2f$dist$2f$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].__loaded) {
                console.warn('[PostHog.js] was already loaded elsewhere. This may cause issues.');
            }
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$posthog$2d$js$2f$dist$2f$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].init(apiKey, options);
        }
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$posthog$2d$js$2f$dist$2f$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"];
    }, [
        client,
        apiKey
    ]);
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement(PostHogContext.Provider, {
        value: {
            client: posthog
        }
    }, children);
}
var usePostHog = function() {
    var client = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useContext"])(PostHogContext).client;
    return client;
};
function useFeatureFlagEnabled(flag) {
    var client = usePostHog();
    var _a = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(), featureEnabled = _a[0], setFeatureEnabled = _a[1];
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(function() {
        return client.onFeatureFlags(function() {
            setFeatureEnabled(client.isFeatureEnabled(flag));
        });
    }, [
        client,
        flag
    ]);
    return featureEnabled;
}
function useFeatureFlagPayload(flag) {
    var client = usePostHog();
    var _a = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(), featureFlagPayload = _a[0], setFeatureFlagPayload = _a[1];
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(function() {
        return client.onFeatureFlags(function() {
            setFeatureFlagPayload(client.getFeatureFlagPayload(flag));
        });
    }, [
        client,
        flag
    ]);
    return featureFlagPayload;
}
function useActiveFeatureFlags() {
    var client = usePostHog();
    var _a = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(), featureFlags = _a[0], setFeatureFlags = _a[1];
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(function() {
        return client.onFeatureFlags(function(flags) {
            setFeatureFlags(flags);
        });
    }, [
        client
    ]);
    return featureFlags;
}
function useFeatureFlagVariantKey(flag) {
    var client = usePostHog();
    var _a = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(), featureFlagVariantKey = _a[0], setFeatureFlagVariantKey = _a[1];
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(function() {
        return client.onFeatureFlags(function() {
            setFeatureFlagVariantKey(client.getFeatureFlag(flag));
        });
    }, [
        client,
        flag
    ]);
    return featureFlagVariantKey;
}
/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for(var s, i = 1, n = arguments.length; i < n; i++){
            s = arguments[i];
            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
function __rest(s, e) {
    var t = {};
    for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function") for(var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++){
        if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
    }
    return t;
}
var isFunction = function(f) {
    return typeof f === 'function';
};
var isUndefined = function(x) {
    return x === void 0;
};
var isNull = function(x) {
    return x === null;
};
function PostHogFeature(_a) {
    var flag = _a.flag, match = _a.match, children = _a.children, fallback = _a.fallback, visibilityObserverOptions = _a.visibilityObserverOptions, trackInteraction = _a.trackInteraction, trackView = _a.trackView, props = __rest(_a, [
        "flag",
        "match",
        "children",
        "fallback",
        "visibilityObserverOptions",
        "trackInteraction",
        "trackView"
    ]);
    var payload = useFeatureFlagPayload(flag);
    var variant = useFeatureFlagVariantKey(flag);
    var shouldTrackInteraction = trackInteraction !== null && trackInteraction !== void 0 ? trackInteraction : true;
    var shouldTrackView = trackView !== null && trackView !== void 0 ? trackView : true;
    if (isUndefined(match) || variant === match) {
        var childNode = isFunction(children) ? children(payload) : children;
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement(VisibilityAndClickTrackers, __assign({
            flag: flag,
            options: visibilityObserverOptions,
            trackInteraction: shouldTrackInteraction,
            trackView: shouldTrackView
        }, props), childNode);
    }
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].Fragment, null, fallback);
}
function captureFeatureInteraction(flag, posthog) {
    var _a;
    posthog.capture('$feature_interaction', {
        feature_flag: flag,
        $set: (_a = {}, _a["$feature_interaction/".concat(flag)] = true, _a)
    });
}
function captureFeatureView(flag, posthog) {
    posthog.capture('$feature_view', {
        feature_flag: flag
    });
}
function VisibilityAndClickTracker(_a) {
    var flag = _a.flag, children = _a.children, onIntersect = _a.onIntersect, onClick = _a.onClick, trackView = _a.trackView, options = _a.options, props = __rest(_a, [
        "flag",
        "children",
        "onIntersect",
        "onClick",
        "trackView",
        "options"
    ]);
    var ref = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    var posthog = usePostHog();
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(function() {
        if (isNull(ref.current) || !trackView) return;
        var observer = new IntersectionObserver(function(_a) {
            var entry = _a[0];
            return onIntersect(entry);
        }, __assign({
            threshold: 0.1
        }, options));
        observer.observe(ref.current);
        return function() {
            return observer.disconnect();
        };
    }, [
        flag,
        options,
        posthog,
        ref,
        trackView,
        onIntersect
    ]);
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement("div", __assign({
        ref: ref
    }, props, {
        onClick: onClick
    }), children);
}
function VisibilityAndClickTrackers(_a) {
    var flag = _a.flag, children = _a.children, trackInteraction = _a.trackInteraction, trackView = _a.trackView, options = _a.options, props = __rest(_a, [
        "flag",
        "children",
        "trackInteraction",
        "trackView",
        "options"
    ]);
    var clickTrackedRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(false);
    var visibilityTrackedRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(false);
    var posthog = usePostHog();
    var cachedOnClick = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(function() {
        if (!clickTrackedRef.current && trackInteraction) {
            captureFeatureInteraction(flag, posthog);
            clickTrackedRef.current = true;
        }
    }, [
        flag,
        posthog,
        trackInteraction
    ]);
    var onIntersect = function(entry) {
        if (!visibilityTrackedRef.current && entry.isIntersecting) {
            captureFeatureView(flag, posthog);
            visibilityTrackedRef.current = true;
        }
    };
    var trackedChildren = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Children"].map(children, function(child) {
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement(VisibilityAndClickTracker, __assign({
            flag: flag,
            onClick: cachedOnClick,
            onIntersect: onIntersect,
            trackView: trackView,
            options: options
        }, props), child);
    });
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].createElement(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].Fragment, null, trackedChildren);
}
;
}}),

};

//# sourceMappingURL=node_modules_2b6be9._.js.map