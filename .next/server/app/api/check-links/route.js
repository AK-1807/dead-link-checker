(()=>{var e={};e.id=718,e.ids=[718],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},9428:e=>{"use strict";e.exports=require("buffer")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},1204:e=>{"use strict";e.exports=require("string_decoder")},3997:e=>{"use strict";e.exports=require("tty")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},3636:e=>{"use strict";e.exports=import("puppeteer")},4589:e=>{"use strict";e.exports=require("node:assert")},6698:e=>{"use strict";e.exports=require("node:async_hooks")},4573:e=>{"use strict";e.exports=require("node:buffer")},7540:e=>{"use strict";e.exports=require("node:console")},7598:e=>{"use strict";e.exports=require("node:crypto")},3053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},8474:e=>{"use strict";e.exports=require("node:events")},7067:e=>{"use strict";e.exports=require("node:http")},2467:e=>{"use strict";e.exports=require("node:http2")},7030:e=>{"use strict";e.exports=require("node:net")},643:e=>{"use strict";e.exports=require("node:perf_hooks")},1792:e=>{"use strict";e.exports=require("node:querystring")},7075:e=>{"use strict";e.exports=require("node:stream")},1692:e=>{"use strict";e.exports=require("node:tls")},3136:e=>{"use strict";e.exports=require("node:url")},7975:e=>{"use strict";e.exports=require("node:util")},3429:e=>{"use strict";e.exports=require("node:util/types")},5919:e=>{"use strict";e.exports=require("node:worker_threads")},8522:e=>{"use strict";e.exports=require("node:zlib")},4806:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{patchFetch:()=>c,routeModule:()=>p,serverHooks:()=>x,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>l});var i=r(2706),o=r(8203),u=r(5994),n=r(8292),a=e([n]);n=(a.then?(await a)():a)[0];let p=new i.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/check-links/route",pathname:"/api/check-links",filename:"route",bundlePath:"app/api/check-links/route"},resolvedPagePath:"/Users/bb/sites/git repos/dead-link-checker/app/api/check-links/route.js",nextConfigOutput:"",userland:n}),{workAsyncStorage:d,workUnitAsyncStorage:l,serverHooks:x}=p;function c(){return(0,u.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:l})}s()}catch(e){s(e)}})},6487:()=>{},8335:()=>{},8292:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{POST:()=>a});var i=r(3636),o=r(5859),u=r(3281),n=e([i]);async function a(e){let{url:t}=await e.json();if(!t)return new Response(JSON.stringify({error:"URL is required"}),{status:400});let r=new URL(t),s=`${r.protocol}//${r.host}`;try{let e=await i.default.launch({headless:!0}),r=await e.newPage();await r.setUserAgent("Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"),await r.goto(t,{waitUntil:"networkidle2"});let o=await r.content();await e.close();let n=u.Hh(o),a=[];n("a").each((e,t)=>{let r=n(t).attr("href");r&&((r.startsWith("/")||!r.startsWith("http"))&&(r=s+r),a.push(r))});let p=await c(a);return new Response(JSON.stringify({status:"success",linkStatus:p}),{status:200})}catch(e){return console.error("Error in crawling:",e),new Response(JSON.stringify({error:"Failed to fetch the URL or crawl the page"}),{status:500})}}async function c(e){let t=[];for(let r of e)try{let e=await o.A.get(r,{timeout:5e3});200!=e.status&&t.push({link:r,status:e.status})}catch(e){t.push({link:r,status:e.response?e.response.status:"Timeout/Other Error"})}return t}i=(n.then?(await n)():n)[0],s()}catch(e){s(e)}})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[994,922],()=>r(4806));module.exports=s})();